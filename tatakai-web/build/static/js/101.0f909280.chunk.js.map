{"version":3,"file":"static/js/101.0f909280.chunk.js","mappings":"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","sources":["components/BodyMetricLogger.js","components/Card.js","components/PageHeader.js","pages/BodyMetricLoggerPage.js"],"sourcesContent":["// frontend/src/components/BodyMetricLogger.js\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { motion } from 'framer-motion';\nimport { FaCheck, FaWeight, FaChartBar, FaRuler } from 'react-icons/fa';\nimport './BodyMetricLogger.css';\n\nconst BodyMetricLogger = ({ onMetricLogged }) => {\n    const { token } = useContext(AuthContext);\n\n    // Helper to get local date string (YYYY-MM-DD) without UTC conversion\n    const getLocalDateString = () => {\n        const now = new Date();\n        const year = now.getFullYear();\n        const month = String(now.getMonth() + 1).padStart(2, '0');\n        const day = String(now.getDate()).padStart(2, '0');\n        return `${year}-${month}-${day}`;\n    };\n\n    const initialState = {\n        date: getLocalDateString(),\n        weight: '',\n        bodyFatPercentage: '',\n        waist: '',\n    };\n\n    const [metrics, setMetrics] = useState(initialState);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n    const [latestMetrics, setLatestMetrics] = useState(null);\n\n    useEffect(() => {\n        const fetchLatestMetrics = async () => {\n            if (!token) return;\n            try {\n                const response = await fetch('/api/metrics?limit=1', {\n                    headers: { 'x-auth-token': token }\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    if (data && data.length > 0) {\n                        setLatestMetrics(data[0]);\n                    }\n                }\n            } catch (err) {\n                console.error(\"Failed to fetch latest metrics\", err);\n            }\n        };\n        fetchLatestMetrics();\n    }, [token]);\n\n\n\n    const handleChange = (e) => {\n        setMetrics({ ...metrics, [e.target.name]: e.target.value });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n        setSuccess('');\n\n        if (!metrics.weight) {\n            setError('Weight is a required field.');\n            return;\n        }\n\n        try {\n            const response = await fetch('/api/metrics', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'x-auth-token': token,\n                },\n                body: JSON.stringify(metrics),\n            });\n\n            if (!response.ok) {\n                const data = await response.json();\n                throw new Error(data.msg || 'Failed to log metrics.');\n            }\n\n            setSuccess('Metrics logged successfully!');\n            setMetrics(initialState);\n            onMetricLogged?.(); // Optional chaining - only calls if function exists\n            setTimeout(() => setSuccess(''), 3000);\n\n        } catch (err) {\n            setError(err.message);\n        }\n    };\n\n    const containerVariants = {\n        hidden: { opacity: 0, y: 20 },\n        visible: {\n            opacity: 1,\n            y: 0,\n            transition: { duration: 0.6, staggerChildren: 0.1 }\n        }\n    };\n\n    const itemVariants = {\n        hidden: { opacity: 0, y: 10 },\n        visible: { opacity: 1, y: 0 }\n    };\n\n    const metricFields = [\n        { name: 'weight', label: 'Weight (kg)', icon: FaWeight, required: true },\n        { name: 'bodyFatPercentage', label: 'Body Fat %', icon: FaChartBar, required: false },\n        { name: 'waist', label: 'Waist (cm)', icon: FaRuler, required: false },\n    ];\n\n    return (\n        <motion.div\n            className=\"metric-logger-enhanced\"\n            variants={containerVariants}\n            initial=\"hidden\"\n            animate=\"visible\"\n        >\n            {error && (\n                <motion.div\n                    className=\"alert alert-error\"\n                    initial={{ opacity: 0, y: -10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                >\n                    {error}\n                </motion.div>\n            )}\n            {success && (\n                <motion.div\n                    className=\"alert alert-success\"\n                    initial={{ opacity: 0, y: -10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                >\n                    <FaCheck /> {success}\n                </motion.div>\n            )}\n\n            <motion.div className=\"metric-header\" variants={itemVariants}>\n                <h3>Log Your Body Metrics</h3>\n                <p>Track your progress with detailed measurements</p>\n            </motion.div>\n\n            <form onSubmit={handleSubmit} className=\"metric-logger-form-enhanced\">\n                <motion.div className=\"date-selector\" variants={itemVariants}>\n                    <label>Date</label>\n                    <input\n                        type=\"date\"\n                        name=\"date\"\n                        className=\"form-input-metric\"\n                        value={metrics.date}\n                        onChange={handleChange}\n                        required\n                    />\n                </motion.div>\n\n                <motion.div\n                    className=\"metrics-grid\"\n                    variants={containerVariants}\n                >\n                    {metricFields.map((field, idx) => {\n                        const Icon = field.icon;\n                        return (\n                            <motion.div\n                                key={field.name}\n                                className=\"metric-input-wrapper\"\n                                variants={itemVariants}\n                                whileHover={{ y: -4 }}\n                            >\n                                <label htmlFor={field.name}>\n                                    <Icon className=\"metric-icon\" />\n                                    {field.label}\n                                    {field.required && <span className=\"required\">*</span>}\n                                </label>\n                                <input\n                                    id={field.name}\n                                    type=\"number\"\n                                    name={field.name}\n                                    className=\"form-input-metric\"\n                                    placeholder={field.label}\n                                    value={metrics[field.name]}\n                                    onChange={handleChange}\n                                    required={field.required}\n                                    step=\"0.1\"\n                                />\n                                <motion.div\n                                    className=\"input-underline\"\n                                    initial={{ scaleX: 0 }}\n                                    whileFocus={{ scaleX: 1 }}\n                                />\n                            </motion.div>\n                        );\n                    })}\n                </motion.div>\n\n                <motion.div\n                    className=\"metric-summary\"\n                    initial={{ opacity: 0, scale: 0.95 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    transition={{ delay: 0.3 }}\n                >\n                    <h4>Current Values</h4>\n                    <div className=\"summary-values\">\n                        <div className=\"summary-item\">\n                            <span>Weight:</span> <strong>{metrics.weight || latestMetrics?.weight || '--'} kg</strong>\n                        </div>\n                        <div className=\"summary-item\">\n                            <span>Body Fat:</span> <strong>{metrics.bodyFatPercentage || latestMetrics?.bodyFatPercentage || '--'}%</strong>\n                        </div>\n                        <div className=\"summary-item\">\n                            <span>Waist:</span> <strong>{metrics.waist || latestMetrics?.waist || '--'} cm</strong>\n                        </div>\n                    </div>\n                </motion.div>\n\n                <motion.button\n                    type=\"submit\"\n                    className=\"btn-save-metrics\"\n                    whileHover={{ scale: 1.05, boxShadow: \"0 0 20px rgba(138, 43, 226, 0.5)\" }}\n                    whileTap={{ scale: 0.95 }}\n                >\n                    <FaCheck /> Save Metrics\n                </motion.button>\n            </form>\n        </motion.div>\n    );\n};\n\nexport default BodyMetricLogger;","// frontend/src/components/Card.js\nimport React from 'react';\nimport './Card.css';\n\nconst Card = ({ children, className }) => {\n  return <div className={`card ${className || ''}`}>{children}</div>;\n};\n\nexport default Card;","// frontend/src/components/PageHeader.js\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FaArrowLeft } from 'react-icons/fa';\nimport './PageHeader.css';\n\nconst PageHeader = ({ title }) => {\n    return (\n        <div className=\"page-header\">\n            <Link to=\"/fitness\" className=\"back-link\">\n                <FaArrowLeft />\n                <span>Back to Fitness Menu</span>\n            </Link>\n            <h2>{title}</h2>\n        </div>\n    );\n};\n\nexport default PageHeader;","// frontend/src/pages/BodyMetricLoggerPage.js\n\nimport React from 'react'; // Removed useState\nimport BodyMetricLogger from '../components/BodyMetricLogger';\nimport Card from '../components/Card';\nimport PageHeader from '../components/PageHeader'; // <-- ADD THIS IMPORT\n\nconst BodyMetricLoggerPage = () => {\n    // The useState and handleLog functions are no longer needed here.\n    // The onMetricLogged prop is also no longer needed.\n\n    return (\n        <div>\n        <PageHeader title=\"System Quest: Log Workout\" /> {/* <-- ADD THIS */}\n        <Card>\n            <h2>System Task: Log Body Metrics</h2>\n            <BodyMetricLogger />\n        </Card>\n        </div>\n    );\n};\n\nexport default BodyMetricLoggerPage;"],"names":["_ref","onMetricLogged","token","useContext","AuthContext","initialState","date","getLocalDateString","now","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","concat","weight","bodyFatPercentage","waist","metrics","setMetrics","useState","error","setError","success","setSuccess","latestMetrics","setLatestMetrics","useEffect","async","response","fetch","headers","ok","data","json","length","err","console","fetchLatestMetrics","handleChange","e","_objectSpread","target","name","value","containerVariants","hidden","opacity","y","visible","transition","duration","staggerChildren","itemVariants","metricFields","label","icon","FaWeight","required","FaChartBar","FaRuler","_jsxs","motion","div","className","variants","initial","animate","children","_jsx","FaCheck","onSubmit","preventDefault","method","body","JSON","stringify","Error","msg","setTimeout","message","type","onChange","map","field","idx","Icon","whileHover","htmlFor","id","placeholder","step","scaleX","whileFocus","scale","delay","button","boxShadow","whileTap","title","Link","to","FaArrowLeft","BodyMetricLoggerPage","PageHeader","Card","BodyMetricLogger"],"sourceRoot":""}