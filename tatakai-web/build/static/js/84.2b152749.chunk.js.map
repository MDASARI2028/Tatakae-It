{"version":3,"file":"static/js/84.2b152749.chunk.js","mappings":"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","sources":["components/common/BackButton.js","../node_modules/react-chartjs-2/src/utils.ts","../node_modules/react-chartjs-2/src/chart.tsx","../node_modules/react-chartjs-2/src/typedCharts.tsx","pages/ProgressPage.js"],"sourcesContent":["// frontend/src/components/common/BackButton.js\r\nimport React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { FaArrowLeft } from 'react-icons/fa';\r\nimport './BackButton.css';\r\n\r\nconst BackButton = ({ label = 'Back', className = '' }) => {\r\n    const navigate = useNavigate();\r\n\r\n    return (\r\n        <motion.button\r\n            className={`back-button-nav ${className}`}\r\n            onClick={() => navigate(-1)}\r\n            whileHover={{ x: -3 }}\r\n            whileTap={{ scale: 0.95 }}\r\n        >\r\n            <FaArrowLeft />\r\n            <span>{label}</span>\r\n        </motion.button>\r\n    );\r\n};\r\n\r\nexport default BackButton;\r\n","import type { MouseEvent } from 'react';\nimport type {\n  ChartType,\n  ChartData,\n  DefaultDataPoint,\n  ChartDataset,\n  ChartOptions,\n  Chart,\n} from 'chart.js';\n\nimport type { ForwardedRef } from './types.js';\n\nconst defaultDatasetIdKey = 'label';\n\nexport function reforwardRef<T>(ref: ForwardedRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\n\nexport function setOptions<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(chart: Chart<TType, TData, TLabel>, nextOptions: ChartOptions<TType>) {\n  const options = chart.options;\n\n  if (options && nextOptions) {\n    Object.assign(options, nextOptions);\n  }\n}\n\nexport function setLabels<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextLabels: TLabel[] | undefined\n) {\n  currentData.labels = nextLabels;\n}\n\nexport function setDatasets<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextDatasets: ChartDataset<TType, TData>[],\n  datasetIdKey = defaultDatasetIdKey\n) {\n  const addedDatasets: ChartDataset<TType, TData>[] = [];\n\n  currentData.datasets = nextDatasets.map(\n    (nextDataset: Record<string, unknown>) => {\n      // given the new set, find it's current match\n      const currentDataset = currentData.datasets.find(\n        (dataset: Record<string, unknown>) =>\n          dataset[datasetIdKey] === nextDataset[datasetIdKey]\n      );\n\n      // There is no original to update, so simply add new one\n      if (\n        !currentDataset ||\n        !nextDataset.data ||\n        addedDatasets.includes(currentDataset)\n      ) {\n        return { ...nextDataset } as ChartDataset<TType, TData>;\n      }\n\n      addedDatasets.push(currentDataset);\n\n      Object.assign(currentDataset, nextDataset);\n\n      return currentDataset;\n    }\n  );\n}\n\nexport function cloneData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(data: ChartData<TType, TData, TLabel>, datasetIdKey = defaultDatasetIdKey) {\n  const nextData: ChartData<TType, TData, TLabel> = {\n    labels: [],\n    datasets: [],\n  };\n\n  setLabels(nextData, data.labels);\n  setDatasets(nextData, data.datasets, datasetIdKey);\n\n  return nextData;\n}\n\n/**\n * Get dataset from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getDatasetAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'dataset',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get single dataset element from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'nearest',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get all dataset elements from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementsAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'index',\n    { intersect: true },\n    false\n  );\n}\n","import React, { useEffect, useRef, forwardRef } from 'react';\nimport { Chart as ChartJS } from 'chart.js';\nimport type { ChartType, DefaultDataPoint } from 'chart.js';\n\nimport type { ForwardedRef, ChartProps, BaseChartComponent } from './types.js';\nimport {\n  reforwardRef,\n  cloneData,\n  setOptions,\n  setLabels,\n  setDatasets,\n} from './utils.js';\n\nfunction ChartComponent<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  props: ChartProps<TType, TData, TLabel>,\n  ref: ForwardedRef<ChartJS<TType, TData, TLabel>>\n) {\n  const {\n    height = 150,\n    width = 300,\n    redraw = false,\n    datasetIdKey,\n    type,\n    data,\n    options,\n    plugins = [],\n    fallbackContent,\n    updateMode,\n    ...canvasProps\n  } = props;\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const chartRef = useRef<ChartJS<TType, TData, TLabel> | null>(null);\n\n  const renderChart = () => {\n    if (!canvasRef.current) return;\n\n    chartRef.current = new ChartJS(canvasRef.current, {\n      type,\n      data: cloneData(data, datasetIdKey),\n      options: options && { ...options },\n      plugins,\n    });\n\n    reforwardRef(ref, chartRef.current);\n  };\n\n  const destroyChart = () => {\n    reforwardRef(ref, null);\n\n    if (chartRef.current) {\n      chartRef.current.destroy();\n      chartRef.current = null;\n    }\n  };\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && options) {\n      setOptions(chartRef.current, options);\n    }\n  }, [redraw, options]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current) {\n      setLabels(chartRef.current.config.data, data.labels);\n    }\n  }, [redraw, data.labels]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && data.datasets) {\n      setDatasets(chartRef.current.config.data, data.datasets, datasetIdKey);\n    }\n  }, [redraw, data.datasets]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    if (redraw) {\n      destroyChart();\n      setTimeout(renderChart);\n    } else {\n      chartRef.current.update(updateMode);\n    }\n  }, [redraw, options, data.labels, data.datasets, updateMode]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    destroyChart();\n    setTimeout(renderChart);\n  }, [type]);\n\n  useEffect(() => {\n    renderChart();\n\n    return () => destroyChart();\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      role='img'\n      height={height}\n      width={width}\n      {...canvasProps}\n    >\n      {fallbackContent}\n    </canvas>\n  );\n}\n\nexport const Chart = forwardRef(ChartComponent) as BaseChartComponent;\n","import React, { forwardRef } from 'react';\nimport {\n  Chart as ChartJS,\n  LineController,\n  BarController,\n  RadarController,\n  DoughnutController,\n  PolarAreaController,\n  BubbleController,\n  PieController,\n  ScatterController,\n} from 'chart.js';\nimport type { ChartType, ChartComponentLike } from 'chart.js';\n\nimport type {\n  ChartProps,\n  ChartJSOrUndefined,\n  TypedChartComponent,\n} from './types.js';\nimport { Chart } from './chart.js';\n\nfunction createTypedChart<T extends ChartType>(\n  type: T,\n  registerables: ChartComponentLike\n) {\n  ChartJS.register(registerables);\n\n  return forwardRef<ChartJSOrUndefined<T>, Omit<ChartProps<T>, 'type'>>(\n    (props, ref) => <Chart {...props} ref={ref} type={type} />\n  ) as TypedChartComponent<T>;\n}\n\nexport const Line = /* #__PURE__ */ createTypedChart('line', LineController);\n\nexport const Bar = /* #__PURE__ */ createTypedChart('bar', BarController);\n\nexport const Radar = /* #__PURE__ */ createTypedChart('radar', RadarController);\n\nexport const Doughnut = /* #__PURE__ */ createTypedChart(\n  'doughnut',\n  DoughnutController\n);\n\nexport const PolarArea = /* #__PURE__ */ createTypedChart(\n  'polarArea',\n  PolarAreaController\n);\n\nexport const Bubble = /* #__PURE__ */ createTypedChart(\n  'bubble',\n  BubbleController\n);\n\nexport const Pie = /* #__PURE__ */ createTypedChart('pie', PieController);\n\nexport const Scatter = /* #__PURE__ */ createTypedChart(\n  'scatter',\n  ScatterController\n);\n","import React, { useContext, useEffect, useState, useMemo } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, Filler } from 'chart.js';\nimport { AuthContext } from '../context/AuthContext';\nimport { WorkoutContext } from '../context/WorkoutContext';\nimport { TemplateContext } from '../context/TemplateContext';\nimport { motion } from 'framer-motion';\nimport { FaFireAlt, FaChartLine, FaBullseye, FaCalendarAlt } from 'react-icons/fa';\nimport BackButton from '../components/common/BackButton';\nimport api from '../api/axios';\nimport './ProgressPage.css';\n\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, Filler);\n\nconst ProgressPage = () => {\n    const { token } = useContext(AuthContext); // Can potentially remove token dependency if relying purely on axios interceptor, but keep for effect dependency\n    const { workouts, fetchWorkouts } = useContext(WorkoutContext);\n    const { templates, refreshTemplates } = useContext(TemplateContext);\n    const [selectedTemplate, setSelectedTemplate] = useState(null);\n    const [bodyMetrics, setBodyMetrics] = useState([]);\n    const [timeRange, setTimeRange] = useState('month'); // 'week', 'month', 'year', 'all'\n\n    useEffect(() => {\n        // Force refresh workouts when entering the page to ensure latest data\n        if (token) fetchWorkouts();\n    }, [token, fetchWorkouts]);\n\n    useEffect(() => {\n        if (templates.length === 0 && token) refreshTemplates();\n    }, [templates.length, token, refreshTemplates]);\n\n    useEffect(() => {\n        const fetchMetrics = async () => {\n            if (!token) return;\n            try {\n                // Use api.get instead of fetch\n                const res = await api.get('/api/metrics');\n                setBodyMetrics(res.data);\n            } catch (error) {\n                console.error('Failed to fetch metrics:', error);\n            }\n        };\n        fetchMetrics();\n    }, [token]);\n\n    const handleTemplateChange = (e) => {\n        const template = templates.find(t => t._id === e.target.value);\n        setSelectedTemplate(template);\n    };\n\n    // Filter Workouts by Time Range\n    const filteredWorkouts = useMemo(() => {\n        if (!selectedTemplate || workouts.length === 0) return [];\n        const now = new Date();\n        const cutoff = new Date();\n        if (timeRange === 'week') cutoff.setDate(now.getDate() - 7);\n        if (timeRange === 'month') cutoff.setMonth(now.getMonth() - 1);\n        if (timeRange === 'year') cutoff.setFullYear(now.getFullYear() - 1);\n        if (timeRange === 'all') cutoff.setFullYear(1900);\n\n        return workouts.filter(w => {\n            const wDate = new Date(w.date);\n            // Must match template exercises (fuzzy check: contains at least one)\n            const matchesTemplate = w.exercises.some(we =>\n                selectedTemplate.exercises.some(te => te.name.toLowerCase() === we.name.toLowerCase())\n            );\n            return wDate >= cutoff && matchesTemplate;\n        }).sort((a, b) => new Date(a.date) - new Date(b.date));\n    }, [workouts, selectedTemplate, timeRange]);\n\n    // Calculate detailed analytics per exercise\n    const exerciseAnalytics = useMemo(() => {\n        if (!selectedTemplate || filteredWorkouts.length === 0) return [];\n\n        return selectedTemplate.exercises.map(templateEx => {\n            const exName = templateEx.name.toLowerCase();\n            const history = [];\n\n            // Extract history for this exercise from filtered workouts\n            filteredWorkouts.forEach(w => {\n                // Find ALL matching exercises in this workout (in case of multiple sets logged separately)\n                const matchedExercises = w.exercises.filter(we => we.name.toLowerCase() === exName);\n\n                if (matchedExercises.length > 0) {\n                    // Aggregate stats for the day\n                    const maxWeight = Math.max(...matchedExercises.map(e => Number(e.weight) || 0));\n\n                    // Volume = Sum of (Weight * Sets * Reps) for each entry\n                    const dayVolume = matchedExercises.reduce((acc, e) => {\n                        const weight = Number(e.weight) || 0;\n                        const sets = Number(e.sets) || 1; // Default to 1 if missing\n                        const reps = Number(e.reps) || 0;\n                        return acc + (weight * sets * reps);\n                    }, 0);\n\n                    const totalSets = matchedExercises.reduce((acc, e) => acc + (Number(e.sets) || 0), 0);\n                    const totalReps = matchedExercises.reduce((acc, e) => acc + ((Number(e.sets) || 1) * (Number(e.reps) || 0)), 0);\n\n                    history.push({\n                        date: w.date,\n                        weight: maxWeight, // Taking the max weight of the day for the chart\n                        sets: totalSets,\n                        reps: totalReps,\n                        volume: dayVolume\n                    });\n                }\n            });\n\n            if (history.length === 0) return null;\n\n            // Comparison: Current (Latest) vs Previous (Second Latest in TOTAL history, not just filtered)\n            const latest = history[history.length - 1];\n            const previous = history.length > 1 ? history[history.length - 2] : null;\n\n            const comparison = previous ? {\n                weightDiff: latest.weight - previous.weight,\n                setsDiff: latest.sets - previous.sets,\n                repsDiff: latest.reps - previous.reps,\n                volumeDiff: latest.volume - previous.volume,\n                volumeChange: previous.volume ? ((latest.volume - previous.volume) / previous.volume * 100).toFixed(1) : 0\n            } : null;\n\n            // Chart Data\n            const chartData = {\n                labels: history.map(h => new Date(h.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })),\n                datasets: [{\n                    label: 'Weight',\n                    data: history.map(h => h.weight),\n                    borderColor: '#6423C2', // Deep Blue Light\n                    backgroundColor: 'rgba(100, 35, 194, 0.1)',\n                    fill: true,\n                    tension: 0.4,\n                    pointRadius: 4,\n                    pointHoverRadius: 6\n                }]\n            };\n\n            return {\n                name: templateEx.name,\n                latest,\n                previous,\n                comparison,\n                chartData,\n                history // <--- Added this\n            };\n        }).filter(Boolean);\n    }, [filteredWorkouts, selectedTemplate]);\n\n    // Helper function to create body metric chart data\n    const bodyMetricCharts = useMemo(() => {\n        if (bodyMetrics.length === 0) return [];\n\n        const sortedMetrics = [...bodyMetrics].sort((a, b) => new Date(a.date) - new Date(b.date));\n\n        const charts = [];\n\n        // Weight Chart\n        const weightData = {\n            labels: sortedMetrics.map(m => new Date(m.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })),\n            datasets: [{\n                label: 'Weight (kg)',\n                data: sortedMetrics.map(m => m.weight),\n                borderColor: '#6423C2',\n                backgroundColor: 'rgba(100, 35, 194, 0.15)',\n                fill: true,\n                tension: 0.4,\n                borderWidth: 3,\n                pointRadius: 6,\n                pointBackgroundColor: '#1e293b',\n                pointBorderColor: '#6423C2',\n                pointBorderWidth: 3,\n                pointHoverRadius: 8,\n                pointHoverBackgroundColor: '#6423C2',\n                pointHoverBorderColor: '#fff'\n            }]\n        };\n        charts.push({ name: 'Weight', data: weightData, unit: 'kg' });\n\n        // Body Fat % Chart\n        const bodyFatMetrics = sortedMetrics.filter(m => m.bodyFatPercentage);\n        if (bodyFatMetrics.length > 0) {\n            const bodyFatData = {\n                labels: bodyFatMetrics.map(m => new Date(m.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })),\n                datasets: [{\n                    label: 'Body Fat %',\n                    data: bodyFatMetrics.map(m => m.bodyFatPercentage),\n                    borderColor: '#f472b6',\n                    backgroundColor: 'rgba(244, 114, 182, 0.15)',\n                    fill: true,\n                    tension: 0.4,\n                    borderWidth: 3,\n                    pointRadius: 6,\n                    pointBackgroundColor: '#1e293b',\n                    pointBorderColor: '#f472b6',\n                    pointBorderWidth: 3,\n                    pointHoverRadius: 8,\n                    pointHoverBackgroundColor: '#f472b6',\n                    pointHoverBorderColor: '#fff'\n                }]\n            };\n            charts.push({ name: 'Body Fat', data: bodyFatData, unit: '%' });\n        }\n\n        // Waist Chart\n        const waistMetrics = sortedMetrics.filter(m => m.waist);\n        if (waistMetrics.length > 0) {\n            const waistData = {\n                labels: waistMetrics.map(m => new Date(m.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })),\n                datasets: [{\n                    label: 'Waist (cm)',\n                    data: waistMetrics.map(m => m.waist),\n                    borderColor: '#6423C2',\n                    backgroundColor: 'rgba(100, 35, 194, 0.15)',\n                    fill: true,\n                    tension: 0.4,\n                    borderWidth: 3,\n                    pointRadius: 6,\n                    pointBackgroundColor: '#1e293b',\n                    pointBorderColor: '#6423C2',\n                    pointBorderWidth: 3,\n                    pointHoverRadius: 8,\n                    pointHoverBackgroundColor: '#6423C2',\n                    pointHoverBorderColor: '#fff'\n                }]\n            };\n            charts.push({ name: 'Waist', data: waistData, unit: 'cm' });\n        }\n\n        return charts;\n    }, [bodyMetrics]);\n\n\n    // Animation Variants\n    const containerVariants = { hidden: { opacity: 0 }, visible: { opacity: 1, transition: { staggerChildren: 0.1 } } };\n    const itemVariants = { hidden: { opacity: 0, y: 20 }, visible: { opacity: 1, y: 0 } };\n\n    return (\n        <motion.div className=\"progress-page-enhanced system-ui\" variants={containerVariants} initial=\"hidden\" animate=\"visible\">\n            <header className=\"progress-header\">\n                <div className=\"header-left\">\n                    <BackButton />\n                    <div>\n                        <h2>Performance Analytics</h2>\n                        <p className=\"sub\">Deep dive into your training progress</p>\n                    </div>\n                </div>\n            </header>\n\n            {/* Template Selector Card */}\n            <motion.section className=\"analysis-controls-card\" variants={itemVariants}>\n                <div className=\"control-group\">\n                    <label><FaBullseye /> Select Template</label>\n                    <div className=\"select-wrapper\">\n                        <select\n                            className=\"modern-select\"\n                            value={selectedTemplate?._id || \"\"}\n                            onChange={handleTemplateChange}\n                        >\n                            <option value=\"\" disabled>Choose a template...</option>\n                            {templates.map(t => <option key={t._id} value={t._id}>{t.templateName}</option>)}\n                        </select>\n                    </div>\n                </div>\n\n                {selectedTemplate && (\n                    <div className=\"control-group\">\n                        <label><FaCalendarAlt /> Time Range</label>\n                        <div className=\"time-filters\">\n                            {['week', 'month', 'year', 'all'].map(range => (\n                                <button\n                                    key={range}\n                                    className={`filter-btn ${timeRange === range ? 'active' : ''}`}\n                                    onClick={() => setTimeRange(range)}\n                                >\n                                    {range === 'all' ? 'All Time' : `Last ${range.charAt(0).toUpperCase() + range.slice(1)}`}\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n                )}\n            </motion.section>\n\n            {/* Analytics Grid */}\n            <div className=\"analytics-content\">\n                {selectedTemplate ? (\n                    <motion.div className=\"exercise-analytics-grid\" variants={containerVariants}>\n                        {exerciseAnalytics.length > 0 ? (\n                            exerciseAnalytics.map((item, idx) => {\n                                const isEven = idx % 2 !== 0; // 0=Left(Odd visually), 1=Right(Even visually)\n                                return (\n                                    <motion.div\n                                        key={idx}\n                                        className={`exercise-row ${isEven ? 'right' : 'left'}`}\n                                        initial={{ opacity: 0, x: isEven ? 50 : -50 }}\n                                        whileInView={{ opacity: 1, x: 0 }}\n                                        viewport={{ once: true }}\n                                        transition={{ duration: 0.5, delay: idx * 0.1 }}\n                                    >\n                                        {/* Main Analysis Card */}\n                                        <div className=\"exercise-analysis-card glass-panel\">\n                                            <div className=\"card-header-row\">\n                                                <div>\n                                                    <h3>{item.name}</h3>\n                                                    <span className=\"subtitle-date\">Last: {new Date(item.latest.date).toLocaleDateString()}</span>\n                                                </div>\n                                                <div className=\"header-badges\">\n                                                    <div className=\"metric-badge volume\">\n                                                        <span className=\"label\">Vol</span>\n                                                        <span className=\"val\">{item.latest.volume}</span>\n                                                    </div>\n                                                    <div className=\"metric-badge weight\">\n                                                        <span className=\"label\">Max</span>\n                                                        <span className=\"val\">{item.latest.weight}kg</span>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div className=\"current-stats-grid\">\n                                                <div className=\"stat-box\">\n                                                    <span className=\"kpi-label\">Sets</span>\n                                                    <span className=\"kpi-value\">{item.latest.sets}</span>\n                                                </div>\n                                                <div className=\"stat-box\">\n                                                    <span className=\"kpi-label\">Avg Reps</span>\n                                                    <span className=\"kpi-value\">{Math.round(item.latest.reps / (item.latest.sets || 1))}</span>\n                                                </div>\n                                                <div className=\"stat-box highlight\">\n                                                    <span className=\"kpi-label\">Volume</span>\n                                                    <span className=\"kpi-value\">{item.latest.volume}</span>\n                                                </div>\n                                            </div>\n\n                                            {/* Advanced Dual-Axis Chart */}\n                                            <div className=\"advanced-chart-container\">\n                                                <Line\n                                                    data={{\n                                                        labels: item.chartData.labels,\n                                                        datasets: [\n                                                            {\n                                                                label: 'Total Volume',\n                                                                data: item.history.map(h => h.volume),\n                                                                borderColor: '#6423C2', // Deep Blue Light\n                                                                backgroundColor: (context) => {\n                                                                    const ctx = context.chart.ctx;\n                                                                    const gradient = ctx.createLinearGradient(0, 0, 0, 400);\n                                                                    gradient.addColorStop(0, 'rgba(100, 35, 194, 0.5)');\n                                                                    gradient.addColorStop(1, 'rgba(100, 35, 194, 0.0)');\n                                                                    return gradient;\n                                                                },\n                                                                fill: true,\n                                                                yAxisID: 'y1',\n                                                                tension: 0.4,\n                                                                pointRadius: 4,\n                                                                pointHoverRadius: 8\n                                                            },\n                                                            {\n                                                                label: 'Max Weight',\n                                                                data: item.history.map(h => h.weight),\n                                                                borderColor: '#22d3ee', // Cyan-400\n                                                                backgroundColor: 'rgba(34, 211, 238, 0.1)',\n                                                                borderDash: [5, 5],\n                                                                yAxisID: 'y2', // Right Axis\n                                                                tension: 0.2,\n                                                                pointRadius: 3,\n                                                                pointHoverRadius: 6\n                                                            }\n                                                        ]\n                                                    }}\n                                                    options={{\n                                                        responsive: true,\n                                                        maintainAspectRatio: false,\n                                                        interaction: {\n                                                            mode: 'index',\n                                                            intersect: false,\n                                                        },\n                                                        plugins: {\n                                                            legend: {\n                                                                display: true,\n                                                                labels: { color: '#e2e8f0', usePointStyle: true }\n                                                            },\n                                                            tooltip: {\n                                                                backgroundColor: 'rgba(15, 23, 42, 0.9)',\n                                                                titleColor: '#fff',\n                                                                bodyColor: '#cbd5e1',\n                                                                borderColor: '#334155',\n                                                                borderWidth: 1,\n                                                                padding: 10,\n                                                                callbacks: {\n                                                                    label: (ctx) => ` ${ctx.dataset.label}: ${ctx.parsed.y}`\n                                                                }\n                                                            }\n                                                        },\n                                                        scales: {\n                                                            x: {\n                                                                display: false,\n                                                                grid: { display: false }\n                                                            },\n                                                            y1: {\n                                                                type: 'linear',\n                                                                display: true,\n                                                                position: 'left',\n                                                                grid: { color: 'rgba(148, 163, 184, 0.1)' },\n                                                                ticks: { color: '#6423C2' }, // Blue Text for Volume\n                                                                title: { display: true, text: 'Volume', color: '#6423C2', font: { size: 10 } }\n                                                            },\n                                                            y2: {\n                                                                type: 'linear',\n                                                                display: true,\n                                                                position: 'right',\n                                                                grid: { display: false },\n                                                                ticks: { color: '#22d3ee' }, // Cyan Text for Weight\n                                                                title: { display: true, text: 'Weight (kg)', color: '#22d3ee', font: { size: 10 } }\n                                                            }\n                                                        }\n                                                    }}\n                                                />\n                                            </div>\n                                        </div>\n\n                                        {/* Enhanced Side Insight Card */}\n                                        <div className=\"side-insight-card glow-border\">\n                                            <div className=\"insight-header\">\n                                                <FaFireAlt className=\"insight-icon\" />\n                                                <h4>Performance Analysis</h4>\n                                            </div>\n\n                                            {item.comparison ? (\n                                                <div className=\"insight-body\">\n                                                    <div className=\"insight-row primary\">\n                                                        <span>VS Last Session (Volume)</span>\n                                                        <div className={`diff-tag large ${item.comparison.volumeChange >= 0 ? 'pos' : 'neg'}`}>\n                                                            {item.comparison.volumeChange > 0 ? 'â–²' : 'â–¼'} {Math.abs(item.comparison.volumeChange)}%\n                                                        </div>\n                                                    </div>\n\n                                                    <div className=\"insight-details\">\n                                                        <div className=\"detail-item\">\n                                                            <span>Volume Diff</span>\n                                                            <strong className={item.comparison.volumeDiff >= 0 ? 'text-success' : 'text-danger'}>\n                                                                {item.comparison.volumeDiff > 0 ? '+' : ''}{item.comparison.volumeDiff}\n                                                            </strong>\n                                                        </div>\n                                                        <div className=\"detail-item\">\n                                                            <span>Weight Diff</span>\n                                                            <strong className={item.comparison.weightDiff >= 0 ? 'text-cyan' : 'text-danger'}>\n                                                                {item.comparison.weightDiff > 0 ? '+' : ''}{item.comparison.weightDiff}kg\n                                                            </strong>\n                                                        </div>\n                                                    </div>\n\n                                                    <div className=\"insight-verdict\">\n                                                        {item.comparison.volumeChange > 5 ? (\n                                                            <p>ðŸš€ <strong>Significant Overload!</strong> Your total workload increased nicely. Keep this intensity!</p>\n                                                        ) : item.comparison.volumeChange < -5 ? (\n                                                            <p>ðŸ“‰ <strong>Volume Drop.</strong> De-load or just a lighter day? Rest up!</p>\n                                                        ) : (\n                                                            <p>âš–ï¸ <strong>Sustained Effort.</strong> Consistency builds muscle. Good hold.</p>\n                                                        )}\n                                                    </div>\n                                                </div>\n                                            ) : (\n                                                <div className=\"insight-body empty\">\n                                                    <p>Keep logging to unlock progressive analysis!</p>\n                                                </div>\n                                            )}\n                                        </div>\n                                    </motion.div>\n                                );\n                            })\n                        ) : (\n                            <div className=\"no-data-msg\">No workouts found for this time range.</div>\n                        )}\n                    </motion.div>\n                ) : (\n                    <motion.div className=\"select-prompt\" variants={itemVariants}>\n                        <FaChartLine size={48} />\n                        <h3>Select a template to view advanced analytics</h3>\n                    </motion.div>\n                )}\n            </div>\n\n            {/* --- BODY METRICS PROGRESS SECTION --- */}\n            {bodyMetricCharts.length > 0 && (\n                <>\n                    <motion.div\n                        className=\"page-title\"\n                        variants={itemVariants}\n                        style={{ marginTop: '3rem' }}\n                    >\n                        <h2>Body Metrics Progress</h2>\n                        <p>Track your physical transformation over time</p>\n                    </motion.div>\n\n                    <motion.div\n                        className=\"charts-grid-enhanced\"\n                        variants={containerVariants}\n                    >\n                        {bodyMetricCharts.map((chart, idx) => (\n                            <motion.div\n                                key={chart.name}\n                                className=\"chart-card-enhanced\"\n                                variants={itemVariants}\n                                whileHover={{ y: -8 }}\n                            >\n                                <div className=\"chart-header\">\n                                    <h3>{chart.name}</h3>\n                                    <div className=\"chart-badge\">{chart.unit}</div>\n                                </div>\n                                {chart.data.labels.length > 0 ? (\n                                    <div className=\"chart-container\">\n                                        <Line\n                                            data={chart.data}\n                                            options={{\n                                                responsive: true,\n                                                maintainAspectRatio: true,\n                                                plugins: {\n                                                    legend: { display: false },\n                                                    tooltip: {\n                                                        backgroundColor: 'rgba(100, 35, 194, 0.8)',\n                                                        padding: 12,\n                                                        borderRadius: 8,\n                                                        titleFont: { size: 12, weight: 'bold' },\n                                                        bodyFont: { size: 11 },\n                                                        callbacks: {\n                                                            label: (context) => ` ${context.parsed.y.toFixed(1)} ${chart.unit}`\n                                                        }\n                                                    }\n                                                },\n                                                scales: {\n                                                    y: {\n                                                        beginAtZero: false,\n                                                        grid: { color: 'rgba(100, 35, 194, 0.1)' },\n                                                        ticks: { color: 'rgba(240, 242, 245, 0.7)' }\n                                                    },\n                                                    x: {\n                                                        grid: { display: false },\n                                                        ticks: { color: 'rgba(240, 242, 245, 0.7)' }\n                                                    }\n                                                }\n                                            }}\n                                        />\n                                    </div>\n                                ) : (\n                                    <div className=\"no-data\">\n                                        <p>ðŸ“Š Log more metrics to see your progression</p>\n                                    </div>\n                                )}\n                            </motion.div>\n                        ))}\n                    </motion.div>\n                </>\n            )}\n        </motion.div>\n    );\n};\n\nexport default ProgressPage;"],"names":["_ref","label","className","navigate","useNavigate","_jsxs","motion","button","concat","onClick","whileHover","x","whileTap","scale","children","_jsx","FaArrowLeft","defaultDatasetIdKey","reforwardRef","ref","value","current","setLabels","currentData","nextLabels","labels","setDatasets","nextDatasets","datasetIdKey","arguments","length","addedDatasets","datasets","map","nextDataset","currentDataset","find","dataset","data","includes","push","Object","assign","_objectSpread","cloneData","nextData","ChartComponent","props","height","width","redraw","type","options","plugins","fallbackContent","updateMode","canvasProps","_objectWithoutProperties","_excluded","canvasRef","useRef","chartRef","renderChart","Chart$1","destroyChart","destroy","useEffect","chart","nextOptions","setOptions","config","setTimeout","update","React","role","Chart","forwardRef","createTypedChart","registerables","register","Line","LineController","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Filler","ProgressPage","token","useContext","AuthContext","workouts","fetchWorkouts","WorkoutContext","templates","refreshTemplates","TemplateContext","selectedTemplate","setSelectedTemplate","useState","bodyMetrics","setBodyMetrics","timeRange","setTimeRange","async","res","api","get","error","console","fetchMetrics","filteredWorkouts","useMemo","now","Date","cutoff","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","filter","w","wDate","date","matchesTemplate","exercises","some","we","te","name","toLowerCase","sort","a","b","exerciseAnalytics","templateEx","exName","history","forEach","matchedExercises","maxWeight","Math","max","e","Number","weight","dayVolume","reduce","acc","sets","reps","totalSets","totalReps","volume","latest","previous","comparison","weightDiff","setsDiff","repsDiff","volumeDiff","volumeChange","toFixed","chartData","h","toLocaleDateString","month","day","borderColor","backgroundColor","fill","tension","pointRadius","pointHoverRadius","Boolean","bodyMetricCharts","sortedMetrics","charts","weightData","m","borderWidth","pointBackgroundColor","pointBorderColor","pointBorderWidth","pointHoverBackgroundColor","pointHoverBorderColor","unit","bodyFatMetrics","bodyFatPercentage","bodyFatData","waistMetrics","waist","waistData","containerVariants","hidden","opacity","visible","transition","staggerChildren","itemVariants","y","div","variants","initial","animate","BackButton","section","FaBullseye","_id","onChange","template","t","target","disabled","templateName","FaCalendarAlt","range","charAt","toUpperCase","slice","item","idx","isEven","whileInView","viewport","once","duration","delay","round","context","gradient","ctx","createLinearGradient","addColorStop","yAxisID","borderDash","responsive","maintainAspectRatio","interaction","mode","intersect","legend","display","color","usePointStyle","tooltip","titleColor","bodyColor","padding","callbacks","parsed","scales","grid","y1","position","ticks","title","text","font","size","y2","FaFireAlt","abs","FaChartLine","_Fragment","style","marginTop","borderRadius","titleFont","bodyFont","beginAtZero"],"sourceRoot":""}