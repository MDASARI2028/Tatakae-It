"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[892],{4892:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(5043),a=s(697),l=s(6446),n=s(3204),o=s(6801),d=s(9778),i=s(579);const c=()=>{const{token:e}=(0,r.useContext)(a.c),[t,s]=(0,r.useState)([]),[c,x]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{let t=!0;return e&&(async()=>{const r={headers:{"x-auth-token":e}};try{const e=new Promise((e,t)=>setTimeout(()=>t(new Error("Request timed out")),1e4)),a=d.A.get("/api/levelup/history",r),l=await Promise.race([a,e]);t&&(Array.isArray(l.data)?(s(l.data),h(null)):(console.error("XP History Error: Received non-array data",l.data),h("Invalid data received from server. Please check your connection."),s([])))}catch(a){t&&(console.error("Error fetching XP history",a),h("Request timed out"===a.message?"Loading took too long. Please try again.":"Failed to load history."))}finally{t&&x(!1)}})(),()=>{t=!1}},[e]);const m=e=>{switch(e){case"FITNESS":return(0,i.jsx)(n.bB,{className:"text-blue-400"});case"NUTRITION":return(0,i.jsx)(n.vUD,{className:"text-green-400"});case"STREAK":return(0,i.jsx)(n.Itl,{className:"text-orange-400"});case"PENALTY":return(0,i.jsx)(n.BS8,{className:"text-red-500"});default:return(0,i.jsx)(n.OKX,{className:"text-purple-400"})}};return(0,i.jsxs)("div",{className:"min-h-screen bg-slate-950 text-white p-6 pt-24 font-inter relative overflow-hidden",children:[(0,i.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[(0,i.jsx)("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-purple-900/20 rounded-full blur-[100px]"}),(0,i.jsx)("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-indigo-900/20 rounded-full blur-[100px]"})]}),(0,i.jsxs)("div",{className:"max-w-4xl mx-auto relative z-10",children:[(0,i.jsx)("div",{className:"mb-8",children:(0,i.jsx)(o.A,{})}),(0,i.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,i.jsx)("div",{className:"p-3 bg-purple-500/10 rounded-xl border border-purple-500/20",children:(0,i.jsx)(n.OKX,{className:"text-3xl text-purple-400"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:"XP History"}),(0,i.jsx)("p",{className:"text-slate-400",children:"Track your gains and losses"})]})]}),u&&(0,i.jsxs)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-200 flex items-center gap-3",children:[(0,i.jsx)(n.BS8,{}),(0,i.jsx)("span",{children:u})]}),(0,i.jsx)("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-800 rounded-2xl overflow-hidden shadow-xl",children:c?(0,i.jsx)("div",{className:"p-12 text-center text-slate-400",children:"Loading history..."}):0===t.length?(0,i.jsxs)("div",{className:"p-12 text-center text-slate-400",children:[(0,i.jsx)("p",{children:"No XP history found yet."}),(0,i.jsx)("p",{className:"text-sm mt-2",children:"Start your journey to see logs here."})]}):(0,i.jsx)("div",{className:"divide-y divide-slate-800",children:t.map(e=>(0,i.jsxs)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 hover:bg-slate-800/50 transition-colors flex items-center justify-between group",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)("div",{className:"p-3 rounded-lg bg-slate-800 border border-slate-700 group-hover:border-slate-600 transition-colors",children:m(e.category)}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-semibold text-slate-200",children:e.reason}),(0,i.jsx)("p",{className:"text-xs text-slate-500",children:new Date(e.date).toLocaleString()})]})]}),(0,i.jsxs)("div",{className:"text-lg font-bold font-mono ".concat(e.amount>0?"text-green-400":"text-red-400"),children:[e.amount>0?"+":"",e.amount," XP"]})]},e._id))})})]})]})}},6801:(e,t,s)=>{s.d(t,{A:()=>o});s(5043);var r=s(9981),a=s(6446),l=s(3204),n=s(579);const o=e=>{let{label:t="Back",className:s=""}=e;const o=(0,r.Zp)();return(0,n.jsxs)(a.P.button,{className:"back-button-nav ".concat(s),onClick:()=>o(-1),whileHover:{x:-3},whileTap:{scale:.95},children:[(0,n.jsx)(l.QVr,{}),(0,n.jsx)("span",{children:t})]})}}}]);
//# sourceMappingURL=892.dca6da63.chunk.js.map