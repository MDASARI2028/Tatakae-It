{"version":3,"file":"static/js/90.57300c9a.chunk.js","mappings":"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","sources":["components/WorkoutLogger.js","pages/WorkoutLoggerPage.js","components/common/BackButton.js"],"sourcesContent":["// frontend/src/components/WorkoutLogger.js\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { WorkoutContext } from '../context/WorkoutContext';\nimport { TemplateContext } from '../context/TemplateContext';\nimport { useLevelUp } from '../context/LevelUpContext';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { FaDumbbell, FaRunning, FaClock, FaFeatherAlt, FaCheck, FaDownload, FaEdit, FaTrash, FaTimes, FaSave } from 'react-icons/fa';\nimport './WorkoutLogger.css';\n\nconst WorkoutLogger = ({ template }) => {\n    const { addWorkout } = useContext(WorkoutContext);\n    const { templates, loading, error: templateError, refreshTemplates, deleteTemplate, updateTemplate, saveAsTemplate } = useContext(TemplateContext);\n    const { calculateDailyXP } = useLevelUp();\n\n    // Helper to get local date string (YYYY-MM-DD) without UTC conversion\n    const getLocalDateString = () => {\n        const now = new Date();\n        const year = now.getFullYear();\n        const month = String(now.getMonth() + 1).padStart(2, '0');\n        const day = String(now.getDate()).padStart(2, '0');\n        return `${year}-${month}-${day}`;\n    };\n\n    const initialWorkoutState = {\n        type: 'Strength Training',\n        duration: 60,\n        notes: '',\n        date: getLocalDateString()\n    };\n\n    // Initial state with setsData\n    const initialExercisesState = [{\n        name: '',\n        sets: 1,\n        reps: '',\n        weight: '',\n        setsData: [\n            { reps: '', weight: '' }\n        ]\n    }];\n\n    const initialCardioExercises = [{ name: '', duration: '', caloriesBurned: '' }];\n\n    const [workoutData, setWorkoutData] = useState(initialWorkoutState);\n    const [exercises, setExercises] = useState(initialExercisesState);\n    const [cardioExercises, setCardioExercises] = useState(initialCardioExercises);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n    const [activeStep, setActiveStep] = useState(1);\n\n    // Template Management State\n    const [showTemplateManager, setShowTemplateManager] = useState(false);\n    const [editingTemplateId, setEditingTemplateId] = useState(null);\n    const [editTemplateName, setEditTemplateName] = useState('');\n\n    const handleStartEditTemplate = (t) => {\n        setEditingTemplateId(t._id);\n        setEditTemplateName(t.templateName);\n    };\n\n    const handleSaveTemplateEdit = async () => {\n        if (!editTemplateName.trim()) return;\n        const res = await updateTemplate(editingTemplateId, { templateName: editTemplateName });\n        if (res.success) {\n            setSuccess('Template updated successfully');\n            setEditingTemplateId(null);\n            setEditTemplateName('');\n            // Clear success msg after 3s\n            setTimeout(() => setSuccess(''), 3000);\n        } else {\n            setError(res.error || 'Failed to update template');\n            setTimeout(() => setError(''), 3000);\n        }\n    };\n\n    const handleDeleteTemplate = async (id) => {\n        if (window.confirm('Are you sure you want to delete this template?')) {\n            const res = await deleteTemplate(id);\n            if (res.success) {\n                setSuccess('Template deleted');\n                setTimeout(() => setSuccess(''), 3000);\n            } else {\n                setError(res.error || 'Failed to delete template');\n                setTimeout(() => setError(''), 3000);\n            }\n        }\n    };\n\n    const handleSaveAsNewTemplate = async () => {\n        const workoutToSave = {\n            type: workoutData.type,\n            notes: workoutData.notes,\n            exercises: workoutData.type === 'Cardio' ? cardioExercises : exercises.filter(e => e.name.trim() !== '')\n        };\n\n        const res = await saveAsTemplate(workoutToSave);\n        if (res.success) {\n            setSuccess('Saved as template!');\n            setTimeout(() => setSuccess(''), 3000);\n        } else {\n            setError(res.error || 'Failed to save template');\n            setTimeout(() => setError(''), 3000);\n        }\n    };\n\n    const handleWorkoutChange = (e) => setWorkoutData({ ...workoutData, [e.target.name]: e.target.value });\n\n    const handleExerciseChange = (index, e) => {\n        const { name, value } = e.target;\n        const updatedExercises = [...exercises];\n        updatedExercises[index] = { ...updatedExercises[index], [name]: value };\n\n        // If sets count changes, resize setsData\n        if (name === 'sets') {\n            const newSetsCount = parseInt(value) || 0;\n            const currentSetsData = updatedExercises[index].setsData || [];\n\n            if (newSetsCount > currentSetsData.length) {\n                // Add more sets, copying the last set's values for convenience if available\n                const lastSet = currentSetsData.length > 0 ? currentSetsData[currentSetsData.length - 1] : { reps: '', weight: '' };\n                const setsToAdd = new Array(newSetsCount - currentSetsData.length).fill(null).map(() => ({ ...lastSet }));\n                updatedExercises[index].setsData = [...currentSetsData, ...setsToAdd];\n            } else if (newSetsCount < currentSetsData.length) {\n                // Remove sets\n                updatedExercises[index].setsData = currentSetsData.slice(0, newSetsCount);\n            }\n        }\n\n        setExercises(updatedExercises);\n    };\n\n    const handleSetChange = (exerciseIndex, setIndex, field, value) => {\n        const updatedExercises = [...exercises];\n        if (!updatedExercises[exerciseIndex].setsData) {\n            updatedExercises[exerciseIndex].setsData = [];\n        }\n        updatedExercises[exerciseIndex].setsData[setIndex] = {\n            ...updatedExercises[exerciseIndex].setsData[setIndex],\n            [field]: value\n        };\n        setExercises(updatedExercises);\n    };\n\n    const addExercise = () => setExercises([...exercises, {\n        name: '',\n        sets: 1,\n        reps: '',\n        weight: '',\n        setsData: [\n            { reps: '', weight: '' }\n        ]\n    }]);\n\n    const addCardioExercise = () => setCardioExercises([...cardioExercises, { name: '', duration: '', caloriesBurned: '' }]);\n\n    const removeExercise = (index) => {\n        if (exercises.length > 1) setExercises(exercises.filter((_, i) => i !== index));\n    };\n\n    const removeCardioExercise = (index) => {\n        if (cardioExercises.length > 1) setCardioExercises(cardioExercises.filter((_, i) => i !== index));\n    };\n\n    const handleCardioExerciseChange = (index, e) => {\n        const updated = cardioExercises.map((ex, i) => i === index ? { ...ex, [e.target.name]: e.target.value } : ex);\n        setCardioExercises(updated);\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n        setSuccess('');\n\n        // Format exercises based on workout type\n        let formattedExercises = [];\n        if (workoutData.type === 'Strength Training') {\n            formattedExercises = exercises\n                .filter(ex => ex.name.trim() !== '')\n                .map(ex => {\n                    // Calculate summaries from setsData\n                    let summaryReps = ex.reps;\n                    let summaryWeight = ex.weight;\n\n                    if (ex.setsData && ex.setsData.length > 0) {\n                        const totalReps = ex.setsData.reduce((acc, s) => acc + (Number(s.reps) || 0), 0);\n                        const maxWeight = ex.setsData.reduce((max, s) => Math.max(max, (Number(s.weight) || 0)), 0);\n\n                        summaryReps = Math.round(totalReps / ex.setsData.length);\n                        summaryWeight = maxWeight;\n                    }\n\n                    return {\n                        ...ex,\n                        reps: summaryReps,\n                        weight: summaryWeight\n                    };\n                });\n        } else if (workoutData.type === 'Cardio') {\n            // Only send cardio-specific fields\n            formattedExercises = cardioExercises\n                .filter(ex => ex.name.trim() !== '')\n                .map(ex => ({\n                    name: ex.name,\n                    duration: Number(ex.duration) || 0,\n                    caloriesBurned: Number(ex.caloriesBurned) || 0\n                }));\n        }\n\n        const finalWorkoutData = {\n            ...workoutData,\n            exercises: formattedExercises\n        };\n\n        const result = await addWorkout(finalWorkoutData);\n\n        if (result.success) {\n            setSuccess('Workout logged successfully!');\n            setWorkoutData(initialWorkoutState);\n            setExercises(initialExercisesState);\n            setCardioExercises(initialCardioExercises);\n            setActiveStep(1);\n\n            // Trigger XP Calculation\n            if (calculateDailyXP) {\n                console.log('Triggering XP calculation after workout...');\n                calculateDailyXP(true).catch(err => console.error('XP Trigger Error:', err));\n            }\n\n            setTimeout(() => setSuccess(''), 3000);\n        } else {\n            setError(result.error || 'Failed to log workout.');\n        }\n    };\n\n    useEffect(() => {\n        if (template && template.exercises) {\n            setWorkoutData({\n                type: template.workoutType || 'Strength Training',\n                duration: 60,\n                notes: template.notes || '',\n                date: getLocalDateString()\n            });\n            // Deep clone the exercises array\n            const clonedExercises = template.exercises.map(ex => {\n                const setsCount = ex.sets || 3;\n                // Generate setsData from template summary if setsData doesn't exist in template\n                // (Templates might need migration later or we just infer)\n                const inferredSetsData = ex.setsData || new Array(setsCount).fill({\n                    reps: ex.reps || 10,\n                    weight: ex.weight || 10\n                });\n\n                return {\n                    name: ex.name || '',\n                    sets: setsCount,\n                    reps: ex.reps || 10,\n                    weight: ex.weight || 10,\n                    setsData: inferredSetsData\n                };\n            });\n            setExercises(clonedExercises.length > 0 ? clonedExercises : initialExercisesState);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [template]);\n\n    const containerVariants = {\n        hidden: { opacity: 0 },\n        visible: { opacity: 1, transition: { duration: 0.5 } }\n    };\n\n    const stepVariants = {\n        hidden: { opacity: 0, x: 20 },\n        visible: { opacity: 1, x: 0, transition: { duration: 0.4 } },\n        exit: { opacity: 0, x: -20, transition: { duration: 0.2 } }\n    };\n\n    return (\n        <motion.div\n            className=\"workout-logger-enhanced\"\n            variants={containerVariants}\n            initial=\"hidden\"\n            animate=\"visible\"\n        >\n            {error && (\n                <motion.div\n                    className=\"alert alert-error\"\n                    initial={{ opacity: 0, y: -20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0 }}\n                >\n                    {error}\n                </motion.div>\n            )}\n            {success && (\n                <motion.div\n                    className=\"alert alert-success\"\n                    initial={{ opacity: 0, y: -20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0 }}\n                >\n                    <FaCheck /> {success}\n                </motion.div>\n            )}\n\n            {/* --- PROGRESS INDICATOR --- */}\n            <div className=\"step-indicator\">\n                {[1, 2, 3].map(step => (\n                    <motion.div\n                        key={step}\n                        className={`step ${activeStep >= step ? 'active' : ''}`}\n                        onClick={() => setActiveStep(step)}\n                        whileHover={{ scale: 1.1 }}\n                    >\n                        {step}\n                    </motion.div>\n                ))}\n                <div className=\"step-line\" style={{ width: `${((activeStep - 1) / 2) * 100}%` }}></div>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"workout-logger-form-enhanced\">\n                <AnimatePresence mode=\"wait\">\n                    {/* --- STEP 1: WORKOUT BASICS --- */}\n                    {activeStep === 1 && (\n                        <motion.div\n                            key=\"step1\"\n                            variants={stepVariants}\n                            initial=\"hidden\"\n                            animate=\"visible\"\n                            exit=\"exit\"\n                            className=\"form-step\"\n                        >\n                            <div className=\"step-header\">\n                                <FaDumbbell className=\"step-icon\" />\n                                <h3>Workout Basics</h3>\n                            </div>\n\n                            <div className=\"form-group-enhanced\">\n                                <label>Date</label>\n                                <input\n                                    type=\"date\"\n                                    name=\"date\"\n                                    className=\"form-input-enhanced\"\n                                    value={workoutData.date}\n                                    onChange={handleWorkoutChange}\n                                    required\n                                />\n                            </div>\n\n                            <div className=\"form-group-enhanced\">\n                                <label>Workout Type</label>\n                                <div className=\"type-selector\">\n                                    {['Strength Training', 'Cardio', 'Steps', 'Other'].map(type => (\n                                        <motion.label\n                                            key={type}\n                                            className={`type-option ${workoutData.type === type ? 'selected' : ''}`}\n                                            whileHover={{ scale: 1.05 }}\n                                        >\n                                            <input\n                                                type=\"radio\"\n                                                name=\"type\"\n                                                value={type}\n                                                checked={workoutData.type === type}\n                                                onChange={handleWorkoutChange}\n                                            />\n                                            <span>{type}</span>\n                                        </motion.label>\n                                    ))}\n                                </div>\n                            </div>\n\n                            <div className=\"form-group-enhanced\">\n                                <label><FaClock /> Duration (minutes)</label>\n                                <input\n                                    type=\"number\"\n                                    name=\"duration\"\n                                    className=\"form-input-enhanced\"\n                                    value={workoutData.duration}\n                                    onChange={handleWorkoutChange}\n                                    min=\"1\"\n                                    required\n                                />\n                            </div>\n\n                            <motion.button\n                                type=\"button\"\n                                className=\"btn-next\"\n                                onClick={() => setActiveStep(2)}\n                                whileHover={{ scale: 1.05 }}\n                                whileTap={{ scale: 0.95 }}\n                            >\n                                Next →\n                            </motion.button>\n                        </motion.div>\n                    )}\n\n                    {/* --- STEP 2: EXERCISES OR DETAILS --- */}\n                    {activeStep === 2 && (\n                        <motion.div\n                            key=\"step2\"\n                            variants={stepVariants}\n                            initial=\"hidden\"\n                            animate=\"visible\"\n                            exit=\"exit\"\n                            className=\"form-step\"\n                        >\n                            <div className=\"step-header\">\n                                {workoutData.type === 'Cardio' ? <FaRunning className=\"step-icon\" /> : <FaDumbbell className=\"step-icon\" />}\n                                <h3>{workoutData.type === 'Cardio' ? 'Cardio Details' : 'Add Exercises'}</h3>\n                            </div>\n\n                            {/* Template Quick Load Indicator */}\n                            {workoutData.type === 'Strength Training' && template && (\n                                <motion.div\n                                    className=\"template-quick-load\"\n                                    initial={{ opacity: 0, y: -10 }}\n                                    animate={{ opacity: 1, y: 0 }}\n                                >\n                                    <div className=\"quick-load-header\">\n                                        <FaDownload className=\"quick-load-icon\" />\n                                        <span>Template Loaded: {template.templateName}</span>\n                                    </div>\n                                    <p className=\"quick-load-info\">\n                                        {template.exercises?.length || 0} exercises loaded from template\n                                    </p>\n                                </motion.div>\n                            )}\n\n                            {/* Template Selector */}\n                            {workoutData.type === 'Strength Training' && !template && (\n                                <div className=\"template-selector-section\">\n                                    <div className=\"template-label-row\">\n                                        <div className=\"template-label-group\">\n                                            <FaDownload className=\"template-label-icon\" />\n                                            <label className=\"template-selector-label\">Load from Template</label>\n                                        </div>\n                                        <div className=\"template-actions\">\n                                            <button\n                                                type=\"button\"\n                                                className={`manage-templates-btn ${showTemplateManager ? 'active' : ''}`}\n                                                onClick={() => setShowTemplateManager(!showTemplateManager)}\n                                                title=\"Manage Templates\"\n                                            >\n                                                <FaEdit /> Manage\n                                            </button>\n                                            <button\n                                                type=\"button\"\n                                                className=\"refresh-templates-btn\"\n                                                onClick={refreshTemplates}\n                                                title=\"Refresh Templates\"\n                                            >\n                                                ↻\n                                            </button>\n                                        </div>\n                                    </div>\n\n                                    {/* Template Manager Panel */}\n                                    <AnimatePresence>\n                                        {showTemplateManager && (\n                                            <motion.div\n                                                className=\"template-manager-panel\"\n                                                initial={{ height: 0, opacity: 0 }}\n                                                animate={{ height: 'auto', opacity: 1 }}\n                                                exit={{ height: 0, opacity: 0 }}\n                                            >\n                                                <h4 className=\"manager-title\">Manage Templates</h4>\n                                                {templates.length === 0 ? (\n                                                    <p className=\"no-templates-manager\">No templates found.</p>\n                                                ) : (\n                                                    <ul className=\"template-manage-list\">\n                                                        {templates.map(t => (\n                                                            <li key={t._id} className=\"template-manage-item\">\n                                                                {editingTemplateId === t._id ? (\n                                                                    <div className=\"template-edit-row\">\n                                                                        <input\n                                                                            type=\"text\"\n                                                                            value={editTemplateName}\n                                                                            onChange={(e) => setEditTemplateName(e.target.value)}\n                                                                            className=\"template-edit-input\"\n                                                                            autoFocus\n                                                                        />\n                                                                        <div className=\"edit-actions\">\n                                                                            <button onClick={handleSaveTemplateEdit} className=\"btn-icon-save\" title=\"Save\"><FaSave /></button>\n                                                                            <button onClick={() => setEditingTemplateId(null)} className=\"btn-icon-cancel\" title=\"Cancel\"><FaTimes /></button>\n                                                                        </div>\n                                                                    </div>\n                                                                ) : (\n                                                                    <div className=\"template-view-row\">\n                                                                        <span className=\"template-name-display\">{t.templateName}</span>\n                                                                        <div className=\"template-item-actions\">\n                                                                            <button onClick={() => handleStartEditTemplate(t)} className=\"btn-icon-edit\" title=\"Rename\"><FaEdit /></button>\n                                                                            <button onClick={() => handleDeleteTemplate(t._id)} className=\"btn-icon-delete\" title=\"Delete\"><FaTrash /></button>\n                                                                        </div>\n                                                                    </div>\n                                                                )}\n                                                            </li>\n                                                        ))}\n                                                    </ul>\n                                                )}\n                                            </motion.div>\n                                        )}\n                                    </AnimatePresence>\n\n                                    {loading ? (\n                                        <div className=\"template-loading\">\n                                            <span className=\"api-loader-spinner\"></span> Loading templates...\n                                        </div>\n                                    ) : templateError ? (\n                                        <div className=\"template-error\">\n                                            <p>{templateError}</p>\n                                            <button type=\"button\" onClick={refreshTemplates} className=\"btn-retry\">Retry</button>\n                                        </div>\n                                    ) : (\n                                        templates && templates.length > 0 && (\n                                            <select\n                                                className=\"template-selector-dropdown\"\n                                                onChange={(e) => {\n                                                    const selectedTemplate = templates.find(t => t._id === e.target.value);\n                                                    if (selectedTemplate) {\n                                                        const clonedExercises = selectedTemplate.exercises.map(ex => {\n                                                            const setsCount = ex.sets || 3;\n                                                            // For templates, we generate setsData based on the summary reps/weight\n                                                            const inferredSetsData = new Array(setsCount).fill({\n                                                                reps: ex.reps || 10,\n                                                                weight: ex.weight || 10\n                                                            });\n                                                            return {\n                                                                name: ex.name || '',\n                                                                sets: setsCount,\n                                                                reps: ex.reps || 10,\n                                                                weight: ex.weight || 10,\n                                                                setsData: inferredSetsData\n                                                            };\n                                                        });\n                                                        setExercises(clonedExercises.length > 0 ? clonedExercises : initialExercisesState);\n                                                        setWorkoutData({\n                                                            ...workoutData,\n                                                            type: selectedTemplate.workoutType || 'Strength Training',\n                                                            notes: selectedTemplate.notes || ''\n                                                        });\n                                                    }\n                                                }}\n                                                defaultValue=\"\"\n                                            >\n                                                <option value=\"\" disabled>Choose a template...</option>\n                                                {templates.map(t => (\n                                                    <option key={t._id} value={t._id}>{t.templateName}</option>\n                                                ))}\n                                            </select>\n                                        )\n                                    )}\n                                </div>\n                            )}\n\n                            {workoutData.type === 'Cardio' && (\n                                <div className=\"exercise-section-enhanced\">\n                                    <AnimatePresence>\n                                        {cardioExercises.map((exercise, index) => (\n                                            <motion.div\n                                                key={index}\n                                                layout\n                                                initial={{ opacity: 0, y: -20 }}\n                                                animate={{ opacity: 1, y: 0 }}\n                                                exit={{ opacity: 0, x: -100 }}\n                                                className=\"exercise-card\"\n                                            >\n                                                <div className=\"exercise-header\">\n                                                    <div className=\"exercise-name-row\">\n                                                        <span className=\"exercise-number\">#{index + 1}</span>\n                                                        <input\n                                                            type=\"text\"\n                                                            name=\"name\"\n                                                            className=\"form-input-enhanced exercise-name-input\"\n                                                            placeholder=\"Exercise Name (e.g., Running)\"\n                                                            value={exercise.name}\n                                                            onChange={(e) => handleCardioExerciseChange(index, e)}\n                                                            required\n                                                        />\n                                                    </div>\n                                                    <motion.button\n                                                        type=\"button\"\n                                                        className=\"remove-exercise-btn-enhanced\"\n                                                        onClick={() => removeCardioExercise(index)}\n                                                        whileHover={{ scale: 1.1, rotate: 90 }}\n                                                    >\n                                                        ✕\n                                                    </motion.button>\n                                                </div>\n                                                <div className=\"exercise-stats\">\n                                                    <input\n                                                        type=\"number\"\n                                                        name=\"duration\"\n                                                        className=\"form-input-enhanced stat-input\"\n                                                        placeholder=\"Duration (min)\"\n                                                        value={exercise.duration}\n                                                        onChange={(e) => handleCardioExerciseChange(index, e)}\n                                                        required\n                                                    />\n                                                    <input\n                                                        type=\"number\"\n                                                        name=\"caloriesBurned\"\n                                                        className=\"form-input-enhanced stat-input\"\n                                                        placeholder=\"Calories\"\n                                                        value={exercise.caloriesBurned}\n                                                        onChange={(e) => handleCardioExerciseChange(index, e)}\n                                                        required\n                                                    />\n                                                </div>\n                                            </motion.div>\n                                        ))}\n                                    </AnimatePresence>\n                                    <motion.button\n                                        type=\"button\"\n                                        className=\"add-exercise-btn-enhanced\"\n                                        onClick={addCardioExercise}\n                                        whileHover={{ scale: 1.05 }}\n                                        whileTap={{ scale: 0.95 }}\n                                    >\n                                        + Add Cardio Exercise\n                                    </motion.button>\n                                </div>\n                            )}\n\n                            {workoutData.type === 'Steps' && (\n                                <div className=\"cardio-grid\">\n                                    <div className=\"form-group-enhanced\">\n                                        <label>Steps Walked</label>\n                                        <input\n                                            type=\"number\"\n                                            name=\"steps\"\n                                            className=\"form-input-enhanced\"\n                                            placeholder=\"Number of steps\"\n                                            onChange={handleWorkoutChange}\n                                        />\n                                    </div>\n                                    <div className=\"form-group-enhanced\">\n                                        <label>Distance (km)</label>\n                                        <input\n                                            type=\"number\"\n                                            name=\"distance\"\n                                            className=\"form-input-enhanced\"\n                                            placeholder=\"Distance\"\n                                            onChange={handleWorkoutChange}\n                                        />\n                                    </div>\n                                </div>\n                            )}\n\n                            {workoutData.type === 'Strength Training' && (\n                                <div className=\"exercise-section-enhanced\">\n                                    <AnimatePresence>\n                                        {exercises.map((exercise, index) => (\n                                            <motion.div\n                                                key={index}\n                                                layout\n                                                initial={{ opacity: 0, y: -20 }}\n                                                animate={{ opacity: 1, y: 0 }}\n                                                exit={{ opacity: 0, x: -100 }}\n                                                className=\"exercise-card\"\n                                            >\n                                                <div className=\"exercise-header\">\n                                                    <div className=\"exercise-name-row\">\n                                                        <span className=\"exercise-number\">#{index + 1}</span>\n                                                        <input\n                                                            type=\"text\"\n                                                            name=\"name\"\n                                                            className=\"form-input-enhanced exercise-name-input\"\n                                                            placeholder=\"Exercise Name (e.g., Bench Press)\"\n                                                            value={exercise.name}\n                                                            onChange={(e) => handleExerciseChange(index, e)}\n                                                            required\n                                                        />\n                                                    </div>\n                                                    <motion.button\n                                                        type=\"button\"\n                                                        className=\"remove-exercise-btn-enhanced\"\n                                                        onClick={() => removeExercise(index)}\n                                                        whileHover={{ scale: 1.1, rotate: 90 }}\n                                                    >\n                                                        ✕\n                                                    </motion.button>\n                                                </div>\n\n                                                <div className=\"exercise-sets-config\">\n                                                    <div className=\"form-group-enhanced compact\">\n                                                        <label>Number of Sets:</label>\n                                                        <input\n                                                            type=\"number\"\n                                                            name=\"sets\"\n                                                            className=\"form-input-enhanced sets-count-input\"\n                                                            value={exercise.sets}\n                                                            onChange={(e) => handleExerciseChange(index, e)}\n                                                            min=\"1\"\n                                                        />\n                                                    </div>\n                                                </div>\n\n                                                <div className=\"sets-list\">\n                                                    <div className=\"sets-header-row\">\n                                                        <span className=\"set-label\">Set</span>\n                                                        <span className=\"set-label\">Reps</span>\n                                                        <span className=\"set-label\">Weight (kg)</span>\n                                                    </div>\n                                                    {exercise.setsData && exercise.setsData.map((set, setIndex) => (\n                                                        <motion.div\n                                                            key={setIndex}\n                                                            className=\"set-row\"\n                                                            initial={{ opacity: 0, x: -10 }}\n                                                            animate={{ opacity: 1, x: 0 }}\n                                                        >\n                                                            <div className=\"set-number-badge\">{setIndex + 1}</div>\n                                                            <input\n                                                                type=\"number\"\n                                                                className=\"form-input-enhanced set-input\"\n                                                                placeholder=\"Reps\"\n                                                                value={set.reps}\n                                                                onChange={(e) => handleSetChange(index, setIndex, 'reps', e.target.value)}\n                                                            />\n                                                            <input\n                                                                type=\"number\"\n                                                                className=\"form-input-enhanced set-input\"\n                                                                placeholder=\"Kg\"\n                                                                value={set.weight}\n                                                                onChange={(e) => handleSetChange(index, setIndex, 'weight', e.target.value)}\n                                                            />\n                                                        </motion.div>\n                                                    ))}\n                                                </div>\n                                            </motion.div>\n                                        ))}\n                                    </AnimatePresence>\n                                    <motion.button\n                                        type=\"button\"\n                                        className=\"btn-add-exercise\"\n                                        onClick={addExercise}\n                                        whileHover={{ scale: 1.05 }}\n                                    >\n                                        + Add Exercise\n                                    </motion.button>\n                                </div>\n                            )}\n\n                            <div className=\"step-navigation\">\n                                <motion.button\n                                    type=\"button\"\n                                    className=\"btn-prev\"\n                                    onClick={() => setActiveStep(1)}\n                                    whileHover={{ scale: 1.05 }}\n                                >\n                                    ← Back\n                                </motion.button>\n                                <motion.button\n                                    type=\"button\"\n                                    className=\"btn-next\"\n                                    onClick={() => setActiveStep(3)}\n                                    whileHover={{ scale: 1.05 }}\n                                >\n                                    Next →\n                                </motion.button>\n                            </div>\n                        </motion.div>\n                    )}\n\n                    {/* --- STEP 3: NOTES & SUBMIT --- */}\n                    {activeStep === 3 && (\n                        <motion.div\n                            key=\"step3\"\n                            variants={stepVariants}\n                            initial=\"hidden\"\n                            animate=\"visible\"\n                            exit=\"exit\"\n                            className=\"form-step\"\n                        >\n                            <div className=\"step-header\">\n                                <FaFeatherAlt className=\"step-icon\" />\n                                <h3>Final Notes</h3>\n                            </div>\n\n                            <div className=\"form-group-enhanced\">\n                                <label>Workout Notes</label>\n                                <textarea\n                                    name=\"notes\"\n                                    className=\"form-textarea-enhanced\"\n                                    placeholder=\"How did the workout go? Any notes...\"\n                                    value={workoutData.notes}\n                                    onChange={handleWorkoutChange}\n                                    rows=\"5\"\n                                ></textarea>\n                            </div>\n\n                            {/* --- REVIEW SUMMARY --- */}\n                            <div className=\"review-summary\">\n                                <h4>Summary</h4>\n                                <div className=\"summary-item\"><span>Date:</span> <strong>{workoutData.date}</strong></div>\n                                <div className=\"summary-item\"><span>Type:</span> <strong>{workoutData.type}</strong></div>\n                                <div className=\"summary-item\"><span>Duration:</span> <strong>{workoutData.duration} min</strong></div>\n                                {workoutData.type === 'Strength Training' && (\n                                    <div className=\"summary-item\"><span>Exercises:</span> <strong>{exercises.filter(e => e.name).length}</strong></div>\n                                )}\n                            </div>\n\n                            <div className=\"step-navigation\">\n                                <motion.button\n                                    type=\"button\"\n                                    className=\"btn-prev\"\n                                    onClick={() => setActiveStep(2)}\n                                    whileHover={{ scale: 1.05 }}\n                                >\n                                    ← Back\n                                </motion.button>\n                                <motion.button\n                                    type=\"button\"\n                                    className=\"btn-save-template-step\"\n                                    onClick={handleSaveAsNewTemplate}\n                                    whileHover={{ scale: 1.05 }}\n                                    title=\"Save current setup as a new template\"\n                                >\n                                    <FaSave /> Save Template\n                                </motion.button>\n                                <motion.button\n                                    type=\"submit\"\n                                    className=\"btn-submit\"\n                                    whileHover={{ scale: 1.05 }}\n                                    whileTap={{ scale: 0.95 }}\n                                >\n                                    ✓ Log Workout\n                                </motion.button>\n                            </div>\n                        </motion.div>\n                    )}\n                </AnimatePresence>\n            </form>\n        </motion.div>\n    );\n};\n\nexport default WorkoutLogger;","// frontend/src/pages/WorkoutLoggerPage.js\n\nimport React, { useContext } from 'react';\nimport WorkoutLogger from '../components/WorkoutLogger';\nimport { WorkoutContext } from '../context/WorkoutContext';\nimport { motion } from 'framer-motion';\nimport { FaDumbbell, FaFire, FaCalendarAlt, FaTrophy } from 'react-icons/fa';\nimport BackButton from '../components/common/BackButton';\nimport './WorkoutLoggerPage.css';\n\nconst WorkoutLoggerPage = () => {\n    const { workouts } = useContext(WorkoutContext);\n\n    // Calculate quick stats\n    const thisWeekWorkouts = workouts.filter(w => {\n        const workoutDate = new Date(w.date);\n        const today = new Date();\n        const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);\n        return workoutDate >= weekAgo && workoutDate <= today;\n    }).length;\n\n    const thisMonthWorkouts = workouts.filter(w => {\n        const workoutDate = new Date(w.date);\n        const today = new Date();\n        return workoutDate.getMonth() === today.getMonth() &&\n            workoutDate.getFullYear() === today.getFullYear();\n    }).length;\n\n    const totalWorkouts = workouts.length;\n\n    return (\n        <div className=\"workout-logger-page-wrapper\">\n            {/* Solid Black Background */}\n            <div className=\"gradient-mesh-background\"></div>\n\n            {/* Content - Side by Side Layout */}\n            <div className=\"workout-logger-page\">\n                <div className=\"logger-split-layout\">\n                    {/* Left Side - Title and Stats */}\n                    <div className=\"logger-left-panel\">\n                        {/* Back Button */}\n                        <div style={{ marginBottom: '1rem' }}>\n                            <BackButton />\n                        </div>\n\n                        {/* Hero Header */}\n                        <motion.div\n                            className=\"logger-hero-header\"\n                            initial={{ opacity: 0, x: -30 }}\n                            animate={{ opacity: 1, x: 0 }}\n                            transition={{ duration: 0.6 }}\n                        >\n                            <div className=\"hero-title-section\">\n                                <FaDumbbell className=\"hero-icon\" />\n                                <h1 className=\"hero-title\">Log Workouts</h1>\n                            </div>\n                            <p className=\"hero-subtitle\">Track your progress, build your strength</p>\n                        </motion.div>\n\n                        {/* Quick Stats Cards */}\n                        <motion.div\n                            className=\"quick-stats-stack\"\n                            initial={{ opacity: 0, x: -30 }}\n                            animate={{ opacity: 1, x: 0 }}\n                            transition={{ delay: 0.2, duration: 0.5 }}\n                        >\n                            <motion.div\n                                className=\"stat-card\"\n                                whileHover={{ scale: 1.05, x: 10 }}\n                                transition={{ type: \"spring\", stiffness: 300 }}\n                            >\n                                <FaFire className=\"stat-icon fire\" />\n                                <div className=\"stat-content\">\n                                    <span className=\"stat-value\">{thisWeekWorkouts}</span>\n                                    <span className=\"stat-label\">This Week</span>\n                                </div>\n                            </motion.div>\n\n                            <motion.div\n                                className=\"stat-card\"\n                                whileHover={{ scale: 1.05, x: 10 }}\n                                transition={{ type: \"spring\", stiffness: 300 }}\n                            >\n                                <FaCalendarAlt className=\"stat-icon calendar\" />\n                                <div className=\"stat-content\">\n                                    <span className=\"stat-value\">{thisMonthWorkouts}</span>\n                                    <span className=\"stat-label\">This Month</span>\n                                </div>\n                            </motion.div>\n\n                            <motion.div\n                                className=\"stat-card\"\n                                whileHover={{ scale: 1.05, x: 10 }}\n                                transition={{ type: \"spring\", stiffness: 300 }}\n                            >\n                                <FaTrophy className=\"stat-icon trophy\" />\n                                <div className=\"stat-content\">\n                                    <span className=\"stat-value\">{totalWorkouts}</span>\n                                    <span className=\"stat-label\">Total Logged</span>\n                                </div>\n                            </motion.div>\n                        </motion.div>\n                    </div>\n\n                    {/* Right Side - Workout Form */}\n                    <motion.div\n                        className=\"logger-right-panel\"\n                        initial={{ opacity: 0, x: 30 }}\n                        animate={{ opacity: 1, x: 0 }}\n                        transition={{ delay: 0.3, duration: 0.5 }}\n                    >\n                        <WorkoutLogger />\n                    </motion.div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default WorkoutLoggerPage;","// frontend/src/components/common/BackButton.js\r\nimport React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { FaArrowLeft } from 'react-icons/fa';\r\nimport './BackButton.css';\r\n\r\nconst BackButton = ({ label = 'Back', className = '' }) => {\r\n    const navigate = useNavigate();\r\n\r\n    return (\r\n        <motion.button\r\n            className={`back-button-nav ${className}`}\r\n            onClick={() => navigate(-1)}\r\n            whileHover={{ x: -3 }}\r\n            whileTap={{ scale: 0.95 }}\r\n        >\r\n            <FaArrowLeft />\r\n            <span>{label}</span>\r\n        </motion.button>\r\n    );\r\n};\r\n\r\nexport default BackButton;\r\n"],"names":["_ref","_template$exercises","template","addWorkout","useContext","WorkoutContext","templates","loading","error","templateError","refreshTemplates","deleteTemplate","updateTemplate","saveAsTemplate","TemplateContext","calculateDailyXP","useLevelUp","getLocalDateString","now","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","concat","initialWorkoutState","type","duration","notes","date","initialExercisesState","name","sets","reps","weight","setsData","initialCardioExercises","caloriesBurned","workoutData","setWorkoutData","useState","exercises","setExercises","cardioExercises","setCardioExercises","setError","success","setSuccess","activeStep","setActiveStep","showTemplateManager","setShowTemplateManager","editingTemplateId","setEditingTemplateId","editTemplateName","setEditTemplateName","handleSaveTemplateEdit","async","trim","res","templateName","setTimeout","handleWorkoutChange","e","_objectSpread","target","value","handleExerciseChange","index","updatedExercises","newSetsCount","parseInt","currentSetsData","length","lastSet","setsToAdd","Array","fill","map","slice","handleSetChange","exerciseIndex","setIndex","field","handleCardioExerciseChange","updated","ex","i","useEffect","workoutType","clonedExercises","setsCount","inferredSetsData","stepVariants","hidden","opacity","x","visible","transition","exit","_jsxs","motion","div","className","variants","initial","animate","children","_jsx","y","FaCheck","step","onClick","whileHover","scale","style","width","onSubmit","preventDefault","formattedExercises","filter","summaryReps","summaryWeight","totalReps","reduce","acc","s","Number","maxWeight","max","Math","round","finalWorkoutData","result","console","log","catch","err","AnimatePresence","mode","FaDumbbell","onChange","required","label","checked","FaClock","min","button","whileTap","FaRunning","FaDownload","title","FaEdit","height","t","_id","autoFocus","FaSave","FaTimes","handleStartEditTemplate","window","confirm","id","handleDeleteTemplate","FaTrash","selectedTemplate","find","defaultValue","disabled","exercise","layout","placeholder","_","removeCardioExercise","rotate","addCardioExercise","removeExercise","set","addExercise","FaFeatherAlt","rows","workoutToSave","WorkoutLoggerPage","workouts","thisWeekWorkouts","w","workoutDate","today","getTime","thisMonthWorkouts","totalWorkouts","marginBottom","BackButton","delay","stiffness","FaFire","FaCalendarAlt","FaTrophy","WorkoutLogger","navigate","useNavigate","FaArrowLeft"],"sourceRoot":""}