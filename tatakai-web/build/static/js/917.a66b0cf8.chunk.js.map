{"version":3,"file":"static/js/917.a66b0cf8.chunk.js","mappings":"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","sources":["components/common/BackButton.js","components/nutrition/DailyProgressRings.js","components/nutrition/NutritionSummary.js","components/nutrition/NutritionLogger.js","components/nutrition/EditMealModal.js","components/nutrition/NutritionHistory.js","components/nutrition/HydrationTracker.js","components/nutrition/StatCard.js","components/nutrition/CalorieTrendChart.js","components/nutrition/MacroPieChart.js","components/nutrition/MonarchsRoad/PathStone.js","components/nutrition/MonarchsRoad/MonarchsRoad.js","components/nutrition/NutritionProgress.js","components/NutritionParticles.js","pages/nutrition/NutritionPage.js"],"sourcesContent":["// frontend/src/components/common/BackButton.js\r\nimport React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { FaArrowLeft } from 'react-icons/fa';\r\nimport './BackButton.css';\r\n\r\nconst BackButton = ({ label = 'Back', className = '' }) => {\r\n    const navigate = useNavigate();\r\n\r\n    return (\r\n        <motion.button\r\n            className={`back-button-nav ${className}`}\r\n            onClick={() => navigate(-1)}\r\n            whileHover={{ x: -3 }}\r\n            whileTap={{ scale: 0.95 }}\r\n        >\r\n            <FaArrowLeft />\r\n            <span>{label}</span>\r\n        </motion.button>\r\n    );\r\n};\r\n\r\nexport default BackButton;\r\n","import React, { useMemo } from 'react';\nimport { ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\nimport { useNutrition } from '../../context/NutritionContext';\nimport './DailyProgressRings.css';\n\n// Configuration for all five rings\nconst RING_CONFIG = {\n    calories: { goal: 2200, color: '#ff007a' },\n    protein: { goal: 150, color: '#adff2f' },\n    fat: { goal: 70, color: '#8884d8' },\n    carbs: { goal: 250, color: '#ff9f40' },\n    water: { goal: 3000, color: '#00bfff' },\n};\n\nconst OVER_LIMIT_COLOR = '#ff3b30';\n\n// Helper function for dynamic font sizing\nconst getDynamicFontSize = (calories) => {\n    const numDigits = String(calories).length;\n    if (numDigits <= 3) return '2.8rem';\n    if (numDigits === 4) return '2.4rem';\n    if (numDigits === 5) return '2.0rem';\n    return '1.6rem';\n};\n\n// Helper function to calculate angles\nconst getAngle = (value, goal) => (goal > 0 ? (Math.min(value, goal) / goal) * 360 : 0);\n\nconst DailyProgressRings = () => {\n    const { nutritionLogs, hydrationLogs, nutritionGoals, hydrationGoal } = useNutrition();\n\n    const dailyTotals = useMemo(() => {\n        const totals = { calories: 0, protein: 0, fat: 0, carbs: 0, water: 0 };\n        if (Array.isArray(nutritionLogs)) {\n            nutritionLogs.forEach(log => {\n                if (log && Array.isArray(log.items)) {\n                    log.items.forEach(item => {\n                        if (item) {\n                            totals.calories += Number(item.calories) || 0;\n                            totals.protein += Number(item.protein) || 0;\n                            totals.fat += Number(item.fat) || 0;\n                            totals.carbs += Number(item.carbohydrates) || 0;\n                        }\n                    });\n                }\n            });\n        }\n        if (Array.isArray(hydrationLogs)) {\n            totals.water = hydrationLogs.reduce((total, log) => total + (log?.amount || 0), 0);\n        }\n        return totals;\n    }, [nutritionLogs, hydrationLogs]);\n\n    const isOverLimit = dailyTotals.calories > nutritionGoals.calories;\n    const calorieColor = isOverLimit ? OVER_LIMIT_COLOR : RING_CONFIG.calories.color;\n    const calorieStatusClass = isOverLimit ? 'over-limit' : '';\n\n    const roundedCalories = Math.round(dailyTotals.calories);\n    const calorieFontSize = getDynamicFontSize(roundedCalories);\n\n    return (\n        <div className=\"rings-container-final\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <PieChart>\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"45%\" outerRadius=\"100%\" fill=\"rgba(58, 63, 90, 0.5)\" startAngle={90} endAngle={-270} isAnimationActive={false} stroke=\"none\" />\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"90%\" outerRadius=\"100%\" startAngle={90} endAngle={90 - getAngle(dailyTotals.calories, nutritionGoals.calories)} stroke=\"none\" cornerRadius=\"50%\"><Cell fill={calorieColor} /></Pie>\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"80%\" outerRadius=\"90%\" startAngle={90} endAngle={90 - getAngle(dailyTotals.protein, nutritionGoals.protein)} stroke=\"none\" cornerRadius=\"50%\"><Cell fill={RING_CONFIG.protein.color} /></Pie>\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"70%\" outerRadius=\"80%\" startAngle={90} endAngle={90 - getAngle(dailyTotals.fat, nutritionGoals.fat)} stroke=\"none\" cornerRadius=\"50%\"><Cell fill={RING_CONFIG.fat.color} /></Pie>\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"60%\" outerRadius=\"70%\" startAngle={90} endAngle={90 - getAngle(dailyTotals.carbs, nutritionGoals.carbs)} stroke=\"none\" cornerRadius=\"50%\"><Cell fill={RING_CONFIG.carbs.color} /></Pie>\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"50%\" outerRadius=\"60%\" startAngle={90} endAngle={90 - getAngle(dailyTotals.water, hydrationGoal)} stroke=\"none\" cornerRadius=\"50%\"><Cell fill={RING_CONFIG.water.color} /></Pie>\n                </PieChart>\n            </ResponsiveContainer>\n            <div className={`rings-center-text-final ${calorieStatusClass}`}>\n                <h3 style={{ fontSize: calorieFontSize }}>\n                    {roundedCalories}\n                </h3>\n                <span>cal</span>\n            </div>\n        </div>\n    );\n};\n\nexport default DailyProgressRings;","import React from 'react';\nimport DailyProgressRings from './DailyProgressRings';\nimport { FaClipboardList, FaHistory, FaTint, FaChartPie } from 'react-icons/fa';\nimport './NutritionSummary.css';\n\nconst NutritionSummary = ({ setActiveTab }) => {\n    return (\n        <div className=\"nutrition-summary-container\">\n            <div className=\"summary-cards-grid\">\n                {/* Each card now has a unique alignment class */}\n                <div className=\"nutrition-summary-card align-top-left\" onClick={() => setActiveTab('logger')}>\n                    <FaClipboardList className=\"nutrition-summary-icon\" />\n                    <h3 data-text=\"Log Meal\">Log Meal</h3>\n                    <p>Record your daily nutritional intake.</p>\n                </div>\n                <div className=\"nutrition-summary-card align-top-right\" onClick={() => setActiveTab('history')}>\n                    <FaHistory className=\"nutrition-summary-icon\" />\n                    <h3 data-text=\"View History\">View History</h3>\n                    <p>Review and edit your past entries.</p>\n                </div>\n                <div className=\"nutrition-summary-card align-bottom-left\" onClick={() => setActiveTab('hydration')}>\n                    <FaTint className=\"nutrition-summary-icon\" />\n                    <h3 data-text=\"Track Hydration\">Track Hydration</h3>\n                    <p>Log your daily water intake.</p>\n                </div>\n                <div className=\"nutrition-summary-card align-bottom-right\" onClick={() => setActiveTab('progress')}>\n                    <FaChartPie className=\"nutrition-summary-icon\" />\n                    <h3 data-text=\"Analyze Progress\">Analyze Progress</h3>\n                    <p>Visualize your performance over time.</p>\n                </div>\n                <div className=\"center-ring-container\">\n                    <DailyProgressRings />\n                </div>\n            </div>\n\n            {/* Legend for the rings */}\n            <div className=\"nutrition-rings-legend\">\n                <div className=\"legend-item\">\n                    <span className=\"legend-dot\" style={{ backgroundColor: '#ff007a' }}></span>\n                    <span>Calories</span>\n                </div>\n                <div className=\"legend-item\">\n                    <span className=\"legend-dot\" style={{ backgroundColor: '#adff2f' }}></span>\n                    <span>Protein</span>\n                </div>\n                <div className=\"legend-item\">\n                    <span className=\"legend-dot\" style={{ backgroundColor: '#ff9f40' }}></span>\n                    <span>Carbs</span>\n                </div>\n                <div className=\"legend-item\">\n                    <span className=\"legend-dot\" style={{ backgroundColor: '#8884d8' }}></span>\n                    <span>Fat</span>\n                </div>\n                <div className=\"legend-item\">\n                    <span className=\"legend-dot\" style={{ backgroundColor: '#00bfff' }}></span>\n                    <span>Water</span>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default NutritionSummary;","import React, { useState, useEffect, useContext, useMemo } from 'react';\nimport { useNutrition } from '../../context/NutritionContext';\nimport { useLevelUp } from '../../context/LevelUpContext'; // Import hook\nimport { AuthContext } from '../../context/AuthContext';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport api from '../../api/axios';\nimport { FaUtensils, FaPlus, FaTrash, FaChevronLeft, FaChevronRight } from 'react-icons/fa';\nimport './NutritionLogger.css';\n\nconst NutritionLogger = ({ selectedDate }) => {\n    const { addMeal, loading } = useNutrition();\n    const { calculateDailyXP } = useLevelUp();\n    const { token } = useContext(AuthContext);\n\n    const [items, setItems] = useState([]);\n    const [mealType, setMealType] = useState('Breakfast');\n    const [searchQuery, setSearchQuery] = useState('');\n    const [searchResults, setSearchResults] = useState([]);\n    const [isSearching, setIsSearching] = useState(false);\n\n    // FOOD SEARCH TEMPORARILY DISABLED - Database not working\n    // useEffect(() => {\n    //     if (!token || searchQuery.length < 2) {\n    //         console.log('[NUTRITION LOGGER] Search blocked - Token:', token ? 'present' : 'missing', 'Query length:', searchQuery.length);\n    //         setSearchResults([]);\n    //         return;\n    //     }\n    //     const delayDebounce = setTimeout(async () => {\n    //         setIsSearching(true);\n    //         try {\n    //             console.log('[NUTRITION LOGGER] Searching for:', searchQuery);\n    //             console.log('[NUTRITION LOGGER] Token preview:', token.substring(0, 20) + '...');\n    //             const config = { headers: { 'x-auth-token': token } };\n    //             console.log('[NUTRITION LOGGER] Request config:', config);\n    //             const res = await api.get(`/api/food-search?query=${encodeURIComponent(searchQuery)}`, config);\n    //             console.log('Food search results:', res.data);\n    //             setSearchResults(Array.isArray(res.data) ? res.data : []);\n    //         } catch (error) {\n    //             console.error('[NUTRITION LOGGER] Search error status:', error.response?.status);\n    //             console.error('[NUTRITION LOGGER] Search error data:', error.response?.data);\n    //             console.error('[NUTRITION LOGGER] Search error message:', error.message);\n    //             setSearchResults([]);\n    //         }\n    //         setIsSearching(false);\n    //     }, 380);\n    //     return () => clearTimeout(delayDebounce);\n    // }, [searchQuery, token]);\n\n    const handleAddItemFromSearch = (food) => {\n        const newItem = {\n            foodName: food.label,\n            calories: Math.round(food.calories) || 0,\n            protein: Math.round(food.protein) || 0,\n            carbohydrates: Math.round(food.carbs) || 0,\n            fat: Math.round(food.fat) || 0,\n            servingSize: 1,\n            servingUnit: 'serving',\n        };\n        setItems(prevItems => [...prevItems, newItem]);\n        setSearchQuery('');\n        setSearchResults([]);\n    };\n\n    const handleAddBlankItem = () => {\n        const blankItem = { foodName: '', calories: '', protein: '', carbohydrates: '', fat: '', servingSize: '', servingUnit: '' };\n        setItems(prevItems => [...prevItems, blankItem]);\n    };\n\n    const handleRemoveItem = (indexToRemove) => {\n        setItems(items.filter((_, index) => index !== indexToRemove));\n    };\n\n    const handleItemChange = (e, index) => {\n        const { name, value } = e.target;\n        const list = [...items];\n        list[index][name] = value;\n        setItems(list);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (items.length === 0) {\n            alert('Please add at least one food item.');\n            return;\n        }\n        // Use local date components (not UTC) to match the XP calculation\n        const year = selectedDate.getFullYear();\n        const month = String(selectedDate.getMonth() + 1).padStart(2, '0');\n        const day = String(selectedDate.getDate()).padStart(2, '0');\n        const formattedDate = `${year}-${month}-${day}`;\n\n        console.log('[NutritionLogger] Logging meal for date:', formattedDate);\n\n        const mealData = {\n            date: formattedDate,\n            mealType,\n            items: items.filter(item => item.foodName && item.calories && item.servingSize),\n        };\n\n        if (mealData.items.length === 0) {\n            alert('Please fill out at least one item completely.');\n            return;\n        }\n\n        addMeal(mealData).then(() => {\n            setItems([]);\n            // Trigger XP Calculation\n            if (calculateDailyXP) {\n                console.log('Triggering XP calculation after meal...');\n                calculateDailyXP(true).catch(err => console.error('XP Trigger Error:', err));\n            }\n        });\n    };\n\n    const totals = useMemo(() => {\n        return items.reduce((acc, it) => {\n            const c = Number(it.calories) || 0;\n            acc.calories += c;\n            acc.protein += Number(it.protein) || 0;\n            acc.carbs += Number(it.carbohydrates) || 0;\n            acc.fat += Number(it.fat) || 0;\n            return acc;\n        }, { calories: 0, protein: 0, carbs: 0, fat: 0 });\n    }, [items]);\n\n    // Custom item modal state\n    const [showCustomModal, setShowCustomModal] = useState(false);\n    const [customForm, setCustomForm] = useState({ foodName: '', servingSize: 1, servingUnit: 'serving', calories: '', protein: '', carbohydrates: '', fat: '' });\n\n    const openCustomModal = () => setShowCustomModal(true);\n    const closeCustomModal = () => {\n        setShowCustomModal(false);\n        setCustomForm({ foodName: '', servingSize: 1, servingUnit: 'serving', calories: '', protein: '', carbohydrates: '', fat: '' });\n    };\n\n    const handleCustomChange = (e) => {\n        const { name, value } = e.target;\n        setCustomForm(prev => ({ ...prev, [name]: value }));\n    };\n\n    const handleCustomSubmit = (e) => {\n        e.preventDefault();\n        if (!customForm.foodName || !customForm.calories) return;\n        const newItem = {\n            foodName: customForm.foodName,\n            servingSize: Number(customForm.servingSize) || 1,\n            servingUnit: customForm.servingUnit || 'serving',\n            calories: Number(customForm.calories) || 0,\n            protein: Number(customForm.protein) || 0,\n            carbohydrates: Number(customForm.carbohydrates) || 0,\n            fat: Number(customForm.fat) || 0,\n        };\n        setItems(prev => [...prev, newItem]);\n        closeCustomModal();\n    };\n\n    return (\n        <div className=\"nutrition-logger-shell\">\n            <motion.div className=\"logger-left\" initial={{ opacity: 0, x: -12 }} animate={{ opacity: 1, x: 0 }}>\n                <div className=\"logger-header\">\n                    <div className=\"title\">\n                        <FaUtensils className=\"food-ico\" />\n                        <div>\n                            <h3>Log Meal</h3>\n                            <p className=\"hint\">Create custom items to track your nutrition.</p>\n                        </div>\n                    </div>\n\n                    <div className=\"mini-controls\">\n                        <div className=\"date-nav\">\n                            <button className=\"icon-btn\" onClick={() => { const d = new Date(selectedDate); d.setDate(d.getDate() - 1); /* parent handles date change elsewhere */ }}><FaChevronLeft /></button>\n                            <div className=\"date-label\">{selectedDate.toDateString()}</div>\n                            <button className=\"icon-btn\" onClick={() => { const d = new Date(selectedDate); d.setDate(d.getDate() + 1); }}><FaChevronRight /></button>\n                        </div>\n                        <select className=\"meal-type-select\" value={mealType} onChange={(e) => setMealType(e.target.value)}>\n                            <option>Breakfast</option>\n                            <option>Lunch</option>\n                            <option>Dinner</option>\n                            <option>Snacks</option>\n                        </select>\n                    </div>\n                </div>\n\n                {/* FOOD SEARCH TEMPORARILY DISABLED */}\n                <div className=\"search-box\" style={{ display: 'none' }}>\n                    <input\n                        type=\"text\"\n                        className=\"search-input\"\n                        placeholder=\"Search foods (min 2 chars)...\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                        autoComplete=\"off\"\n                        disabled\n                    />\n                    {isSearching && <div className=\"spinner small\"></div>}\n                    {searchResults.length > 0 && (\n                        <motion.ul className=\"search-results\" initial={{ opacity: 0, y: -6 }} animate={{ opacity: 1, y: 0 }}>\n                            {searchResults.slice(0, 6).map((food) => (\n                                <motion.li key={food.foodId || food.label} onClick={() => handleAddItemFromSearch(food)} whileHover={{ scale: 1.02 }}>\n                                    <div className=\"sr-left\">\n                                        <div className=\"sr-title\">{food.label}</div>\n                                        <div className=\"sr-sub\">{food.category || ''}</div>\n                                    </div>\n                                    <div className=\"sr-right\">{Math.round(food.calories)} kcal</div>\n                                </motion.li>\n                            ))}\n                        </motion.ul>\n                    )}\n                </div>\n\n                <form onSubmit={handleSubmit} className=\"log-form\">\n                    <div className=\"items-list-container\">\n                        <AnimatePresence>\n                            {items.map((item, index) => (\n                                <motion.div key={index} layout initial={{ opacity: 0, y: -8 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, scale: 0.96 }} className=\"food-item-card\">\n                                    <div className=\"left-col\">\n                                        <input type=\"text\" name=\"foodName\" value={item.foodName} onChange={(e) => handleItemChange(e, index)} className=\"item-input food-name\" placeholder=\"Food name\" />\n                                        <div className=\"meta-row\">\n                                            <input type=\"number\" name=\"servingSize\" value={item.servingSize} onChange={(e) => handleItemChange(e, index)} className=\"item-input tiny\" placeholder=\"Size\" />\n                                            <input type=\"text\" name=\"servingUnit\" value={item.servingUnit} onChange={(e) => handleItemChange(e, index)} className=\"item-input tiny\" placeholder=\"Unit\" />\n                                        </div>\n                                    </div>\n                                    <div className=\"right-col\">\n                                        <input type=\"number\" name=\"calories\" value={item.calories} onChange={(e) => handleItemChange(e, index)} className=\"item-input\" placeholder=\"kcal\" />\n                                        <div className=\"macro-row\">\n                                            <input type=\"number\" name=\"protein\" value={item.protein} onChange={(e) => handleItemChange(e, index)} className=\"item-input tiny\" placeholder=\"P\" />\n                                            <input type=\"number\" name=\"carbohydrates\" value={item.carbohydrates} onChange={(e) => handleItemChange(e, index)} className=\"item-input tiny\" placeholder=\"C\" />\n                                            <input type=\"number\" name=\"fat\" value={item.fat} onChange={(e) => handleItemChange(e, index)} className=\"item-input tiny\" placeholder=\"F\" />\n                                        </div>\n                                    </div>\n                                    <button type=\"button\" className=\"remove-item-btn\" onClick={() => handleRemoveItem(index)}><FaTrash /></button>\n                                </motion.div>\n                            ))}\n                        </AnimatePresence>\n                    </div>\n\n                    <div className=\"form-actions\">\n                        <button type=\"button\" className=\"add-custom-btn\" onClick={openCustomModal}><FaPlus /> Add Custom</button>\n                        <div className=\"submit-block\">\n                            <div className=\"totals\">\n                                <div><strong>{totals.calories}</strong><span> kcal</span></div>\n                                <div><strong>{totals.protein}</strong><span> g P</span></div>\n                                <div><strong>{totals.carbs}</strong><span> g C</span></div>\n                                <div><strong>{totals.fat}</strong><span> g F</span></div>\n                            </div>\n                            <button type=\"submit\" className=\"submit-meal-btn\" disabled={loading}>{loading ? 'Logging...' : 'Commit Meal'}</button>\n                        </div>\n                    </div>\n                </form>\n            </motion.div>\n\n            <motion.aside className=\"logger-preview\" initial={{ opacity: 0, x: 12 }} animate={{ opacity: 1, x: 0 }}>\n                <div className=\"preview-card\">\n                    <h4>Meal Preview</h4>\n                    <div className=\"preview-list\">\n                        {items.length === 0 && <div className=\"empty\">No items yet  add from search or create one.</div>}\n                        {items.map((it, i) => (\n                            <div className=\"preview-row\" key={i}>\n                                <div className=\"p-name\">{it.foodName || ''}</div>\n                                <div className=\"p-meta\">{(Number(it.calories) || 0)} kcal</div>\n                            </div>\n                        ))}\n                    </div>\n                    <div className=\"preview-footer\">\n                        <div className=\"p-total\">Total: <strong>{totals.calories} kcal</strong></div>\n                        <div className=\"p-action\">{items.length > 0 ? <button className=\"ghost\">Ready</button> : null}</div>\n                    </div>\n                </div>\n            </motion.aside>\n            <AnimatePresence>\n                {showCustomModal && (\n                    <motion.div className=\"modal-overlay\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>\n                        <motion.form className=\"custom-modal\" initial={{ scale: 0.96, y: -8 }} animate={{ scale: 1, y: 0 }} exit={{ scale: 0.98 }} onSubmit={handleCustomSubmit}>\n                            <h4>Create Custom Item</h4>\n                            <div className=\"modal-row\">\n                                <input name=\"foodName\" value={customForm.foodName} onChange={handleCustomChange} placeholder=\"Food name\" required />\n                                <input name=\"calories\" value={customForm.calories} onChange={handleCustomChange} placeholder=\"Calories\" required />\n                            </div>\n                            <div className=\"modal-row\">\n                                <input name=\"servingSize\" value={customForm.servingSize} onChange={handleCustomChange} placeholder=\"Serving size\" />\n                                <input name=\"servingUnit\" value={customForm.servingUnit} onChange={handleCustomChange} placeholder=\"Unit\" />\n                            </div>\n                            <div className=\"modal-row\">\n                                <input name=\"protein\" value={customForm.protein} onChange={handleCustomChange} placeholder=\"Protein (g)\" />\n                                <input name=\"carbohydrates\" value={customForm.carbohydrates} onChange={handleCustomChange} placeholder=\"Carbs (g)\" />\n                                <input name=\"fat\" value={customForm.fat} onChange={handleCustomChange} placeholder=\"Fat (g)\" />\n                            </div>\n                            <div className=\"modal-actions\">\n                                <button type=\"button\" className=\"btn ghost\" onClick={closeCustomModal}>Cancel</button>\n                                <button type=\"submit\" className=\"btn primary\">Add Item</button>\n                            </div>\n                        </motion.form>\n                    </motion.div>\n                )}\n            </AnimatePresence>\n        </div>\n    );\n};\n\nexport default NutritionLogger;","import React, { useState, useEffect } from 'react';\nimport { useNutrition } from '../../context/NutritionContext';\nimport './EditMealModal.css';\n\nconst EditMealModal = ({ meal, onClose }) => {\n    const { updateMeal, loading } = useNutrition();\n\n    // Initialize state for the form fields\n    const [mealTitle, setMealTitle] = useState('');\n    const [mealType, setMealType] = useState('Breakfast');\n    const [items, setItems] = useState([]);\n\n    // This useEffect hook pre-fills the form whenever a new 'meal' is passed to the modal\n    useEffect(() => {\n        if (meal) {\n            setMealTitle(meal.mealName || '');\n            setMealType(meal.mealType);\n            // We need to remove the internal __v and _id properties Mongoose adds to sub-documents\n            setItems(meal.items.map(({ foodName, calories, protein, carbohydrates, fat, servingSize, servingUnit }) => \n                ({ foodName, calories, protein, carbohydrates, fat, servingSize, servingUnit }))\n            );\n        }\n    }, [meal]);\n\n    if (!meal) return null;\n\n    // These functions are similar to the logger, but operate on this modal's state\n    const handleItemChange = (index, event) => {\n        const updatedItems = [...items];\n        updatedItems[index][event.target.name] = event.target.value;\n        setItems(updatedItems);\n    };\n    const handleAddItem = () => setItems([...items, { foodName: '', calories: '', protein: '', carbohydrates: '', fat: '', servingSize: '', servingUnit: '' }]);\n    const handleRemoveItem = (index) => setItems(items.filter((_, i) => i !== index));\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const mealData = {\n            mealName: mealTitle,\n            mealType,\n            items: items.filter(item => item.foodName && item.calories && item.servingSize),\n        };\n        updateMeal(meal._id, mealData).then(() => {\n            onClose(); // Close the modal on success\n        });\n    };\n\n    return (\n        <div className=\"modal-backdrop\">\n            <div className=\"modal-content\">\n                <h2>Edit Meal</h2>\n                <form onSubmit={handleSubmit} className=\"edit-meal-form\">\n                    {/* This form is a mirror of your new NutritionLogger component */}\n                    <div className=\"form-row\">\n                         <div className=\"form-group-inline\">\n                            <label htmlFor=\"mealType\">Meal Type</label>\n                            <select id=\"mealType\" value={mealType} onChange={(e) => setMealType(e.target.value)}>\n                                <option>Breakfast</option>\n                                <option>Lunch</option>\n                                <option>Dinner</option>\n                                <option>Snacks</option>\n                            </select>\n                        </div>\n                        <div className=\"form-group-inline\">\n                            <label htmlFor=\"mealTitle\">Meal Title (Optional)</label>\n                            <input type=\"text\" id=\"mealTitle\" value={mealTitle} onChange={(e) => setMealTitle(e.target.value)} />\n                        </div>\n                    </div>\n                    <div className=\"items-list\">\n                         {items.map((item, index) => (\n                            <div key={index} className=\"food-item-row\">\n                                <input type=\"text\" name=\"foodName\" placeholder=\"Food Name\" value={item.foodName} onChange={e => handleItemChange(index, e)} required className=\"food-name-input\"/>\n                                <input type=\"number\" name=\"servingSize\" placeholder=\"Size\" value={item.servingSize} onChange={e => handleItemChange(index, e)} required />\n                                <input type=\"text\" name=\"servingUnit\" placeholder=\"Unit\" value={item.servingUnit} onChange={e => handleItemChange(index, e)} required />\n                                <input type=\"number\" name=\"calories\" placeholder=\"kcal\" value={item.calories} onChange={e => handleItemChange(index, e)} required />\n                                <input type=\"number\" name=\"protein\" placeholder=\"P (g)\" value={item.protein} onChange={e => handleItemChange(index, e)} />\n                                <input type=\"number\" name=\"carbohydrates\" placeholder=\"C (g)\" value={item.carbohydrates} onChange={e => handleItemChange(index, e)} />\n                                <input type=\"number\" name=\"fat\" placeholder=\"F (g)\" value={item.fat} onChange={e => handleItemChange(index, e)} />\n                                <button type=\"button\" className=\"remove-item-btn\" onClick={() => handleRemoveItem(index)}></button>\n                            </div>\n                        ))}\n                    </div>\n                    <div className=\"modal-actions\">\n                        <button type=\"button\" className=\"add-item-btn\" onClick={handleAddItem}>+ Add Item</button>\n                        <div>\n                            <button type=\"button\" className=\"btn-cancel\" onClick={onClose}>Cancel</button>\n                            <button type=\"submit\" className=\"btn-save\" disabled={loading}>{loading ? 'Saving...' : 'Save Changes'}</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default EditMealModal;","import React, { useMemo,useState,useContext } from 'react';\nimport { useNutrition } from '../../context/NutritionContext';\nimport { RecipeContext } from '../../context/RecipeContext';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { FaHistory, FaSave, FaEdit, FaTrash } from 'react-icons/fa';\nimport './NutritionHistory.css';\nimport EditMealModal from './EditMealModal';\n\nconst NutritionHistory = () => {\n    const { nutritionLogs, loading, error, deleteMeal } = useNutrition();\n    const [editingMeal, setEditingMeal] = useState(null);\n    const { addRecipe } = useContext(RecipeContext); // Use the RecipeContext\n    const dailyTotals = useMemo(() => {\n        const totals = { calories: 0, protein: 0, carbohydrates: 0, fat: 0 };\n        nutritionLogs.forEach(log => {\n            log.items.forEach(item => {\n                totals.calories += Number(item.calories) || 0;\n                totals.protein += Number(item.protein) || 0;\n                totals.carbohydrates += Number(item.carbohydrates) || 0;\n                totals.fat += Number(item.fat) || 0;\n            });\n        });\n        return totals;\n    }, [nutritionLogs]);\n    const handleSaveAsRecipe = (meal) => {\n        const recipeName = prompt(\"Enter a name for this recipe:\", meal.mealName || `My ${meal.mealType}`);\n        if (recipeName) {\n            // Sanitize items to match the recipe schema (remove _id, __v if they exist)\n            const recipeItems = meal.items.map(({ foodName, calories, protein, carbohydrates, fat, servingSize, servingUnit }) => \n                ({ foodName, calories, protein, carbohydrates, fat, servingSize, servingUnit }));\n            \n            addRecipe({ name: recipeName, items: recipeItems });\n        }\n    };\n\n    if (loading) {\n        return <p>Loading history...</p>;\n    }\n\n    if (error) {\n        return <p className=\"error-message\">{error}</p>;\n    }\n\n    if (nutritionLogs.length === 0) {\n        return <p>No meals logged for this day. Use the 'Meal Logger' tab to add one!</p>;\n    }\n\n    return (\n        <motion.div className=\"nutrition-history-container\" initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\n            <motion.div className=\"daily-totals-card\" initial={{ y: -12 }} animate={{ y: 0 }}>\n                <div className=\"totals-header\">\n                    <FaHistory className=\"history-icon\" />\n                    <h3>Daily Summary</h3>\n                </div>\n                <div className=\"totals-grid\">\n                    <motion.div className=\"total-item\" whileHover={{ scale: 1.05 }}>\n                        <p>{dailyTotals.calories.toFixed(0)}</p>\n                        <span>Calories</span>\n                    </motion.div>\n                    <motion.div className=\"total-item\" whileHover={{ scale: 1.05 }}>\n                        <p>{dailyTotals.protein.toFixed(1)}g</p>\n                        <span>Protein</span>\n                    </motion.div>\n                    <motion.div className=\"total-item\" whileHover={{ scale: 1.05 }}>\n                        <p>{dailyTotals.carbohydrates.toFixed(1)}g</p>\n                        <span>Carbs</span>\n                    </motion.div>\n                    <motion.div className=\"total-item\" whileHover={{ scale: 1.05 }}>\n                        <p>{dailyTotals.fat.toFixed(1)}g</p>\n                        <span>Fat</span>\n                    </motion.div>\n                </div>\n            </motion.div>\n\n            <AnimatePresence>\n                {nutritionLogs.map((log, idx) => (\n                    <motion.div key={log._id} initial={{ opacity: 0, y: -8 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0 }} transition={{ delay: idx * 0.05 }} className=\"meal-card\">\n                        <div className=\"meal-card-header\">\n                            <div className=\"header-left\">\n                                <h4>{log.mealType}</h4>\n                                {log.mealName && <span className=\"meal-name\">{log.mealName}</span>}\n                            </div>\n                            <div className=\"meal-card-controls\">\n                                <motion.button whileHover={{ scale: 1.1 }} onClick={() => handleSaveAsRecipe(log)} className=\"control-btn save-btn\" title=\"Save as recipe\"><FaSave/></motion.button>\n                                <motion.button whileHover={{ scale: 1.1 }} onClick={() => setEditingMeal(log)} className=\"control-btn edit-btn\" title=\"Edit meal\"><FaEdit/></motion.button>\n                                <motion.button whileHover={{ scale: 1.1 }} onClick={() => deleteMeal(log._id)} className=\"control-btn delete-btn\" title=\"Delete meal\"><FaTrash/></motion.button>\n                            </div>\n                        </div>\n                        <div className=\"meal-items\">\n                            {log.items.map((item, index) => (\n                                <motion.div key={index} className=\"meal-item-row\" initial={{ opacity: 0, x: -8 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.02 * index }}>\n                                    <div className=\"item-name\">{item.foodName}</div>\n                                    <div className=\"item-details\">\n                                        <span className=\"serving\">{item.servingSize}{item.servingUnit}</span>\n                                        <span className=\"nutrient\">{Number(item.calories).toFixed(0)} kcal</span>\n                                        <span className=\"nutrient\">{Number(item.protein).toFixed(1)}P</span>\n                                        <span className=\"nutrient\">{Number(item.carbohydrates).toFixed(1)}C</span>\n                                        <span className=\"nutrient\">{Number(item.fat).toFixed(1)}F</span>\n                                    </div>\n                                </motion.div>\n                            ))}\n                        </div>\n                    </motion.div>\n                ))}\n            </AnimatePresence>\n            {editingMeal && (\n                <EditMealModal \n                    meal={editingMeal} \n                    onClose={() => setEditingMeal(null)} \n                />\n            )}\n        </motion.div>\n    );\n};\n\nexport default NutritionHistory;","import React, { useEffect, useMemo, useState } from 'react';\nimport { useNutrition } from '../../context/NutritionContext';\nimport { FaTint, FaPlus, FaTrash } from 'react-icons/fa';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport './HydrationTracker.css';\n\nconst HydrationTracker = () => {\n    const { \n        hydrationLogs, \n        hydrationGoal, \n        selectedDate, \n        addHydration, \n        getHydrationForDate,\n        deleteHydration, // Get the new delete function\n        setHydrationGoal, // Get the set goal function\n        loading \n    } = useNutrition();\n\n    // State for the custom amount input\n    const [customAmount, setCustomAmount] = useState('');\n\n    useEffect(() => {\n        getHydrationForDate(selectedDate);\n    }, [selectedDate, getHydrationForDate]);\n\n    const totalIntake = useMemo(() => {\n        return hydrationLogs.reduce((total, log) => total + log.amount, 0);\n    }, [hydrationLogs]);\n\n    const progressPercent = Math.min(Math.round((totalIntake / hydrationGoal) * 100), 100);\n\n    const handleAddWater = (amount) => {\n        const numAmount = parseInt(amount, 10);\n        if (!numAmount || numAmount <= 0) return;\n\n        const logData = { date: selectedDate, amount: numAmount };\n        addHydration(logData);\n        setCustomAmount(''); // Reset custom input after adding\n    };\n    \n    const handleSetGoal = () => {\n        const newGoal = prompt(\"Set your new daily hydration goal (in ml):\", hydrationGoal);\n        const numGoal = parseInt(newGoal, 10);\n        if (numGoal && numGoal > 0) {\n            setHydrationGoal(numGoal);\n        }\n    };\n\n    return (\n        <motion.div className=\"hydration-shell\" initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\n            <motion.div className=\"hydration-left\" initial={{ x: -12 }} animate={{ x: 0 }}>\n                <div className=\"hydration-header\">\n                    <div className=\"h-title\">\n                        <FaTint className=\"water-icon\" />\n                        <div>\n                            <h3>Hydration Tracker</h3>\n                            <p className=\"hint\">Keep yourself refreshed and healthy</p>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"progress-card\">\n                    <div className=\"intake-display\">\n                        <div className=\"big-number\">{totalIntake}</div>\n                        <div className=\"sub-text\">ml / {hydrationGoal} ml goal</div>\n                    </div>\n                    <div className=\"progress-bar-container\">\n                        <div className=\"progress-bar-fill\" style={{ width: `${progressPercent}%` }}>\n                            {progressPercent > 5 && <span className=\"progress-percent\">{progressPercent}%</span>}\n                        </div>\n                    </div>\n                    <button onClick={handleSetGoal} className=\"edit-goal-link\">Edit Goal</button>\n                </div>\n\n                <div className=\"add-water-section\">\n                    <div className=\"quick-buttons\">\n                        <motion.button whileHover={{ scale: 1.05 }} onClick={() => handleAddWater(250)} disabled={loading} className=\"quick-btn\">+250</motion.button>\n                        <motion.button whileHover={{ scale: 1.05 }} onClick={() => handleAddWater(500)} disabled={loading} className=\"quick-btn\">+500</motion.button>\n                        <motion.button whileHover={{ scale: 1.05 }} onClick={() => handleAddWater(750)} disabled={loading} className=\"quick-btn\">+750</motion.button>\n                    </div>\n                    <div className=\"custom-input-group\">\n                        <input \n                            type=\"number\"\n                            value={customAmount}\n                            onChange={(e) => setCustomAmount(e.target.value)}\n                            placeholder=\"Custom ml\"\n                            className=\"custom-input\"\n                        />\n                        <motion.button whileHover={{ scale: 1.05 }} onClick={() => handleAddWater(customAmount)} disabled={loading || !customAmount} className=\"custom-btn\"><FaPlus/></motion.button>\n                    </div>\n                </div>\n\n                <div className=\"log-section\">\n                    <h4>Today's Log</h4>\n                    <div className=\"log-list\">\n                        {hydrationLogs.length > 0 ? (\n                            <AnimatePresence>\n                                {hydrationLogs.slice().reverse().map(log => (\n                                    <motion.div key={log._id} className=\"log-item\" initial={{ opacity: 0, y: -8 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, scale: 0.96 }}>\n                                        <div className=\"log-content\">\n                                            <span className=\"log-amount\">{log.amount} ml</span>\n                                            <span className=\"log-time\">{new Date(log.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>\n                                        </div>\n                                        <motion.button whileHover={{ scale: 1.1 }} onClick={() => deleteHydration(log._id)} className=\"delete-btn\"><FaTrash/></motion.button>\n                                    </motion.div>\n                                ))}\n                            </AnimatePresence>\n                        ) : (\n                            <div className=\"empty-state\">No water logged yet. Start hydrating!</div>\n                        )}\n                    </div>\n                </div>\n            </motion.div>\n\n            <motion.aside className=\"hydration-right\" initial={{ x: 12 }} animate={{ x: 0 }}>\n                <div className=\"hydration-info-card\">\n                    <h4>Daily Hydration Goal</h4>\n                    <p className=\"goal-value\">{hydrationGoal} ml</p>\n                    <p className=\"info-text\">Recommended daily water intake varies, but 8-10 glasses (2-2.5L) is a common guideline.</p>\n                    <div className=\"tips\">\n                        <h5> Tips</h5>\n                        <ul>\n                            <li>Drink water with meals</li>\n                            <li>Keep a bottle nearby</li>\n                            <li>Drink when thirsty</li>\n                        </ul>\n                    </div>\n                </div>\n            </motion.aside>\n        </motion.div>\n    );\n};\n\nexport default HydrationTracker;","import React from 'react';\nimport './StatCard.css';\n\nconst StatCard = ({ label, value, unit = '' }) => {\n    return (\n        <div className=\"stat-card\">\n            <span className=\"stat-value\">{value}<span className=\"stat-unit\">{unit}</span></span>\n            <span className=\"stat-label\">{label}</span>\n        </div>\n    );\n};\n\nexport default StatCard;","import React from 'react';\nimport { ResponsiveContainer, LineChart, CartesianGrid, XAxis, YAxis, Tooltip, Legend, Line, ReferenceLine } from 'recharts';\n\nconst CalorieTrendChart = ({ data, goal }) => {\n    // Custom Tooltip for styling\n    const CustomTooltip = ({ active, payload, label }) => {\n        if (active && payload && payload.length) {\n            return (\n                <div className=\"custom-tooltip\" style={{\n                    background: '#1a1f2e',\n                    border: '1px solid #764be0',\n                    borderRadius: '8px',\n                    padding: '10px'\n                }}>\n                    <p className=\"label\" style={{ color: '#fff', marginBottom: '4px', fontSize: '0.85rem' }}>{label}</p>\n                    <p className=\"intro\" style={{ color: '#c7d2e7', fontSize: '0.9rem', fontWeight: 'bold' }}>\n                        {`${payload[0].value} kcal`}\n                    </p>\n                </div>\n            );\n        }\n        return null;\n    };\n\n    return (\n        <ResponsiveContainer width=\"100%\" height={300}>\n            <LineChart data={data} margin={{ top: 10, right: 20, left: 0, bottom: 0 }}>\n                <CartesianGrid stroke=\"#2d3748\" strokeDasharray=\"3 3\" vertical={false} />\n                <XAxis\n                    dataKey=\"date\"\n                    stroke=\"#718096\"\n                    fontSize={11}\n                    tickLine={false}\n                    axisLine={false}\n                    tick={{ fill: '#718096' }}\n                    minTickGap={30}\n                />\n                <YAxis\n                    stroke=\"#718096\"\n                    fontSize={11}\n                    tickLine={false}\n                    axisLine={false}\n                    tick={{ fill: '#718096' }}\n                />\n                <Tooltip content={<CustomTooltip />} cursor={{ stroke: 'rgba(118, 75, 224, 0.5)', strokeWidth: 1 }} />\n                <Legend iconType=\"circle\" wrapperStyle={{ paddingTop: '10px' }} />\n\n                <ReferenceLine y={goal} stroke=\"#ff9f40\" strokeDasharray=\"5 5\" strokeWidth={1.5}>\n\n                </ReferenceLine>\n\n                <Line\n                    type=\"monotone\"\n                    dataKey=\"totalCalories\"\n                    name=\"Daily Intake\"\n                    stroke=\"#8b5cf6\"\n                    strokeWidth={3}\n                    dot={false}\n                    activeDot={{ r: 6, fill: '#8b5cf6', stroke: '#fff', strokeWidth: 2 }}\n                    animationDuration={1500}\n                />\n            </LineChart>\n        </ResponsiveContainer>\n    );\n};\n\nexport default CalorieTrendChart;","import React from 'react';\nimport { ResponsiveContainer, PieChart, Pie, Cell, Tooltip, Legend } from 'recharts';\n\nconst COLORS = {\n    protein: '#adff2f',\n    carbs: '#00bfff',\n    fat: '#ff9f40',\n};\n\nconst MacroPieChart = ({ data }) => {\n    const chartData = [\n        { name: 'Protein', value: Math.round(data.avgProtein) },\n        { name: 'Carbs', value: Math.round(data.avgCarbs) },\n        { name: 'Fat', value: Math.round(data.avgFat) },\n    ];\n\n    const CustomTooltip = ({ active, payload }) => {\n        if (active && payload && payload.length) {\n            return (\n                <div className=\"custom-tooltip\">\n                    {`${payload[0].name}: ${payload[0].value}g (avg)`}\n                </div>\n            );\n        }\n        return null;\n    };\n\n    return (\n        <ResponsiveContainer width=\"100%\" height={300}>\n            <PieChart>\n                <Pie\n                    data={chartData}\n                    cx=\"50%\"\n                    cy=\"50%\"\n                    innerRadius={60}\n                    outerRadius={100}\n                    fill=\"#8884d8\"\n                    paddingAngle={5}\n                    dataKey=\"value\"\n                    nameKey=\"name\"\n                >\n                    {chartData.map((entry, index) => (\n                        <Cell key={`cell-${index}`} fill={COLORS[entry.name.toLowerCase()]} />\n                    ))}\n                </Pie>\n                <Tooltip content={<CustomTooltip />} />\n                <Legend />\n            </PieChart>\n        </ResponsiveContainer>\n    );\n};\n\nexport default MacroPieChart;","// frontend/src/components/nutrition/MonarchsRoad/PathStone.js\nimport React from 'react';\nimport './PathStone.css';\n\nconst PathStone = React.memo(({ day, status, style }) => {\n    const statusClass = `status-${status}`;\n    return (\n        <div className={`path-stone ${statusClass}`} style={style}>\n            <div className=\"stone-day-number\">{day}</div>\n        </div>\n    );\n});\n\nexport default PathStone;","import React, { useMemo } from 'react';\nimport PathStone from './PathStone';\nimport './MonarchsRoad.css';\n\nconst MonarchsRoad = ({ data, period, user, goal }) => {\n\n    const pathData = useMemo(() => {\n        if (!user || !user.streakStartDate) return []; // Don't render if no user/start date\n        const startDate = new Date(user.streakStartDate);\n        const today = new Date();\n        const diffTime = Math.abs(today - startDate);\n        // Limit to max 365 days for performance, or use actual if smaller\n        const daysDiff = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;\n        const period = Math.min(daysDiff, 365); // Cap at 365 days\n        const loggedDataMap = new Map(data.map(day => [day.date, day]));\n        const road = [];\n\n        for (let i = 0; i < period; i++) {\n            const date = new Date();\n            date.setDate(date.getDate() - (period - 1 - i));\n            const dateString = date.toISOString().split('T')[0];\n            const dayNumber = i + 1;\n\n            let status = 'future';\n            if (loggedDataMap.has(dateString)) {\n                const dayData = loggedDataMap.get(dateString);\n                const calorieDiff = Math.abs(dayData.totalCalories - goal);\n                status = (calorieDiff < goal * 0.1) ? 'flawless' : 'standard';\n            } else if (new Date() > date) {\n                status = 'broken';\n            }\n\n            //  New algorithm for a horizontal, winding path\n            const horizontalSpacing = 80; // Distance between stones on X-axis\n            const verticalAmplitude = 50; // How high/low the path curves\n            const frequency = 0.5; // How wavy the path is\n\n            const x = i * horizontalSpacing;\n            const y = verticalAmplitude * Math.sin(i * frequency);\n\n            road.push({ day: dayNumber, status, x, y });\n        }\n        return road;\n    }, [data, period, goal]);\n\n    // Calculate the total width needed for the path\n    const roadWidth = (period * 80) + 100;\n\n    return (\n        <div className=\"monarchs-road-container\">\n            <div className=\"monarchs-road-path\" style={{ width: `${roadWidth}px` }}>\n                {pathData.map(stone => (\n                    <PathStone\n                        key={stone.day}\n                        day={stone.day}\n                        status={stone.status}\n                        style={{\n                            // Center the path vertically, then apply the sine wave offset\n                            transform: `translate(${stone.x}px, calc(50% + ${stone.y}px))`,\n                        }}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default MonarchsRoad;","import React, { useState, useEffect, useMemo, useContext } from 'react';\nimport { useNutrition } from '../../context/NutritionContext';\nimport { AuthContext } from '../../context/AuthContext';\nimport { motion } from 'framer-motion';\nimport { FaBullseye, FaChartLine, FaFire } from 'react-icons/fa';\nimport StatCard from './StatCard';\nimport CalorieTrendChart from './CalorieTrendChart';\nimport MacroPieChart from './MacroPieChart';\nimport MonarchsRoad from './MonarchsRoad/MonarchsRoad';\nimport './NutritionProgress.css';\n\n// GoalSetter sub-component\nconst GoalSetter = () => {\n    const { user, updateGoals } = useContext(AuthContext);\n    const { setNutritionGoals } = useNutrition(); // Get setNutritionGoals from NutritionContext\n    const [goals, setGoals] = useState({ calorieGoal: 2200, proteinGoal: 150, carbGoal: 250, fatGoal: 70 });\n    const [status, setStatus] = useState('');\n    const [isLoading, setIsLoading] = useState(false); // Add loading state\n\n    useEffect(() => {\n        if (user && user.nutritionGoals) {\n            setGoals(user.nutritionGoals);\n        }\n    }, [user]);\n\n    const onChange = e => setGoals({ ...goals, [e.target.name]: e.target.value });\n\n    const onSubmit = async (e) => {\n        e.preventDefault();\n        setIsLoading(true); // Set loading to true\n        const result = await updateGoals(goals);\n        if (result.success) {\n            // Update context with new goals\n            setNutritionGoals({\n                calories: parseInt(goals.calorieGoal),\n                protein: parseInt(goals.proteinGoal),\n                fat: parseInt(goals.fatGoal),\n                carbs: parseInt(goals.carbGoal)\n            });\n            setStatus('Goals updated!');\n        } else {\n            setStatus(result.error);\n        }\n        setIsLoading(false); // Set loading to false\n        setTimeout(() => setStatus(''), 3000);\n    };\n\n    return (\n        <motion.form onSubmit={onSubmit} className=\"goal-setter-form\" initial={{ opacity: 0, y: -8 }} animate={{ opacity: 1, y: 0 }}>\n            <div className=\"goal-inputs-grid\">\n                <div className=\"goal-field\">\n                    <label>Daily Calories</label>\n                    <div className=\"input-with-icon\">\n                        <FaFire className=\"input-icon\" style={{ color: '#ff007a' }} />\n                        <input type=\"number\" name=\"calorieGoal\" value={goals.calorieGoal} onChange={onChange} />\n                        <span className=\"unit\">kcal</span>\n                    </div>\n                </div>\n                <div className=\"goal-field\">\n                    <label>Protein</label>\n                    <div className=\"input-with-icon\">\n                        <div className=\"dot\" style={{ background: '#adff2f' }}></div>\n                        <input type=\"number\" name=\"proteinGoal\" value={goals.proteinGoal} onChange={onChange} />\n                        <span className=\"unit\">g</span>\n                    </div>\n                </div>\n                <div className=\"goal-field\">\n                    <label>Carbohydrates</label>\n                    <div className=\"input-with-icon\">\n                        <div className=\"dot\" style={{ background: '#ff9f40' }}></div>\n                        <input type=\"number\" name=\"carbGoal\" value={goals.carbGoal} onChange={onChange} />\n                        <span className=\"unit\">g</span>\n                    </div>\n                </div>\n                <div className=\"goal-field\">\n                    <label>Fats</label>\n                    <div className=\"input-with-icon\">\n                        <div className=\"dot\" style={{ background: '#8884d8' }}></div>\n                        <input type=\"number\" name=\"fatGoal\" value={goals.fatGoal} onChange={onChange} />\n                        <span className=\"unit\">g</span>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"form-actions\">\n                <motion.button\n                    type=\"submit\"\n                    whileHover={{ scale: 1.02, boxShadow: '0 0 15px rgba(118, 75, 224, 0.4)' }}\n                    whileTap={{ scale: 0.98 }}\n                    className=\"set-goals-btn\"\n                    disabled={isLoading}\n                >\n                    {isLoading ? 'Updating...' : 'Update Targets'}\n                </motion.button>\n                {status && <motion.span className=\"status-message\" initial={{ opacity: 0 }} animate={{ opacity: 1 }}>{status}</motion.span>}\n            </div>\n        </motion.form>\n    );\n};\n\n// Main Progress Page Component\nconst NutritionProgress = () => {\n    const { user } = useContext(AuthContext);\n    const { progressData, getProgressData, loading } = useNutrition();\n    const [period, setPeriod] = useState(30);\n    const { resetStreak } = useContext(AuthContext); // Get the new function\n\n    useEffect(() => {\n        if (user) { // Only fetch data if the user is loaded\n            getProgressData(period);\n        }\n    }, [period, getProgressData, user]);\n\n    const stats = useMemo(() => {\n        if (!progressData || progressData.length === 0) {\n            return { avgCalories: 0, avgProtein: 0, avgCarbs: 0, avgFat: 0 };\n        }\n        const total = progressData.reduce((acc, day) => {\n            acc.calories += day.totalCalories;\n            acc.protein += day.totalProtein;\n            acc.carbs += day.totalCarbs;\n            acc.fat += day.totalFat;\n            return acc;\n        }, { calories: 0, protein: 0, carbs: 0, fat: 0 });\n\n        const count = progressData.length;\n        return {\n            avgCalories: total.calories / count,\n            avgProtein: total.protein / count,\n            avgCarbs: total.carbs / count,\n            avgFat: total.fat / count,\n        };\n    }, [progressData]);\n\n    return (\n        <motion.div className=\"nutrition-progress-container\" initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\n            <motion.section className=\"progress-section targets-section\" initial={{ y: -12 }} animate={{ y: 0 }}>\n                <div className=\"section-title-group\">\n                    <FaBullseye className=\"section-icon\" />\n                    <h3>Set Your Targets</h3>\n                </div>\n                <GoalSetter />\n            </motion.section>\n\n            <motion.section className=\"progress-section\" initial={{ y: 12 }} animate={{ y: 0 }}>\n                <div className=\"section-header\">\n                    <div className=\"section-title-group\">\n                        <FaChartLine className=\"section-icon\" />\n                        <h3>Performance Analysis</h3>\n                    </div>\n                    <div className=\"period-selector\">\n                        <motion.button whileHover={{ scale: 1.05 }} onClick={() => setPeriod(7)} className={period === 7 ? 'active' : ''}>7 Days</motion.button>\n                        <motion.button whileHover={{ scale: 1.05 }} onClick={() => setPeriod(30)} className={period === 30 ? 'active' : ''}>30 Days</motion.button>\n                    </div>\n                </div>\n                {loading && <p className=\"loading-msg\">Analyzing data...</p>}\n                {!loading && progressData && user && (\n                    <div className=\"charts-grid\">\n                        <div className=\"stat-cards-grid\">\n                            <StatCard label=\"Avg. Daily Calories\" value={stats.avgCalories.toFixed(0)} unit=\"kcal\" />\n                            <StatCard label=\"Avg. Daily Protein\" value={stats.avgProtein.toFixed(1)} unit=\"g\" />\n                            <StatCard label=\"Avg. Daily Carbs\" value={stats.avgCarbs.toFixed(1)} unit=\"g\" />\n                            <StatCard label=\"Avg. Daily Fat\" value={stats.avgFat.toFixed(1)} unit=\"g\" />\n                        </div>\n\n                        <motion.div className=\"chart-container\" initial={{ scale: 0.98 }} animate={{ scale: 1 }}>\n                            <h4><FaFire /> Calorie Trend</h4>\n                            <CalorieTrendChart data={progressData} goal={user.nutritionGoals.calorieGoal} />\n                        </motion.div>\n\n                        <motion.div className=\"chart-container\" initial={{ scale: 0.98 }} animate={{ scale: 1 }}>\n                            <h4>Macro Breakdown</h4>\n                            <MacroPieChart data={stats} />\n                        </motion.div>\n\n                        <motion.div className=\"chart-container full-width\" initial={{ scale: 0.98 }} animate={{ scale: 1 }}>\n                            <div className=\"consistency-header\">\n                                <h4>Logging Consistency</h4>\n                                <motion.button onClick={resetStreak} whileHover={{ scale: 1.05 }} className=\"reset-streak-btn\">Reset Streak</motion.button>\n                            </div>\n                            <MonarchsRoad\n                                data={progressData}\n                                user={user}\n                                goal={user.nutritionGoals.calorieGoal}\n                            />\n                        </motion.div>\n                    </div>\n                )}\n                {!loading && (!progressData || progressData.length === 0) && <p className=\"no-data-msg\">No data to analyze. Start logging meals to see your progress!</p>}\n            </motion.section>\n        </motion.div>\n    );\n};\n\nexport default NutritionProgress;","// frontend/src/components/NutritionParticles.js\r\nimport React, { useCallback } from 'react';\r\nimport Particles from \"react-tsparticles\";\r\nimport { loadSlim } from \"tsparticles-slim\";\r\n\r\nconst NutritionParticles = () => {\r\n    const particlesInit = useCallback(async (engine) => {\r\n        await loadSlim(engine);\r\n    }, []);\r\n\r\n    const options = React.useMemo(() => ({\r\n        fullScreen: {\r\n            enable: true,\r\n            zIndex: 0\r\n        },\r\n        particles: {\r\n            number: {\r\n                value: 30, // Decreased density\r\n                density: { enable: true, value_area: 800 }\r\n            },\r\n            color: { value: \"#ffffff\" },\r\n            shape: {\r\n                type: \"image\",\r\n                image: [\r\n                    {\r\n                        src: \"/icons/nutrition/heartbeat.svg\",\r\n                        width: 100,\r\n                        height: 100\r\n                    },\r\n                    {\r\n                        src: \"/icons/nutrition/water-small.svg\",\r\n                        width: 100,\r\n                        height: 100\r\n                    },\r\n                    {\r\n                        src: \"/icons/nutrition/utensils.svg\",\r\n                        width: 100,\r\n                        height: 100\r\n                    }\r\n                ]\r\n            },\r\n            opacity: { value: 1, random: false },\r\n            size: { value: 14, random: true }, // Slightly smaller\r\n            links: {\r\n                enable: true,\r\n                distance: 100, // Matched Dashboard\r\n                color: \"#ffffff\", // Matched Dashboard\r\n                opacity: 0.6, // Matched Dashboard\r\n                width: 2, // Matched Dashboard\r\n            },\r\n            move: {\r\n                enable: true,\r\n                speed: 0.65, // Matched Dashboard\r\n                direction: \"none\",\r\n                out_mode: \"out\",\r\n            },\r\n        },\r\n        interactivity: {\r\n            events: {\r\n                onhover: {\r\n                    enable: true,\r\n                    mode: \"grab\", // Matched Dashboard\r\n                },\r\n            },\r\n            modes: {\r\n                grab: {\r\n                    distance: 200, // Matched Dashboard\r\n                    links: {\r\n                        opacity: 1,\r\n                        color: \"#14b8a6\" // Changed to Teal for Nutrition theme, but kept behavior\r\n                    }\r\n                },\r\n            },\r\n        },\r\n        detectRetina: true,\r\n    }), []);\r\n\r\n    return <Particles id=\"nutrition-particles\" init={particlesInit} options={options} />;\r\n};\r\n\r\nexport default NutritionParticles;\r\n","import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FaChevronLeft, FaChevronRight, FaCalendarAlt } from 'react-icons/fa';\nimport { useNutrition } from '../../context/NutritionContext';\nimport NutritionSummary from '../../components/nutrition/NutritionSummary';\nimport NutritionLogger from '../../components/nutrition/NutritionLogger';\nimport NutritionHistory from '../../components/nutrition/NutritionHistory';\nimport HydrationTracker from '../../components/nutrition/HydrationTracker';\nimport NutritionProgress from '../../components/nutrition/NutritionProgress';\nimport BackButton from '../../components/common/BackButton';\nimport NutritionParticles from '../../components/NutritionParticles';\nimport './NutritionPage.css';\n\nconst NutritionPage = () => {\n    const [activeTab, setActiveTab] = useState('summary');\n    const { selectedDate, setDate, getMealsForDate, getHydrationForDate } = useNutrition();\n\n    useEffect(() => {\n        getMealsForDate(selectedDate);\n        getHydrationForDate(selectedDate);\n    }, [selectedDate, getMealsForDate, getHydrationForDate]);\n\n    const handleDateChange = (daysToAdd) => {\n        const newDate = new Date(selectedDate);\n        newDate.setDate(newDate.getDate() + daysToAdd);\n        setDate(newDate);\n    };\n\n    const isToday = (date) => {\n        const today = new Date();\n        return date.toDateString() === today.toDateString();\n    };\n\n    const tabs = [\n        { id: 'summary', label: 'Summary' },\n        { id: 'logger', label: 'Log Meal' },\n        { id: 'history', label: 'History' },\n        { id: 'hydration', label: 'Hydration' },\n        { id: 'progress', label: 'Progress' }\n    ];\n\n    const renderTabContent = () => {\n        switch (activeTab) {\n            case 'summary':\n                return <NutritionSummary setActiveTab={setActiveTab} />;\n            case 'logger':\n                return <NutritionLogger selectedDate={selectedDate} />;\n            case 'history':\n                return <NutritionHistory selectedDate={selectedDate} handleDateChange={handleDateChange} isToday={isToday} />;\n            case 'hydration':\n                return <HydrationTracker />;\n            case 'progress':\n                return <NutritionProgress />;\n            default:\n                return <NutritionSummary setActiveTab={setActiveTab} />;\n        }\n    };\n\n    return (\n        <div className=\"nutrition-page system-ui relative\">\n            {activeTab === 'summary' && <NutritionParticles />}\n            <motion.header className=\"nutrition-top\" initial={{ opacity: 0, y: -8 }} animate={{ opacity: 1, y: 0 }}>\n                <div className=\"nutrition-header-left\">\n                    <div>\n                        <h2>Nutrition Center</h2>\n                        <p className=\"sub\">Track meals, hydration and goals</p>\n                    </div>\n                </div>\n                <div className=\"nutrition-header-right\">\n                    <div className=\"date-navigator-glass\">\n                        <motion.button\n                            whileHover={{ scale: 1.1, x: -2 }}\n                            whileTap={{ scale: 0.95 }}\n                            onClick={() => handleDateChange(-1)}\n                            className=\"nav-icon-btn\"\n                        >\n                            <FaChevronLeft />\n                        </motion.button>\n\n                        <div className=\"current-date-display\">\n                            <FaCalendarAlt className=\"calendar-icon\" />\n                            <h3>{new Date(selectedDate).toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' })}</h3>\n                        </div>\n\n                        <motion.button\n                            whileHover={{ scale: 1.1, x: 2 }}\n                            whileTap={{ scale: 0.95 }}\n                            onClick={() => handleDateChange(1)}\n                            className=\"nav-icon-btn\"\n                        >\n                            <FaChevronRight />\n                        </motion.button>\n                    </div>\n                    <BackButton />\n                </div>\n            </motion.header>\n\n            <nav className=\"nutrition-tabs\" aria-label=\"Nutrition tabs\">\n                {tabs.map(tab => (\n                    <motion.button\n                        key={tab.id}\n                        className={tab.id === activeTab ? 'active' : ''}\n                        onClick={() => setActiveTab(tab.id)}\n                        whileHover={{ scale: 1.02 }}\n                        whileTap={{ scale: 0.98 }}\n                    >\n                        {tab.label}\n                    </motion.button>\n                ))}\n            </nav>\n\n            <main className=\"tab-content\">\n                {renderTabContent()}\n            </main>\n        </div>\n    );\n};\n\nexport default NutritionPage;"],"names":["_ref","label","className","navigate","useNavigate","_jsxs","motion","button","concat","onClick","whileHover","x","whileTap","scale","children","_jsx","FaArrowLeft","RING_CONFIG","goal","color","getAngle","value","Math","min","DailyProgressRings","nutritionLogs","hydrationLogs","nutritionGoals","hydrationGoal","useNutrition","dailyTotals","useMemo","totals","calories","protein","fat","carbs","water","Array","isArray","forEach","log","items","item","Number","carbohydrates","reduce","total","amount","isOverLimit","calorieColor","calorieStatusClass","roundedCalories","round","calorieFontSize","numDigits","String","length","getDynamicFontSize","ResponsiveContainer","width","height","PieChart","Pie","data","dataKey","cx","cy","innerRadius","outerRadius","fill","startAngle","endAngle","isAnimationActive","stroke","cornerRadius","Cell","style","fontSize","setActiveTab","FaClipboardList","FaHistory","FaTint","FaChartPie","backgroundColor","selectedDate","addMeal","loading","calculateDailyXP","useLevelUp","token","useContext","AuthContext","setItems","useState","mealType","setMealType","searchQuery","setSearchQuery","searchResults","setSearchResults","isSearching","setIsSearching","handleItemChange","e","index","name","target","list","acc","it","c","showCustomModal","setShowCustomModal","customForm","setCustomForm","foodName","servingSize","servingUnit","closeCustomModal","handleCustomChange","prev","_objectSpread","div","initial","opacity","animate","FaUtensils","d","Date","setDate","getDate","FaChevronLeft","toDateString","FaChevronRight","onChange","display","type","placeholder","autoComplete","disabled","ul","y","slice","map","food","li","newItem","prevItems","handleAddItemFromSearch","category","foodId","onSubmit","preventDefault","alert","year","getFullYear","month","getMonth","padStart","day","formattedDate","console","mealData","date","filter","then","catch","err","error","AnimatePresence","layout","exit","handleRemoveItem","indexToRemove","_","FaTrash","openCustomModal","FaPlus","aside","i","form","required","meal","onClose","updateMeal","mealTitle","setMealTitle","useEffect","mealName","_ref2","event","updatedItems","_id","htmlFor","id","handleAddItem","NutritionHistory","deleteMeal","editingMeal","setEditingMeal","addRecipe","RecipeContext","toFixed","idx","transition","delay","recipeName","prompt","recipeItems","handleSaveAsRecipe","title","FaSave","FaEdit","EditMealModal","HydrationTracker","addHydration","getHydrationForDate","deleteHydration","setHydrationGoal","customAmount","setCustomAmount","totalIntake","progressPercent","handleAddWater","numAmount","parseInt","handleSetGoal","newGoal","numGoal","reverse","createdAt","toLocaleTimeString","hour","minute","unit","CustomTooltip","active","payload","background","border","borderRadius","padding","marginBottom","fontWeight","LineChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","vertical","XAxis","tickLine","axisLine","tick","minTickGap","YAxis","Tooltip","content","cursor","strokeWidth","Legend","iconType","wrapperStyle","paddingTop","ReferenceLine","Line","dot","activeDot","r","animationDuration","COLORS","chartData","avgProtein","avgCarbs","avgFat","paddingAngle","nameKey","entry","toLowerCase","React","status","statusClass","period","user","pathData","streakStartDate","startDate","today","diffTime","abs","daysDiff","ceil","loggedDataMap","Map","road","dateString","toISOString","split","dayNumber","has","dayData","get","totalCalories","frequency","sin","push","roadWidth","stone","PathStone","transform","GoalSetter","updateGoals","setNutritionGoals","goals","setGoals","calorieGoal","proteinGoal","carbGoal","fatGoal","setStatus","isLoading","setIsLoading","async","result","success","setTimeout","FaFire","boxShadow","span","NutritionProgress","progressData","getProgressData","setPeriod","resetStreak","stats","avgCalories","totalProtein","totalCarbs","totalFat","count","section","FaBullseye","FaChartLine","StatCard","CalorieTrendChart","MacroPieChart","MonarchsRoad","NutritionParticles","particlesInit","useCallback","loadSlim","engine","options","fullScreen","enable","zIndex","particles","number","density","value_area","shape","image","src","random","size","links","distance","move","speed","direction","out_mode","interactivity","events","onhover","mode","modes","grab","detectRetina","Particles","init","NutritionPage","activeTab","getMealsForDate","handleDateChange","daysToAdd","newDate","isToday","header","FaCalendarAlt","toLocaleDateString","weekday","BackButton","tab","renderTabContent","NutritionSummary","NutritionLogger"],"sourceRoot":""}