{"version":3,"file":"static/js/917.ca89342c.chunk.js","mappings":"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","sources":["components/common/BackButton.js","components/nutrition/DailyProgressRings.js","components/nutrition/NutritionSummary.js","components/nutrition/NutritionLogger.js","components/nutrition/EditMealModal.js","components/nutrition/NutritionHistory.js","components/nutrition/HydrationTracker.js","components/nutrition/StatCard.js","components/nutrition/CalorieTrendChart.js","components/nutrition/MacroPieChart.js","components/nutrition/MonarchsRoad/PathStone.js","components/nutrition/MonarchsRoad/MonarchsRoad.js","components/nutrition/NutritionProgress.js","components/NutritionParticles.js","pages/nutrition/NutritionPage.js"],"sourcesContent":["// frontend/src/components/common/BackButton.js\r\nimport React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { FaArrowLeft } from 'react-icons/fa';\r\nimport './BackButton.css';\r\n\r\nconst BackButton = ({ label = 'Back', className = '' }) => {\r\n    const navigate = useNavigate();\r\n\r\n    return (\r\n        <motion.button\r\n            className={`back-button-nav ${className}`}\r\n            onClick={() => navigate(-1)}\r\n            whileHover={{ x: -3 }}\r\n            whileTap={{ scale: 0.95 }}\r\n        >\r\n            <FaArrowLeft />\r\n            <span>{label}</span>\r\n        </motion.button>\r\n    );\r\n};\r\n\r\nexport default BackButton;\r\n","import React, { useMemo } from 'react';\nimport { ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\nimport { useNutrition } from '../../context/NutritionContext';\nimport './DailyProgressRings.css';\n\n// Configuration for all five rings\nconst RING_CONFIG = {\n    calories: { goal: 2200, color: '#ff007a' },\n    protein: { goal: 150, color: '#adff2f' },\n    fat: { goal: 70, color: '#8884d8' },\n    carbs: { goal: 250, color: '#ff9f40' },\n    water: { goal: 3000, color: '#00bfff' },\n};\n\nconst OVER_LIMIT_COLOR = '#ff3b30';\n\n// Helper function for dynamic font sizing\nconst getDynamicFontSize = (calories) => {\n    const numDigits = String(calories).length;\n    if (numDigits <= 3) return '2.8rem';\n    if (numDigits === 4) return '2.4rem';\n    if (numDigits === 5) return '2.0rem';\n    return '1.6rem';\n};\n\n// Helper function to calculate angles\nconst getAngle = (value, goal) => (goal > 0 ? (Math.min(value, goal) / goal) * 360 : 0);\n\nconst DailyProgressRings = () => {\n    const { nutritionLogs, hydrationLogs, nutritionGoals, hydrationGoal } = useNutrition();\n\n    const dailyTotals = useMemo(() => {\n        const totals = { calories: 0, protein: 0, fat: 0, carbs: 0, water: 0 };\n        if (Array.isArray(nutritionLogs)) {\n            nutritionLogs.forEach(log => {\n                if (log && Array.isArray(log.items)) {\n                    log.items.forEach(item => {\n                        if (item) {\n                            totals.calories += Number(item.calories) || 0;\n                            totals.protein += Number(item.protein) || 0;\n                            totals.fat += Number(item.fat) || 0;\n                            totals.carbs += Number(item.carbohydrates) || 0;\n                        }\n                    });\n                }\n            });\n        }\n        if (Array.isArray(hydrationLogs)) {\n            totals.water = hydrationLogs.reduce((total, log) => total + (log?.amount || 0), 0);\n        }\n        return totals;\n    }, [nutritionLogs, hydrationLogs]);\n\n    const isOverLimit = dailyTotals.calories > nutritionGoals.calories;\n    const calorieColor = isOverLimit ? OVER_LIMIT_COLOR : RING_CONFIG.calories.color;\n    const calorieStatusClass = isOverLimit ? 'over-limit' : '';\n\n    const roundedCalories = Math.round(dailyTotals.calories);\n    const calorieFontSize = getDynamicFontSize(roundedCalories);\n\n    return (\n        <div className=\"rings-container-final\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <PieChart>\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"45%\" outerRadius=\"100%\" fill=\"rgba(58, 63, 90, 0.5)\" startAngle={90} endAngle={-270} isAnimationActive={false} stroke=\"none\" />\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"90%\" outerRadius=\"100%\" startAngle={90} endAngle={90 - getAngle(dailyTotals.calories, nutritionGoals.calories)} stroke=\"none\" cornerRadius=\"50%\"><Cell fill={calorieColor} /></Pie>\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"80%\" outerRadius=\"90%\" startAngle={90} endAngle={90 - getAngle(dailyTotals.protein, nutritionGoals.protein)} stroke=\"none\" cornerRadius=\"50%\"><Cell fill={RING_CONFIG.protein.color} /></Pie>\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"70%\" outerRadius=\"80%\" startAngle={90} endAngle={90 - getAngle(dailyTotals.fat, nutritionGoals.fat)} stroke=\"none\" cornerRadius=\"50%\"><Cell fill={RING_CONFIG.fat.color} /></Pie>\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"60%\" outerRadius=\"70%\" startAngle={90} endAngle={90 - getAngle(dailyTotals.carbs, nutritionGoals.carbs)} stroke=\"none\" cornerRadius=\"50%\"><Cell fill={RING_CONFIG.carbs.color} /></Pie>\n                    <Pie data={[{ value: 1 }]} dataKey=\"value\" cx=\"50%\" cy=\"50%\" innerRadius=\"50%\" outerRadius=\"60%\" startAngle={90} endAngle={90 - getAngle(dailyTotals.water, hydrationGoal)} stroke=\"none\" cornerRadius=\"50%\"><Cell fill={RING_CONFIG.water.color} /></Pie>\n                </PieChart>\n            </ResponsiveContainer>\n            <div className={`rings-center-text-final ${calorieStatusClass}`}>\n                <h3 style={{ fontSize: calorieFontSize }}>\n                    {roundedCalories}\n                </h3>\n                <span>cal</span>\n            </div>\n        </div>\n    );\n};\n\nexport default DailyProgressRings;","import React from 'react';\nimport DailyProgressRings from './DailyProgressRings';\nimport { FaClipboardList, FaHistory, FaTint, FaChartPie } from 'react-icons/fa';\nimport './NutritionSummary.css';\n\nconst NutritionSummary = ({ setActiveTab }) => {\n    return (\n        <div className=\"nutrition-summary-container\">\n            <div className=\"summary-cards-grid\">\n                {/* Each card now has a unique alignment class */}\n                <div className=\"nutrition-summary-card align-top-left\" onClick={() => setActiveTab('logger')}>\n                    <FaClipboardList className=\"nutrition-summary-icon\" />\n                    <h3 data-text=\"Log Meal\">Log Meal</h3>\n                    <p>Record your daily nutritional intake.</p>\n                </div>\n                <div className=\"nutrition-summary-card align-top-right\" onClick={() => setActiveTab('history')}>\n                    <FaHistory className=\"nutrition-summary-icon\" />\n                    <h3 data-text=\"View History\">View History</h3>\n                    <p>Review and edit your past entries.</p>\n                </div>\n                <div className=\"nutrition-summary-card align-bottom-left\" onClick={() => setActiveTab('hydration')}>\n                    <FaTint className=\"nutrition-summary-icon\" />\n                    <h3 data-text=\"Track Hydration\">Track Hydration</h3>\n                    <p>Log your daily water intake.</p>\n                </div>\n                <div className=\"nutrition-summary-card align-bottom-right\" onClick={() => setActiveTab('progress')}>\n                    <FaChartPie className=\"nutrition-summary-icon\" />\n                    <h3 data-text=\"Analyze Progress\">Analyze Progress</h3>\n                    <p>Visualize your performance over time.</p>\n                </div>\n                <div className=\"center-ring-container\">\n                    <DailyProgressRings />\n                </div>\n            </div>\n\n            {/* Legend for the rings */}\n            <div className=\"nutrition-rings-legend\">\n                <div className=\"legend-item\">\n                    <span className=\"legend-dot\" style={{ backgroundColor: '#ff007a' }}></span>\n                    <span>Calories</span>\n                </div>\n                <div className=\"legend-item\">\n                    <span className=\"legend-dot\" style={{ backgroundColor: '#adff2f' }}></span>\n                    <span>Protein</span>\n                </div>\n                <div className=\"legend-item\">\n                    <span className=\"legend-dot\" style={{ backgroundColor: '#ff9f40' }}></span>\n                    <span>Carbs</span>\n                </div>\n                <div className=\"legend-item\">\n                    <span className=\"legend-dot\" style={{ backgroundColor: '#8884d8' }}></span>\n                    <span>Fat</span>\n                </div>\n                <div className=\"legend-item\">\n                    <span className=\"legend-dot\" style={{ backgroundColor: '#00bfff' }}></span>\n                    <span>Water</span>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default NutritionSummary;","import React, { useState, useMemo, useContext, useEffect } from 'react';\nimport { useNutrition } from '../../context/NutritionContext';\nimport { useLevelUp } from '../../context/LevelUpContext';\nimport { RecipeContext } from '../../context/RecipeContext'; // Import RecipeContext\nimport { AuthContext } from '../../context/AuthContext';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { FaUtensils, FaPlus, FaTimes, FaSearch, FaEgg, FaBreadSlice, FaLeaf, FaAppleAlt, FaHamburger, FaFish, FaCarrot, FaPizzaSlice, FaGem, FaWater, FaDotCircle, FaBookOpen } from 'react-icons/fa';\nimport {\n    Chart as ChartJS,\n    RadialLinearScale,\n    PointElement,\n    LineElement,\n    Filler,\n    Tooltip,\n    Legend,\n} from 'chart.js';\nimport { Radar } from 'react-chartjs-2'; // eslint-disable-line no-unused-vars\nimport './NutritionLogger.css';\n\n// Register ChartJS components\nChartJS.register(RadialLinearScale, PointElement, LineElement, Filler, Tooltip, Legend);\n\n// Helper to guess icon\nconst getFoodIcon = (name) => {\n    const n = name.toLowerCase();\n    if (n.includes('egg')) return <FaEgg />;\n    if (n.includes('bread') || n.includes('toast')) return <FaBreadSlice />;\n    if (n.includes('avocado') || n.includes('salad') || n.includes('veg')) return <FaLeaf />;\n    if (n.includes('fruit') || n.includes('apple') || n.includes('banana')) return <FaAppleAlt />;\n    if (n.includes('burger') || n.includes('meat') || n.includes('beef')) return <FaHamburger />;\n    if (n.includes('fish') || n.includes('salmon') || n.includes('tuna')) return <FaFish />;\n    if (n.includes('pizza')) return <FaPizzaSlice />;\n    if (n.includes('carrot') || n.includes('root')) return <FaCarrot />;\n    return <FaUtensils />;\n};\n\nconst NutritionLogger = ({ selectedDate }) => {\n    const { addMeal, loading, getRecentItems, nutritionLogs } = useNutrition();\n    const { recipes, getRecipes } = useContext(RecipeContext); // Destructure RecipeContext\n    const { calculateDailyXP } = useLevelUp();\n    const { token } = useContext(AuthContext); // eslint-disable-line no-unused-vars\n\n    const [items, setItems] = useState([]);\n    const [recentItems, setRecentItems] = useState([]);\n    const [mealType, setMealType] = useState('Breakfast');\n    const [customForm, setCustomForm] = useState({ foodName: '', calories: '', protein: '', carbohydrates: '', fat: '' });\n    const [showCustomModal, setShowCustomModal] = useState(false);\n    const [visibleRecentCount, setVisibleRecentCount] = useState(5); // Pagination for recent items\n\n    // NEW: State for Modal Tabs\n    const [modalTab, setModalTab] = useState('new'); // 'new' | 'history' | 'recipes'\n    const [historySearch, setHistorySearch] = useState('');\n\n    const handleSelectHistoryItem = (item) => {\n        setCustomForm({\n            foodName: item.foodName,\n            calories: item.calories,\n            protein: item.protein,\n            carbohydrates: item.carbohydrates,\n            fat: item.fat,\n        });\n        setModalTab('new'); // Switch back to form to confirm/edit\n    };\n\n    const handleLoadRecipe = (recipe) => {\n        const recipeItems = recipe.items.map(item => ({\n            tempId: Date.now() + Math.random(),\n            foodName: item.foodName,\n            calories: Number(item.calories) || 0,\n            protein: Number(item.protein) || 0,\n            carbohydrates: Number(item.carbohydrates) || 0,\n            fat: Number(item.fat) || 0,\n            servingSize: Number(item.servingSize) || 1,\n            servingUnit: item.servingUnit || 'serving',\n            icon: getFoodIcon(item.foodName),\n        }));\n        setItems(prev => [...prev, ...recipeItems]);\n        closeCustomModal();\n    };\n\n    // Fetch recent items AND recipes on mount\n    useEffect(() => {\n        let isMounted = true;\n\n        if (getRecentItems) {\n            getRecentItems().then(data => {\n                if (isMounted && data) setRecentItems(data);\n            });\n        }\n\n        if (getRecipes) {\n            getRecipes(); // Recipes populate via context state\n        }\n\n        return () => { isMounted = false; };\n    }, [getRecentItems, getRecipes]);\n\n    const handleAddRecent = (item) => {\n        // Prevent duplicates in current list? Optional.\n        // if (items.find(i => i.tempId === item._id)) return; // _id might be food name group id, let's just push new\n\n        const newItem = {\n            tempId: Date.now() + Math.random(), // Unique ID for frontend list\n            foodName: item.foodName,\n            calories: Number(item.calories) || 0,\n            protein: Number(item.protein) || 0,\n            carbohydrates: Number(item.carbohydrates) || 0,\n            fat: Number(item.fat) || 0,\n            servingSize: Number(item.servingSize) || 1,\n            servingUnit: item.servingUnit || 'serving',\n            icon: getFoodIcon(item.foodName),\n        };\n        setItems(prev => [...prev, newItem]);\n    };\n\n    const handleRemoveItem = (index) => {\n        setItems(prev => prev.filter((_, i) => i !== index));\n    };\n\n    const openCustomModal = () => setShowCustomModal(true);\n    const closeCustomModal = () => setShowCustomModal(false);\n\n    const handleCustomSubmit = (e) => {\n        e.preventDefault();\n        const newItem = {\n            tempId: Date.now(),\n            foodName: customForm.foodName,\n            calories: Number(customForm.calories) || 0,\n            protein: Number(customForm.protein) || 0,\n            carbohydrates: Number(customForm.carbohydrates) || 0,\n            fat: Number(customForm.fat) || 0,\n            servingSize: 1,\n            servingUnit: 'portion',\n            icon: <FaUtensils />,\n        };\n        setItems(prev => [...prev, newItem]);\n        setCustomForm({ foodName: '', calories: '', protein: '', carbohydrates: '', fat: '' });\n        closeCustomModal();\n    };\n\n    // Calculate totals: Daily Logged + Current Staged Items\n    const totals = useMemo(() => {\n        // 1. Sum up already logged meals from context\n        const loggedTotals = nutritionLogs.reduce((acc, log) => {\n            // Each log has an array of items\n            if (!log.items) return acc;\n            log.items.forEach(it => {\n                acc.calories += Number(it.calories) || 0;\n                acc.protein += Number(it.protein) || 0;\n                acc.carbohydrates += Number(it.carbohydrates) || 0;\n                acc.fat += Number(it.fat) || 0;\n            });\n            return acc;\n        }, { calories: 0, protein: 0, carbohydrates: 0, fat: 0 });\n\n        // 2. Add current staged items\n        return items.reduce((acc, it) => ({\n            calories: acc.calories + (Number(it.calories) || 0),\n            protein: acc.protein + (Number(it.protein) || 0),\n            carbohydrates: acc.carbohydrates + (Number(it.carbohydrates) || 0),\n            fat: acc.fat + (Number(it.fat) || 0)\n        }), loggedTotals);\n    }, [items, nutritionLogs]);\n\n    const handleSubmit = () => {\n        if (items.length === 0) return;\n\n        const year = selectedDate.getFullYear();\n        const month = String(selectedDate.getMonth() + 1).padStart(2, '0');\n        const day = String(selectedDate.getDate()).padStart(2, '0');\n        const formattedDate = `${year}-${month}-${day}`;\n\n        const mealData = {\n            date: formattedDate,\n            mealType,\n            items: items.map(i => ({\n                foodName: i.foodName,\n                calories: i.calories,\n                protein: i.protein,\n                carbohydrates: i.carbohydrates,\n                fat: i.fat,\n                servingSize: i.servingSize,\n                servingUnit: i.servingUnit\n            }))\n        };\n\n        addMeal(mealData).then(() => {\n            setItems([]);\n            if (calculateDailyXP) calculateDailyXP(true);\n        });\n    };\n\n    // eslint-disable-next-line no-unused-vars\n    const chartData = {\n        labels: ['PROTEIN', 'CARBS', 'FATS'],\n        datasets: [\n            {\n                label: 'Macro Balance',\n                data: [totals.protein, totals.carbohydrates, totals.fat],\n                backgroundColor: 'rgba(21, 53, 212, 0.2)', // Deep Blue transparent\n                borderColor: '#1535D4',\n                borderWidth: 2,\n                pointBackgroundColor: '#06b6d4', // Cyan dots\n                pointBorderColor: '#fff',\n                pointHoverBackgroundColor: '#fff',\n                pointHoverBorderColor: '#06b6d4',\n            },\n        ],\n    };\n\n    // eslint-disable-next-line no-unused-vars\n    const chartOptions = {\n        responsive: true,\n        maintainAspectRatio: false,\n        scales: {\n            r: {\n                angleLines: { color: 'rgba(255, 255, 255, 0.1)' },\n                grid: { color: 'rgba(255, 255, 255, 0.1)' },\n                pointLabels: {\n                    color: '#94a3b8',\n                    font: { size: 10, weight: '700' }\n                },\n                ticks: { display: false, backdropColor: 'transparent' }\n            }\n        },\n        plugins: {\n            legend: { display: false }\n        }\n    };\n\n    return (\n        <div className=\"nutrition-logger-shell\">\n            {/* LEFT PANEL */}\n            <motion.div className=\"logger-left\" initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }}>\n                {/* Header */}\n                <div className=\"logger-header\">\n                    <div className=\"title-group\">\n                        <div className=\"food-icon-sq\"><FaUtensils /></div>\n                        <div>\n                            <h3>Log Meal</h3>\n                            <p>Search and add items to your log</p>\n                        </div>\n                    </div>\n\n                    {/* Meal Type Toggle */}\n                    <div className=\"meal-type-toggle\">\n                        {['Breakfast', 'Lunch', 'Dinner'].map(t => (\n                            <button\n                                key={t}\n                                className={`type-btn ${mealType === t ? 'active' : ''}`}\n                                onClick={() => setMealType(t)}\n                            >\n                                {t}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n\n                {/* Search */}\n                <div className=\"search-container\">\n                    <FaSearch className=\"search-icon\" />\n                    <input\n                        type=\"text\"\n                        className=\"search-input-modern\"\n                        placeholder=\"Search foods, brands or scan barcode...\"\n                        readOnly // Mock for now\n                        onClick={() => alert(\"Search is currently disabled. Use 'Add Custom' or suggested items.\")}\n                    />\n                </div>\n\n                {/* Items List (Mixed Recent + Added) */}\n                <div className=\"section-label\">Recent Items</div>\n                <div className=\"items-scroll-area\">\n                    {/* Show recent items from backend */}\n                    {recentItems.length === 0 && items.length === 0 && (\n                        <div className=\"text-sm text-slate-500 text-center py-4 italic\">\n                            No recent history found. Add a custom item to get started.\n                        </div>\n                    )}\n\n                    {recentItems.slice(0, visibleRecentCount).map((item, idx) => {\n                        // Optimization: in a real app, use IDs. Here we use name similarity or index\n                        return (\n                            <div key={`recent-${item._id || idx}`} className=\"food-item-modern\" onClick={() => handleAddRecent(item)}>\n                                <div className=\"item-icon-circle\">{getFoodIcon(item.foodName)}</div>\n                                <div className=\"item-info\">\n                                    <span className=\"item-name\">{item.foodName}</span>\n                                    <span className=\"item-desc\">{item.calories} kcal  {item.servingSize} {item.servingUnit}</span>\n                                </div>\n                                <div className=\"item-actions\">\n                                    <button className=\"text-xs font-bold text-slate-500 hover:text-white transition-colors\">\n                                        <FaPlus />\n                                    </button>\n                                </div>\n                            </div>\n                        );\n                    })}\n\n                    {recentItems.length > visibleRecentCount && (\n                        <button\n                            onClick={() => setVisibleRecentCount(prev => prev + 5)}\n                            className=\"w-full py-2 text-xs font-bold text-slate-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors border border-white/10 mb-4\"\n                        >\n                            SHOW {Math.min(5, recentItems.length - visibleRecentCount)} MORE\n                        </button>\n                    )}\n\n                    {/* SEPARATE 'ADDED' SECTION for clarity if items > 0 */}\n                    {items.length > 0 && (\n                        <>\n                            <div className=\"section-label mt-4\" style={{ color: '#06b6d4' }}>Ready to Commit ({items.length})</div>\n                            {items.map((item, idx) => (\n                                <div key={item.tempId || idx} className=\"food-item-modern\" style={{ borderColor: '#06b6d4' }}>\n                                    <div className=\"item-icon-circle\" style={{ color: '#06b6d4' }}>{item.icon || <FaUtensils />}</div>\n                                    <div className=\"item-info\">\n                                        <span className=\"item-name\">{item.foodName}</span>\n                                        <span className=\"item-desc\" style={{ color: '#06b6d4' }}>{item.calories} kcal  Added</span>\n                                    </div>\n                                    <div className=\"item-actions\">\n                                        <button\n                                            className=\"btn-remove-x\"\n                                            onClick={() => handleRemoveItem(idx)}\n                                        >\n                                            <FaTimes />\n                                        </button>\n                                    </div>\n                                </div>\n                            ))}\n                        </>\n                    )}\n                </div>\n\n                {/* Footer Actions */}\n                <div className=\"logger-footer\">\n                    <button className=\"btn-outline\" onClick={openCustomModal}>\n                        <FaPlus /> Add Custom\n                    </button>\n\n                    <div className=\"macro-mini-summary\">\n                        <div className=\"macro-item kcal\">\n                            <span className=\"label\">KCAL</span>\n                            <span className=\"val\">{totals.calories}</span>\n                        </div>\n                        <div className=\"macro-item p\">\n                            <span className=\"label\">P</span>\n                            <span className=\"val\">{totals.protein}<small>g</small></span>\n                        </div>\n                        <div className=\"macro-item c\">\n                            <span className=\"label\">C</span>\n                            <span className=\"val\">{totals.carbohydrates}<small>g</small></span>\n                        </div>\n                        <div className=\"macro-item f\">\n                            <span className=\"label\">F</span>\n                            <span className=\"val\">{totals.fat}<small>g</small></span>\n                        </div>\n                    </div>\n\n                    <button\n                        className=\"btn-commit\"\n                        onClick={handleSubmit}\n                        disabled={loading || items.length === 0}\n                        style={{ opacity: items.length === 0 ? 0.5 : 1 }}\n                    >\n                        {loading ? '...' : 'Commit Meal'}\n                    </button>\n                </div>\n\n                {/* Custom Modal with Sci-Fi UI */}\n                <AnimatePresence>\n                    {showCustomModal && (\n                        <motion.div\n                            className=\"nl-modal-overlay\"\n                            initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}\n                        >\n                            <motion.div\n                                className=\"nl-modal-window\"\n                                initial={{ scale: 0.9, opacity: 0, y: 20 }}\n                                animate={{ scale: 1, opacity: 1, y: 0 }}\n                                exit={{ scale: 0.9, opacity: 0, y: 20 }}\n                                transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\n                            >\n                                {/* Header */}\n                                <div className=\"nl-modal-header\">\n                                    <h3>ADD NUTRITION</h3>\n                                    <div className=\"nl-tabs-container\">\n                                        {['new', 'history', 'recipes'].map(tab => (\n                                            <button\n                                                key={tab}\n                                                className={`nl-tab-btn ${modalTab === tab ? 'active' : ''}`}\n                                                onClick={() => setModalTab(tab)}\n                                            >\n                                                {tab}\n                                            </button>\n                                        ))}\n                                    </div>\n                                </div>\n\n                                <div className=\"nl-modal-body\">\n                                    {modalTab === 'new' ? (\n                                        /* CREATE NEW FORM */\n                                        <div className=\"nl-form-section\">\n                                            <input\n                                                className=\"nl-input-modern full-width\"\n                                                placeholder=\"Food Name (e.g., Grilled Chicken)\"\n                                                value={customForm.foodName}\n                                                onChange={e => setCustomForm({ ...customForm, foodName: e.target.value })}\n                                                autoFocus\n                                            />\n                                            <div className=\"nl-macro-grid\">\n                                                <div className=\"nl-input-wrapper\">\n                                                    <input\n                                                        type=\"number\"\n                                                        className=\"nl-input-modern\"\n                                                        placeholder=\"0\"\n                                                        value={customForm.calories}\n                                                        onChange={e => setCustomForm({ ...customForm, calories: e.target.value })}\n                                                    />\n                                                    <span className=\"nl-input-label\">KCAL</span>\n                                                </div>\n                                                <div className=\"nl-input-wrapper\">\n                                                    <input\n                                                        type=\"number\"\n                                                        className=\"nl-input-modern\"\n                                                        placeholder=\"0\"\n                                                        value={customForm.protein}\n                                                        onChange={e => setCustomForm({ ...customForm, protein: e.target.value })}\n                                                    />\n                                                    <span className=\"nl-input-label\">PRO</span>\n                                                </div>\n                                                <div className=\"nl-input-wrapper\">\n                                                    <input\n                                                        type=\"number\"\n                                                        className=\"nl-input-modern\"\n                                                        placeholder=\"0\"\n                                                        value={customForm.carbohydrates}\n                                                        onChange={e => setCustomForm({ ...customForm, carbohydrates: e.target.value })}\n                                                    />\n                                                    <span className=\"nl-input-label\">CARB</span>\n                                                </div>\n                                                <div className=\"nl-input-wrapper\">\n                                                    <input\n                                                        type=\"number\"\n                                                        className=\"nl-input-modern\"\n                                                        placeholder=\"0\"\n                                                        value={customForm.fat}\n                                                        onChange={e => setCustomForm({ ...customForm, fat: e.target.value })}\n                                                    />\n                                                    <span className=\"nl-input-label\">FAT</span>\n                                                </div>\n                                            </div>\n                                            <div className=\"nl-modal-actions\">\n                                                <button className=\"nl-btn-cancel\" onClick={closeCustomModal}>CANCEL</button>\n                                                <button className=\"nl-btn-confirm\" onClick={handleCustomSubmit}>ADD TO LOG</button>\n                                            </div>\n                                        </div>\n                                    ) : modalTab === 'history' ? (\n                                        /* HISTORY LIST */\n                                        <div className=\"nl-list-section\">\n                                            <div className=\"nl-search-bar-mini\">\n                                                <FaSearch />\n                                                <input\n                                                    placeholder=\"Search history data...\"\n                                                    value={historySearch}\n                                                    onChange={e => setHistorySearch(e.target.value)}\n                                                    autoFocus\n                                                />\n                                            </div>\n                                            <div className=\"nl-scroll-box\">\n                                                {recentItems.length === 0 && <div className=\"nl-empty-msg\">No history data found.</div>}\n                                                {recentItems\n                                                    .filter(item => item.foodName.toLowerCase().includes(historySearch.toLowerCase()))\n                                                    .map((item, idx) => (\n                                                        <div\n                                                            key={`hist-${idx}`}\n                                                            className=\"nl-list-item\"\n                                                            onClick={() => handleSelectHistoryItem(item)}\n                                                        >\n                                                            <div className=\"nl-item-icon\">{getFoodIcon(item.foodName)}</div>\n                                                            <div className=\"nl-item-details\">\n                                                                <div className=\"nl-item-name\">{item.foodName}</div>\n                                                                <div className=\"nl-item-meta\">{item.calories} kcal  {item.protein}p {item.carbohydrates}c {item.fat}f</div>\n                                                            </div>\n                                                            <FaPlus className=\"nl-item-add\" />\n                                                        </div>\n                                                    ))}\n                                            </div>\n                                        </div>\n                                    ) : (\n                                        /* RECIPES LIST */\n                                        <div className=\"nl-list-section\">\n                                            <div className=\"nl-section-title\">SAVED RECIPES</div>\n                                            <div className=\"nl-scroll-box\">\n                                                {(!recipes || recipes.length === 0) && <div className=\"nl-empty-msg\">No recipes available.</div>}\n                                                {recipes && recipes.map((recipe) => {\n                                                    const rCals = recipe.items.reduce((s, i) => s + (i.calories || 0), 0);\n                                                    return (\n                                                        <div\n                                                            key={recipe._id}\n                                                            className=\"nl-list-item blueprint\"\n                                                            onClick={() => handleLoadRecipe(recipe)}\n                                                        >\n                                                            <div className=\"nl-item-icon blueprint\"><FaBookOpen /></div>\n                                                            <div className=\"nl-item-details\">\n                                                                <div className=\"nl-item-name\">{recipe.name}</div>\n                                                                <div className=\"nl-item-meta\">{recipe.items.length} Items  {rCals} kcal</div>\n                                                            </div>\n                                                            <span className=\"nl-badge-load\">LOAD</span>\n                                                        </div>\n                                                    );\n                                                })}\n                                            </div>\n                                        </div>\n                                    )}\n                                </div>\n                            </motion.div>\n                        </motion.div>\n                    )}\n                </AnimatePresence>\n            </motion.div>\n\n            {/* RIGHT PANEL: DAILY OVERVIEW */}\n            <motion.div className=\"logger-right\" initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }}>\n                <div className=\"elemental-container\">\n                    {/* Header */}\n                    <div className=\"elemental-header\">\n                        <h2>Daily Overview</h2>\n                        <span className=\"phase-badge\">Today's Progress</span>\n                    </div>\n\n                    {/* 3 Macro Cards */}\n                    <div className=\"elemental-grid\">\n                        <div className=\"elemental-card protein\">\n                            <div className=\"icon-glow-container\">\n                                <div className=\"glow-backdrop blue\"></div>\n                                <FaGem className=\"macro-icon blue\" />\n                            </div>\n                            <span className=\"macro-label\">PROTEIN</span>\n                            <span className=\"macro-val\">{totals.protein}g</span>\n                        </div>\n                        <div className=\"elemental-card carbs\">\n                            <div className=\"icon-glow-container\">\n                                <div className=\"glow-backdrop green\"></div>\n                                <FaWater className=\"macro-icon green\" />\n                            </div>\n                            <span className=\"macro-label\">CARBS</span>\n                            <span className=\"macro-val\">{totals.carbohydrates}g</span>\n                        </div>\n                        <div className=\"elemental-card fats\">\n                            <div className=\"icon-glow-container\">\n                                <div className=\"glow-backdrop orange\"></div>\n                                <FaDotCircle className=\"macro-icon orange\" />\n                            </div>\n                            <span className=\"macro-label\">FATS</span>\n                            <span className=\"macro-val\">{totals.fat}g</span>\n                        </div>\n                    </div>\n\n                    {/* Energy Balance (Formerly Synergy Chamber) */}\n                    <div className=\"synergy-chamber\">\n                        <div className=\"sc-header\">ENERGY BALANCE</div>\n\n                        <div className=\"sc-center\">\n                            {/* Circular Progress */}\n                            <div className=\"circular-gauge\">\n                                <svg viewBox=\"0 0 100 100\" className=\"gauge-svg\">\n                                    {/* Track */}\n                                    <circle cx=\"50\" cy=\"50\" r=\"45\" className=\"gauge-track\" />\n                                    {/* Progress - 2500 kcal target approx */}\n                                    <circle\n                                        cx=\"50\"\n                                        cy=\"50\"\n                                        r=\"45\"\n                                        className=\"gauge-fill\"\n                                        strokeDasharray=\"283\"\n                                        strokeDashoffset={283 - (Math.min(totals.calories / 2500, 1) * 283)}\n                                        transform=\"rotate(-90 50 50)\"\n                                    />\n                                </svg>\n                                <div className=\"gauge-content\">\n                                    <span className=\"gauge-val\">{totals.calories}</span>\n                                    <span className=\"gauge-unit\">KCAL</span>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"sc-bars\">\n                            {/* Protein Ratio */}\n                            <div className=\"sc-bar-group\">\n                                <div className=\"sc-bar-label\">PROTEIN RATIO</div>\n                                <div className=\"sc-bar-track\">\n                                    <div\n                                        className=\"sc-bar-fill blue\"\n                                        style={{ width: `${Math.min((totals.protein / (totals.protein + totals.carbohydrates + totals.fat || 1)) * 100 * 2, 100)}%` }} // Arbitrary scaling for visual\n                                    ></div>\n                                </div>\n                            </div>\n                            {/* Calorie Density */}\n                            <div className=\"sc-bar-group\">\n                                <div className=\"sc-bar-label\">CALORIE DENSITY</div>\n                                <div className=\"sc-bar-track\">\n                                    <div\n                                        className=\"sc-bar-fill orange\"\n                                        style={{ width: `${Math.min((totals.calories / 1000) * 100, 100)}%` }}\n                                    ></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Staged Items List */}\n                    <div className=\"infusion-list\">\n                        {items.length === 0 ? (\n                            <div className=\"empty-infusion\">Select items to build your meal...</div>\n                        ) : (\n                            items.map((item, idx) => (\n                                <motion.div\n                                    className=\"infusion-item\"\n                                    key={item.tempId || idx}\n                                    initial={{ opacity: 0, y: 5 }}\n                                    animate={{ opacity: 1, y: 0 }}\n                                >\n                                    <div className=\"ii-left\">\n                                        <div className={`ii-dot ${getDotColor(item)}`}></div>\n                                        <span className=\"ii-name\">{item.servingSize > 1 ? `${item.servingSize}x ` : ''}{item.foodName}</span>\n                                    </div>\n                                    <div className=\"ii-right\">{item.calories} kcal</div>\n                                </motion.div>\n                            ))\n                        )}\n                    </div>\n                </div>\n            </motion.div>\n        </div>\n    );\n};\n\n// Helper for dot color based on dominant macro\nconst getDotColor = (item) => {\n    if (item.protein > item.carbohydrates && item.protein > item.fat) return 'blue';\n    if (item.carbohydrates > item.protein && item.carbohydrates > item.fat) return 'green';\n    return 'orange'; // Fat or balanced\n};\n\n// eslint-disable-next-line no-unused-vars\nconst MeterBox = ({ label, color, percent }) => (\n    <div className=\"meter-box\">\n        <span className=\"meter-label\" style={{ color: color }}>{label}</span>\n        <div className=\"meter-bar\">\n            <div\n                className=\"meter-fill\"\n                style={{ width: `${percent}%`, background: color }}\n            ></div>\n        </div>\n    </div>\n);\n\nexport default NutritionLogger;","import React, { useState, useEffect } from 'react';\nimport { useNutrition } from '../../context/NutritionContext';\nimport './EditMealModal.css';\n\nconst EditMealModal = ({ meal, onClose }) => {\n    const { updateMeal, loading } = useNutrition();\n\n    // Initialize state for the form fields\n    const [mealTitle, setMealTitle] = useState('');\n    const [mealType, setMealType] = useState('Breakfast');\n    const [items, setItems] = useState([]);\n\n    // This useEffect hook pre-fills the form whenever a new 'meal' is passed to the modal\n    useEffect(() => {\n        if (meal) {\n            setMealTitle(meal.mealName || '');\n            setMealType(meal.mealType);\n            // We need to remove the internal __v and _id properties Mongoose adds to sub-documents\n            setItems(meal.items.map(({ foodName, calories, protein, carbohydrates, fat, servingSize, servingUnit }) => \n                ({ foodName, calories, protein, carbohydrates, fat, servingSize, servingUnit }))\n            );\n        }\n    }, [meal]);\n\n    if (!meal) return null;\n\n    // These functions are similar to the logger, but operate on this modal's state\n    const handleItemChange = (index, event) => {\n        const updatedItems = [...items];\n        updatedItems[index][event.target.name] = event.target.value;\n        setItems(updatedItems);\n    };\n    const handleAddItem = () => setItems([...items, { foodName: '', calories: '', protein: '', carbohydrates: '', fat: '', servingSize: '', servingUnit: '' }]);\n    const handleRemoveItem = (index) => setItems(items.filter((_, i) => i !== index));\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const mealData = {\n            mealName: mealTitle,\n            mealType,\n            items: items.filter(item => item.foodName && item.calories && item.servingSize),\n        };\n        updateMeal(meal._id, mealData).then(() => {\n            onClose(); // Close the modal on success\n        });\n    };\n\n    return (\n        <div className=\"modal-backdrop\">\n            <div className=\"modal-content\">\n                <h2>Edit Meal</h2>\n                <form onSubmit={handleSubmit} className=\"edit-meal-form\">\n                    {/* This form is a mirror of your new NutritionLogger component */}\n                    <div className=\"form-row\">\n                         <div className=\"form-group-inline\">\n                            <label htmlFor=\"mealType\">Meal Type</label>\n                            <select id=\"mealType\" value={mealType} onChange={(e) => setMealType(e.target.value)}>\n                                <option>Breakfast</option>\n                                <option>Lunch</option>\n                                <option>Dinner</option>\n                                <option>Snacks</option>\n                            </select>\n                        </div>\n                        <div className=\"form-group-inline\">\n                            <label htmlFor=\"mealTitle\">Meal Title (Optional)</label>\n                            <input type=\"text\" id=\"mealTitle\" value={mealTitle} onChange={(e) => setMealTitle(e.target.value)} />\n                        </div>\n                    </div>\n                    <div className=\"items-list\">\n                         {items.map((item, index) => (\n                            <div key={index} className=\"food-item-row\">\n                                <input type=\"text\" name=\"foodName\" placeholder=\"Food Name\" value={item.foodName} onChange={e => handleItemChange(index, e)} required className=\"food-name-input\"/>\n                                <input type=\"number\" name=\"servingSize\" placeholder=\"Size\" value={item.servingSize} onChange={e => handleItemChange(index, e)} required />\n                                <input type=\"text\" name=\"servingUnit\" placeholder=\"Unit\" value={item.servingUnit} onChange={e => handleItemChange(index, e)} required />\n                                <input type=\"number\" name=\"calories\" placeholder=\"kcal\" value={item.calories} onChange={e => handleItemChange(index, e)} required />\n                                <input type=\"number\" name=\"protein\" placeholder=\"P (g)\" value={item.protein} onChange={e => handleItemChange(index, e)} />\n                                <input type=\"number\" name=\"carbohydrates\" placeholder=\"C (g)\" value={item.carbohydrates} onChange={e => handleItemChange(index, e)} />\n                                <input type=\"number\" name=\"fat\" placeholder=\"F (g)\" value={item.fat} onChange={e => handleItemChange(index, e)} />\n                                <button type=\"button\" className=\"remove-item-btn\" onClick={() => handleRemoveItem(index)}></button>\n                            </div>\n                        ))}\n                    </div>\n                    <div className=\"modal-actions\">\n                        <button type=\"button\" className=\"add-item-btn\" onClick={handleAddItem}>+ Add Item</button>\n                        <div>\n                            <button type=\"button\" className=\"btn-cancel\" onClick={onClose}>Cancel</button>\n                            <button type=\"submit\" className=\"btn-save\" disabled={loading}>{loading ? 'Saving...' : 'Save Changes'}</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default EditMealModal;","import React, { useMemo, useState, useContext } from 'react';\nimport { useNutrition } from '../../context/NutritionContext';\nimport { RecipeContext } from '../../context/RecipeContext';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { FaSave, FaEdit, FaTrash, FaUtensils, FaFire, FaGem, FaTint, FaBullseye } from 'react-icons/fa';\nimport { HiViewGrid } from 'react-icons/hi';\nimport './NutritionHistory.css';\nimport EditMealModal from './EditMealModal';\n\nconst NutritionHistory = () => {\n    const { nutritionLogs, loading, error, deleteMeal } = useNutrition();\n    const [editingMeal, setEditingMeal] = useState(null);\n    const { addRecipe } = useContext(RecipeContext);\n\n    const dailyTotals = useMemo(() => {\n        const totals = { calories: 0, protein: 0, carbohydrates: 0, fat: 0 };\n        nutritionLogs.forEach(log => {\n            log.items.forEach(item => {\n                totals.calories += Number(item.calories) || 0;\n                totals.protein += Number(item.protein) || 0;\n                totals.carbohydrates += Number(item.carbohydrates) || 0;\n                totals.fat += Number(item.fat) || 0;\n            });\n        });\n        return totals;\n    }, [nutritionLogs]);\n\n    const handleSaveAsRecipe = (meal) => {\n        const recipeName = prompt(\"Enter a name for this recipe:\", meal.mealName || `My ${meal.mealType}`);\n        if (recipeName) {\n            const recipeItems = meal.items.map(({ foodName, calories, protein, carbohydrates, fat, servingSize, servingUnit }) =>\n                ({ foodName, calories, protein, carbohydrates, fat, servingSize, servingUnit }));\n            addRecipe({ name: recipeName, items: recipeItems });\n        }\n    };\n\n    if (loading) {\n        return <p className=\"nh-loading\">Loading history...</p>;\n    }\n\n    if (error) {\n        return <p className=\"nh-error\">{error}</p>;\n    }\n\n    if (nutritionLogs.length === 0) {\n        return <p className=\"nh-empty\">No meals logged for this day. Use the 'Meal Logger' tab to add one!</p>;\n    }\n\n    const goals = { calories: 2500, protein: 180, carbohydrates: 300, fat: 80 };\n\n\n    return (\n        <div className=\"nh-container\">\n            {/* Daily Summary Header */}\n            <div className=\"nh-section-header\">\n                <span className=\"nh-glow-dot\"></span>\n                <h2>DAILY SUMMARY</h2>\n            </div>\n\n            {/* Summary Cards Grid */}\n            <div className=\"nh-cards-grid\">\n                {/* Calories Card */}\n                <motion.div className=\"nh-card\" whileHover={{ y: -4 }}>\n                    <div className=\"nh-card-top\">\n                        <div className=\"nh-icon-box blue\"><FaFire /></div>\n                        <span className=\"nh-goal\">GOAL: {goals.calories}</span>\n                    </div>\n                    <div className=\"nh-card-value\">{dailyTotals.calories.toFixed(0)}</div>\n                    <div className=\"nh-card-label\">CALORIES</div>\n                    <div className=\"nh-progress-track\">\n                        <div className=\"nh-progress-fill blue\" style={{ width: `${Math.min((dailyTotals.calories / goals.calories) * 100, 100)}%` }}></div>\n                    </div>\n                </motion.div>\n\n                {/* Protein Card */}\n                <motion.div className=\"nh-card\" whileHover={{ y: -4 }}>\n                    <div className=\"nh-card-top\">\n                        <div className=\"nh-icon-box blue\"><FaGem /></div>\n                        <span className=\"nh-goal\">GOAL: {goals.protein}G</span>\n                    </div>\n                    <div className=\"nh-card-value\">{dailyTotals.protein.toFixed(1)}g</div>\n                    <div className=\"nh-card-label\">PROTEIN</div>\n                    <div className=\"nh-progress-track\">\n                        <div className=\"nh-progress-fill blue\" style={{ width: `${Math.min((dailyTotals.protein / goals.protein) * 100, 100)}%` }}></div>\n                    </div>\n                </motion.div>\n\n                {/* Carbs Card */}\n                <motion.div className=\"nh-card\" whileHover={{ y: -4 }}>\n                    <div className=\"nh-card-top\">\n                        <div className=\"nh-icon-box cyan\"><FaTint /></div>\n                        <span className=\"nh-goal\">GOAL: {goals.carbohydrates}G</span>\n                    </div>\n                    <div className=\"nh-card-value\">{dailyTotals.carbohydrates.toFixed(1)}g</div>\n                    <div className=\"nh-card-label\">CARBS</div>\n                    <div className=\"nh-progress-track\">\n                        <div className=\"nh-progress-fill cyan\" style={{ width: `${Math.min((dailyTotals.carbohydrates / goals.carbohydrates) * 100, 100)}%` }}></div>\n                    </div>\n                </motion.div>\n\n                {/* Fat Card */}\n                <motion.div className=\"nh-card\" whileHover={{ y: -4 }}>\n                    <div className=\"nh-card-top\">\n                        <div className=\"nh-icon-box orange\"><FaBullseye /></div>\n                        <span className=\"nh-goal\">GOAL: {goals.fat}G</span>\n                    </div>\n                    <div className=\"nh-card-value\">{dailyTotals.fat.toFixed(1)}g</div>\n                    <div className=\"nh-card-label\">FAT</div>\n                    <div className=\"nh-progress-track\">\n                        <div className=\"nh-progress-fill orange\" style={{ width: `${Math.min((dailyTotals.fat / goals.fat) * 100, 100)}%` }}></div>\n                    </div>\n                </motion.div>\n            </div>\n\n            {/* Meal Cards */}\n            <div className=\"nh-meals-list\">\n                <AnimatePresence>\n                    {nutritionLogs.map((log, idx) => (\n                        <motion.div\n                            key={log._id}\n                            initial={{ opacity: 0, y: 20 }}\n                            animate={{ opacity: 1, y: 0 }}\n                            exit={{ opacity: 0 }}\n                            transition={{ delay: idx * 0.08 }}\n                            className=\"nh-meal-card\"\n                        >\n                            <div className=\"nh-meal-header\">\n                                <div className=\"nh-meal-header-left\">\n                                    <FaUtensils className=\"nh-meal-icon\" />\n                                    <h3>{log.mealName || log.mealType}</h3>\n                                </div>\n                                <div className=\"nh-meal-actions\">\n                                    <button onClick={() => handleSaveAsRecipe(log)} title=\"Save Recipe\"><FaSave /></button>\n                                    <button onClick={() => setEditingMeal(log)} title=\"Edit\"><FaEdit /></button>\n                                    <button onClick={() => deleteMeal(log._id)} title=\"Delete\"><FaTrash /></button>\n                                </div>\n                            </div>\n\n                            <div className=\"nh-meal-items\">\n                                {log.items.map((item, index) => (\n                                    <div key={index} className=\"nh-item-row\">\n                                        <div className=\"nh-item-left\">\n                                            <div className=\"nh-item-icon\"><HiViewGrid /></div>\n                                            <div className=\"nh-item-text\">\n                                                <span className=\"nh-item-name\">{item.foodName}</span>\n                                                <span className=\"nh-item-cat\">MAIN COURSE</span>\n                                            </div>\n                                        </div>\n\n                                        <div className=\"nh-item-right\">\n                                            <span className=\"nh-portion-badge\">1 PORTION</span>\n                                            <div className=\"nh-macros\">\n                                                <div className=\"nh-macro\">\n                                                    <span className=\"nh-macro-label\">KCAL</span>\n                                                    <span className=\"nh-macro-value white\">{Number(item.calories).toFixed(0)}</span>\n                                                </div>\n                                                <div className=\"nh-macro\">\n                                                    <span className=\"nh-macro-label\">P</span>\n                                                    <span className=\"nh-macro-value blue\">{Number(item.protein).toFixed(0)}g</span>\n                                                </div>\n                                                <div className=\"nh-macro\">\n                                                    <span className=\"nh-macro-label\">C</span>\n                                                    <span className=\"nh-macro-value cyan\">{Number(item.carbohydrates).toFixed(0)}g</span>\n                                                </div>\n                                                <div className=\"nh-macro\">\n                                                    <span className=\"nh-macro-label\">F</span>\n                                                    <span className=\"nh-macro-value orange\">{Number(item.fat).toFixed(0)}g</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        </motion.div>\n                    ))}\n                </AnimatePresence>\n            </div>\n\n            {/* Footer */}\n            <div className=\"nh-footer\">\n                TACTICAL NUTRITION OS // V4.0.2\n                <div className=\"nh-footer-dots\">\n                    <span></span><span></span><span></span>\n                </div>\n            </div>\n\n            {editingMeal && (\n                <EditMealModal\n                    meal={editingMeal}\n                    onClose={() => setEditingMeal(null)}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default NutritionHistory;","import React, { useEffect, useMemo, useState } from 'react';\nimport { useNutrition } from '../../context/NutritionContext';\nimport { FaTint, FaPlus, FaTrash, FaClock } from 'react-icons/fa';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport './HydrationTracker.css';\n\nconst HydrationTracker = () => {\n    const {\n        hydrationLogs,\n        hydrationGoal,\n        selectedDate,\n        addHydration,\n        getHydrationForDate,\n        deleteHydration,\n        setHydrationGoal,\n        loading\n    } = useNutrition();\n\n    const [customAmount, setCustomAmount] = useState('');\n    const [isAnimating, setIsAnimating] = useState(false);\n\n    useEffect(() => {\n        getHydrationForDate(selectedDate);\n    }, [selectedDate, getHydrationForDate]);\n\n    const totalIntake = useMemo(() => {\n        return hydrationLogs.reduce((total, log) => total + log.amount, 0);\n    }, [hydrationLogs]);\n\n    const progressPercent = Math.min(Math.round((totalIntake / hydrationGoal) * 100), 100);\n\n    const handleAddWater = (amount) => {\n        const numAmount = parseInt(amount, 10);\n        if (!numAmount || numAmount <= 0) return;\n\n        // Trigger pour animation\n        setIsAnimating(true);\n        setTimeout(() => setIsAnimating(false), 1200);\n\n        const logData = { date: selectedDate, amount: numAmount };\n        addHydration(logData);\n        setCustomAmount('');\n    };\n\n    const handleSetGoal = () => {\n        const newGoal = prompt(\"Set your new daily hydration goal (in ml):\", hydrationGoal);\n        const numGoal = parseInt(newGoal, 10);\n        if (numGoal && numGoal > 0) {\n            setHydrationGoal(numGoal);\n        }\n    };\n\n    return (\n        <motion.div className=\"hy-container\" initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\n            {/* Left Column */}\n            <div className=\"hy-main\">\n                {/* Header */}\n                <div className=\"hy-header\">\n                    <div className=\"hy-header-left\">\n                        <div className=\"hy-icon-box\"><FaTint /></div>\n                        <div className=\"hy-title-text\">\n                            <h2>Hydration Tracker</h2>\n                            <p>Keep yourself refreshed and healthy</p>\n                        </div>\n                    </div>\n                    <button className=\"hy-edit-goal-btn\" onClick={handleSetGoal}>EDIT GOAL</button>\n                </div>\n\n                {/* Circular Progress */}\n                <div className=\"hy-circle-container\">\n                    <div className={`hy-circle ${isAnimating ? 'pouring' : ''}`}>\n                        {/* Glass shine overlay */}\n                        <div className=\"hy-glass-shine\"></div>\n\n                        <svg className=\"hy-circle-svg\" viewBox=\"0 0 200 200\">\n                            {/* Background circle */}\n                            <circle cx=\"100\" cy=\"100\" r=\"88\" className=\"hy-circle-bg\" />\n                            {/* Progress circle */}\n                            <circle\n                                cx=\"100\"\n                                cy=\"100\"\n                                r=\"88\"\n                                className=\"hy-circle-progress\"\n                                style={{\n                                    strokeDasharray: `${2 * Math.PI * 88}`,\n                                    strokeDashoffset: `${2 * Math.PI * 88 * (1 - progressPercent / 100)}`\n                                }}\n                            />\n                        </svg>\n                        {/* Water fill effect with bubbles */}\n                        <div\n                            className=\"hy-water-fill\"\n                            style={{ '--water-level': `${progressPercent}%` }}\n                        >\n                            <div className=\"hy-bubbles\">\n                                <span className=\"hy-bubble\"></span>\n                                <span className=\"hy-bubble\"></span>\n                                <span className=\"hy-bubble\"></span>\n                                <span className=\"hy-bubble\"></span>\n                                <span className=\"hy-bubble\"></span>\n                                <span className=\"hy-bubble\"></span>\n                                <span className=\"hy-bubble\"></span>\n                                <span className=\"hy-bubble\"></span>\n                                <span className=\"hy-bubble\"></span>\n                                <span className=\"hy-bubble\"></span>\n                            </div>\n                        </div>\n                        {/* Center text */}\n                        <div className=\"hy-circle-text\">\n                            <span className=\"hy-big-value\">{totalIntake}</span>\n                            <span className=\"hy-sub-text\">ML / {hydrationGoal} ML GOAL</span>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Quick Add Buttons */}\n                <div className=\"hy-quick-btns\">\n                    <motion.button\n                        whileHover={{ scale: 1.03 }}\n                        whileTap={{ scale: 0.97 }}\n                        onClick={() => handleAddWater(250)}\n                        disabled={loading}\n                        className=\"hy-preset-btn\"\n                    >\n                        <span className=\"hy-preset-val\">+250</span>\n                        <span className=\"hy-preset-unit\">ML</span>\n                    </motion.button>\n                    <motion.button\n                        whileHover={{ scale: 1.03 }}\n                        whileTap={{ scale: 0.97 }}\n                        onClick={() => handleAddWater(500)}\n                        disabled={loading}\n                        className=\"hy-preset-btn\"\n                    >\n                        <span className=\"hy-preset-val\">+500</span>\n                        <span className=\"hy-preset-unit\">ML</span>\n                    </motion.button>\n                    <motion.button\n                        whileHover={{ scale: 1.03 }}\n                        whileTap={{ scale: 0.97 }}\n                        onClick={() => handleAddWater(750)}\n                        disabled={loading}\n                        className=\"hy-preset-btn\"\n                    >\n                        <span className=\"hy-preset-val\">+750</span>\n                        <span className=\"hy-preset-unit\">ML</span>\n                    </motion.button>\n                </div>\n\n                {/* Custom Input */}\n                <div className=\"hy-custom-row\">\n                    <input\n                        type=\"number\"\n                        value={customAmount}\n                        onChange={(e) => setCustomAmount(e.target.value)}\n                        placeholder=\"Enter custom amount (ml)\"\n                        className=\"hy-custom-input\"\n                    />\n                    <motion.button\n                        whileHover={{ scale: 1.05 }}\n                        whileTap={{ scale: 0.95 }}\n                        onClick={() => handleAddWater(customAmount)}\n                        disabled={loading || !customAmount}\n                        className=\"hy-custom-btn\"\n                    >\n                        <FaPlus />\n                    </motion.button>\n                </div>\n\n                {/* Today's Log */}\n                <div className=\"hy-log-section\">\n                    <h3 className=\"hy-section-title\">TODAY'S LOG SEQUENCE</h3>\n                    <div className=\"hy-log-list\">\n                        {hydrationLogs.length > 0 ? (\n                            <AnimatePresence>\n                                {hydrationLogs.slice().reverse().map(log => (\n                                    <motion.div\n                                        key={log._id}\n                                        className=\"hy-log-item\"\n                                        initial={{ opacity: 0, x: -20 }}\n                                        animate={{ opacity: 1, x: 0 }}\n                                        exit={{ opacity: 0, scale: 0.95 }}\n                                    >\n                                        <div className=\"hy-log-left\">\n                                            <FaClock className=\"hy-log-clock\" />\n                                            <span className=\"hy-log-time\">\n                                                {new Date(log.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                                            </span>\n                                        </div>\n                                        <span className=\"hy-log-amount\">+{log.amount} ml</span>\n                                        <motion.button\n                                            whileHover={{ scale: 1.1 }}\n                                            onClick={() => deleteHydration(log._id)}\n                                            className=\"hy-log-delete\"\n                                        >\n                                            <FaTrash />\n                                        </motion.button>\n                                    </motion.div>\n                                ))}\n                            </AnimatePresence>\n                        ) : (\n                            <div className=\"hy-empty\">No water logged yet. Start hydrating!</div>\n                        )}\n                    </div>\n                </div>\n            </div>\n\n            {/* Right Sidebar */}\n            <aside className=\"hy-sidebar\">\n                {/* Goal Card */}\n                <div className=\"hy-sidebar-card\">\n                    <h4 className=\"hy-card-title\">DAILY HYDRATION GOAL</h4>\n                    <p className=\"hy-goal-display\">\n                        <span className=\"hy-goal-num\">{hydrationGoal}</span>\n                        <span className=\"hy-goal-unit\">ml</span>\n                    </p>\n                    <p className=\"hy-card-desc\">\n                        Recommended daily water intake varies, but 8-10 glasses (2-2.5L) is a common guideline for active users in combat phase.\n                    </p>\n                </div>\n\n                {/* Tactical Tips */}\n                <div className=\"hy-sidebar-card\">\n                    <h4 className=\"hy-tips-title\">\n                        <FaTint className=\"hy-tips-icon\" /> TACTICAL TIPS\n                    </h4>\n                    <ul className=\"hy-tips-list\">\n                        <li><span className=\"hy-tip-dot\"></span>Drink water with every meal protocol</li>\n                        <li><span className=\"hy-tip-dot\"></span>Keep a hydration unit within proximity</li>\n                        <li><span className=\"hy-tip-dot\"></span>Consume liquids at first thirst signal</li>\n                    </ul>\n                </div>\n\n                {/* Current Phase */}\n                <div className=\"hy-sidebar-card hy-phase-card\">\n                    <div className=\"hy-phase-text\">\n                        <span className=\"hy-phase-label\">CURRENT PHASE</span>\n                        <span className=\"hy-phase-value\">CONSTRUCTION</span>\n                    </div>\n                    <div className=\"hy-phase-dot\"></div>\n                </div>\n\n                {/* Footer */}\n                <p className=\"hy-sidebar-footer\">SELECT ITEMS TO BEGIN INFUSION SEQUENCE</p>\n            </aside>\n        </motion.div>\n    );\n};\n\nexport default HydrationTracker;","import React from 'react';\nimport './StatCard.css';\n\nconst StatCard = ({ label, value, unit = '' }) => {\n    return (\n        <div className=\"stat-card\">\n            <span className=\"stat-value\">{value}<span className=\"stat-unit\">{unit}</span></span>\n            <span className=\"stat-label\">{label}</span>\n        </div>\n    );\n};\n\nexport default StatCard;","import React from 'react';\nimport { ResponsiveContainer, LineChart, CartesianGrid, XAxis, YAxis, Tooltip, Legend, Line, ReferenceLine } from 'recharts';\n\nconst CalorieTrendChart = ({ data, goal }) => {\n    // Custom Tooltip for styling\n    const CustomTooltip = ({ active, payload, label }) => {\n        if (active && payload && payload.length) {\n            return (\n                <div className=\"custom-tooltip\" style={{\n                    background: '#1a1f2e',\n                    border: '1px solid #764be0',\n                    borderRadius: '8px',\n                    padding: '10px'\n                }}>\n                    <p className=\"label\" style={{ color: '#fff', marginBottom: '4px', fontSize: '0.85rem' }}>{label}</p>\n                    <p className=\"intro\" style={{ color: '#c7d2e7', fontSize: '0.9rem', fontWeight: 'bold' }}>\n                        {`${payload[0].value} kcal`}\n                    </p>\n                </div>\n            );\n        }\n        return null;\n    };\n\n    return (\n        <ResponsiveContainer width=\"100%\" height={300}>\n            <LineChart data={data} margin={{ top: 10, right: 20, left: 0, bottom: 0 }}>\n                <CartesianGrid stroke=\"#2d3748\" strokeDasharray=\"3 3\" vertical={false} />\n                <XAxis\n                    dataKey=\"date\"\n                    stroke=\"#718096\"\n                    fontSize={11}\n                    tickLine={false}\n                    axisLine={false}\n                    tick={{ fill: '#718096' }}\n                    minTickGap={30}\n                />\n                <YAxis\n                    stroke=\"#718096\"\n                    fontSize={11}\n                    tickLine={false}\n                    axisLine={false}\n                    tick={{ fill: '#718096' }}\n                />\n                <Tooltip content={<CustomTooltip />} cursor={{ stroke: 'rgba(118, 75, 224, 0.5)', strokeWidth: 1 }} />\n                <Legend iconType=\"circle\" wrapperStyle={{ paddingTop: '10px' }} />\n\n                <ReferenceLine y={goal} stroke=\"#ff9f40\" strokeDasharray=\"5 5\" strokeWidth={1.5}>\n\n                </ReferenceLine>\n\n                <Line\n                    type=\"monotone\"\n                    dataKey=\"totalCalories\"\n                    name=\"Daily Intake\"\n                    stroke=\"#8b5cf6\"\n                    strokeWidth={3}\n                    dot={false}\n                    activeDot={{ r: 6, fill: '#8b5cf6', stroke: '#fff', strokeWidth: 2 }}\n                    animationDuration={1500}\n                />\n            </LineChart>\n        </ResponsiveContainer>\n    );\n};\n\nexport default CalorieTrendChart;","import React from 'react';\nimport { ResponsiveContainer, PieChart, Pie, Cell, Tooltip, Legend } from 'recharts';\n\nconst COLORS = {\n    protein: '#adff2f',\n    carbs: '#00bfff',\n    fat: '#ff9f40',\n};\n\nconst MacroPieChart = ({ data }) => {\n    const chartData = [\n        { name: 'Protein', value: Math.round(data.avgProtein) },\n        { name: 'Carbs', value: Math.round(data.avgCarbs) },\n        { name: 'Fat', value: Math.round(data.avgFat) },\n    ];\n\n    const CustomTooltip = ({ active, payload }) => {\n        if (active && payload && payload.length) {\n            return (\n                <div className=\"custom-tooltip\">\n                    {`${payload[0].name}: ${payload[0].value}g (avg)`}\n                </div>\n            );\n        }\n        return null;\n    };\n\n    return (\n        <ResponsiveContainer width=\"100%\" height={300}>\n            <PieChart>\n                <Pie\n                    data={chartData}\n                    cx=\"50%\"\n                    cy=\"50%\"\n                    innerRadius={60}\n                    outerRadius={100}\n                    fill=\"#8884d8\"\n                    paddingAngle={5}\n                    dataKey=\"value\"\n                    nameKey=\"name\"\n                >\n                    {chartData.map((entry, index) => (\n                        <Cell key={`cell-${index}`} fill={COLORS[entry.name.toLowerCase()]} />\n                    ))}\n                </Pie>\n                <Tooltip content={<CustomTooltip />} />\n                <Legend />\n            </PieChart>\n        </ResponsiveContainer>\n    );\n};\n\nexport default MacroPieChart;","// frontend/src/components/nutrition/MonarchsRoad/PathStone.js\nimport React from 'react';\nimport './PathStone.css';\n\nconst PathStone = React.memo(({ day, status, style }) => {\n    const statusClass = `status-${status}`;\n    return (\n        <div className={`path-stone ${statusClass}`} style={style}>\n            <div className=\"stone-day-number\">{day}</div>\n        </div>\n    );\n});\n\nexport default PathStone;","import React, { useMemo } from 'react';\nimport PathStone from './PathStone';\nimport './MonarchsRoad.css';\n\nconst MonarchsRoad = ({ data, user, goal }) => {\n\n    const pathData = useMemo(() => {\n        // Fallback: if no streakStartDate, use the data span or default to 30 days\n        let period;\n        if (user && user.streakStartDate) {\n            const startDate = new Date(user.streakStartDate);\n            const today = new Date();\n            const diffTime = Math.abs(today - startDate);\n            const daysDiff = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;\n            period = Math.min(daysDiff, 365); // Cap at 365 days\n        } else if (data && data.length > 0) {\n            // Use the data length as period if available\n            period = Math.min(data.length, 365);\n        } else {\n            // Default fallback\n            period = 30;\n        }\n\n        const loggedDataMap = new Map((data || []).map(day => [day.date, day]));\n        const road = [];\n\n        for (let i = 0; i < period; i++) {\n            const date = new Date();\n            date.setDate(date.getDate() - (period - 1 - i));\n            const dateString = date.toISOString().split('T')[0];\n            const dayNumber = i + 1;\n\n            let status = 'future';\n            if (loggedDataMap.has(dateString)) {\n                const dayData = loggedDataMap.get(dateString);\n                // Use goal with fallback to 2200 if undefined\n                const effectiveGoal = goal || 2200;\n                const calorieDiff = Math.abs(dayData.totalCalories - effectiveGoal);\n                status = (calorieDiff < effectiveGoal * 0.1) ? 'flawless' : 'standard';\n            } else if (new Date() > date) {\n                status = 'broken';\n            }\n\n            //  New algorithm for a horizontal, winding path\n            const horizontalSpacing = 80; // Distance between stones on X-axis\n            const verticalAmplitude = 50; // How high/low the path curves\n            const frequency = 0.5; // How wavy the path is\n\n            const x = i * horizontalSpacing;\n            const y = verticalAmplitude * Math.sin(i * frequency);\n\n            road.push({ day: dayNumber, status, x, y });\n        }\n        return road;\n    }, [data, goal, user]);\n\n    // Calculate the total width needed for the path based on actual stones\n    const roadWidth = (pathData.length * 80) + 100;\n\n    return (\n        <div className=\"monarchs-road-container\">\n            <div className=\"monarchs-road-path\" style={{ width: `${roadWidth}px` }}>\n                {pathData.map(stone => (\n                    <PathStone\n                        key={stone.day}\n                        day={stone.day}\n                        status={stone.status}\n                        style={{\n                            // Center the path vertically, then apply the sine wave offset\n                            transform: `translate(${stone.x}px, calc(50% + ${stone.y}px))`,\n                        }}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default MonarchsRoad;","import React, { useState, useEffect, useMemo, useContext } from 'react';\nimport { useNutrition } from '../../context/NutritionContext';\nimport { AuthContext } from '../../context/AuthContext';\nimport { motion } from 'framer-motion';\nimport { FaBullseye, FaChartLine, FaFire } from 'react-icons/fa';\nimport StatCard from './StatCard';\nimport CalorieTrendChart from './CalorieTrendChart';\nimport MacroPieChart from './MacroPieChart';\nimport MonarchsRoad from './MonarchsRoad/MonarchsRoad';\nimport './NutritionProgress.css';\n\n// GoalSetter sub-component\nconst GoalSetter = () => {\n    const { user, updateGoals } = useContext(AuthContext);\n    const { setNutritionGoals } = useNutrition(); // Get setNutritionGoals from NutritionContext\n    const [goals, setGoals] = useState({ calorieGoal: 2200, proteinGoal: 150, carbGoal: 250, fatGoal: 70 });\n    const [status, setStatus] = useState('');\n    const [isLoading, setIsLoading] = useState(false); // Add loading state\n\n    useEffect(() => {\n        if (user && user.nutritionGoals) {\n            setGoals(user.nutritionGoals);\n        }\n    }, [user]);\n\n    const onChange = e => setGoals({ ...goals, [e.target.name]: e.target.value });\n\n    const onSubmit = async (e) => {\n        e.preventDefault();\n        setIsLoading(true); // Set loading to true\n        const result = await updateGoals(goals);\n        if (result.success) {\n            // Update context with new goals\n            setNutritionGoals({\n                calories: parseInt(goals.calorieGoal),\n                protein: parseInt(goals.proteinGoal),\n                fat: parseInt(goals.fatGoal),\n                carbs: parseInt(goals.carbGoal)\n            });\n            setStatus('Goals updated!');\n        } else {\n            setStatus(result.error);\n        }\n        setIsLoading(false); // Set loading to false\n        setTimeout(() => setStatus(''), 3000);\n    };\n\n    return (\n        <motion.form onSubmit={onSubmit} className=\"goal-setter-form\" initial={{ opacity: 0, y: -8 }} animate={{ opacity: 1, y: 0 }}>\n            <div className=\"goal-inputs-grid\">\n                <div className=\"goal-field\">\n                    <label>Daily Calories</label>\n                    <div className=\"input-with-icon\">\n                        <FaFire className=\"input-icon\" style={{ color: '#ff007a' }} />\n                        <input type=\"number\" name=\"calorieGoal\" value={goals.calorieGoal} onChange={onChange} />\n                        <span className=\"unit\">kcal</span>\n                    </div>\n                </div>\n                <div className=\"goal-field\">\n                    <label>Protein</label>\n                    <div className=\"input-with-icon\">\n                        <div className=\"dot\" style={{ background: '#adff2f' }}></div>\n                        <input type=\"number\" name=\"proteinGoal\" value={goals.proteinGoal} onChange={onChange} />\n                        <span className=\"unit\">g</span>\n                    </div>\n                </div>\n                <div className=\"goal-field\">\n                    <label>Carbohydrates</label>\n                    <div className=\"input-with-icon\">\n                        <div className=\"dot\" style={{ background: '#ff9f40' }}></div>\n                        <input type=\"number\" name=\"carbGoal\" value={goals.carbGoal} onChange={onChange} />\n                        <span className=\"unit\">g</span>\n                    </div>\n                </div>\n                <div className=\"goal-field\">\n                    <label>Fats</label>\n                    <div className=\"input-with-icon\">\n                        <div className=\"dot\" style={{ background: '#8884d8' }}></div>\n                        <input type=\"number\" name=\"fatGoal\" value={goals.fatGoal} onChange={onChange} />\n                        <span className=\"unit\">g</span>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"form-actions\">\n                <motion.button\n                    type=\"submit\"\n                    whileHover={{ scale: 1.02, boxShadow: '0 0 15px rgba(118, 75, 224, 0.4)' }}\n                    whileTap={{ scale: 0.98 }}\n                    className=\"set-goals-btn\"\n                    disabled={isLoading}\n                >\n                    {isLoading ? 'Updating...' : 'Update Targets'}\n                </motion.button>\n                {status && <motion.span className=\"status-message\" initial={{ opacity: 0 }} animate={{ opacity: 1 }}>{status}</motion.span>}\n            </div>\n        </motion.form>\n    );\n};\n\n// Main Progress Page Component\nconst NutritionProgress = () => {\n    const { user } = useContext(AuthContext);\n    const { progressData, getProgressData, loading } = useNutrition();\n    const [period, setPeriod] = useState(30);\n    const { resetStreak } = useContext(AuthContext); // Get the new function\n\n    useEffect(() => {\n        if (user) { // Only fetch data if the user is loaded\n            getProgressData(period);\n        }\n    }, [period, getProgressData, user]);\n\n    const stats = useMemo(() => {\n        if (!progressData || progressData.length === 0) {\n            return { avgCalories: 0, avgProtein: 0, avgCarbs: 0, avgFat: 0 };\n        }\n        const total = progressData.reduce((acc, day) => {\n            acc.calories += day.totalCalories;\n            acc.protein += day.totalProtein;\n            acc.carbs += day.totalCarbs;\n            acc.fat += day.totalFat;\n            return acc;\n        }, { calories: 0, protein: 0, carbs: 0, fat: 0 });\n\n        const count = progressData.length;\n        return {\n            avgCalories: total.calories / count,\n            avgProtein: total.protein / count,\n            avgCarbs: total.carbs / count,\n            avgFat: total.fat / count,\n        };\n    }, [progressData]);\n\n    return (\n        <motion.div className=\"nutrition-progress-container\" initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\n            <motion.section className=\"progress-section targets-section\" initial={{ y: -12 }} animate={{ y: 0 }}>\n                <div className=\"section-title-group\">\n                    <FaBullseye className=\"section-icon\" />\n                    <h3>Set Your Targets</h3>\n                </div>\n                <GoalSetter />\n            </motion.section>\n\n            <motion.section className=\"progress-section\" initial={{ y: 12 }} animate={{ y: 0 }}>\n                <div className=\"section-header\">\n                    <div className=\"section-title-group\">\n                        <FaChartLine className=\"section-icon\" />\n                        <h3>Performance Analysis</h3>\n                    </div>\n                    <div className=\"period-selector\">\n                        <motion.button whileHover={{ scale: 1.05 }} onClick={() => setPeriod(7)} className={period === 7 ? 'active' : ''}>7 Days</motion.button>\n                        <motion.button whileHover={{ scale: 1.05 }} onClick={() => setPeriod(30)} className={period === 30 ? 'active' : ''}>30 Days</motion.button>\n                    </div>\n                </div>\n                {loading && <p className=\"loading-msg\">Analyzing data...</p>}\n                {!loading && progressData && user && (\n                    <div className=\"charts-grid\">\n                        <div className=\"stat-cards-grid\">\n                            <StatCard label=\"Avg. Daily Calories\" value={stats.avgCalories.toFixed(0)} unit=\"kcal\" />\n                            <StatCard label=\"Avg. Daily Protein\" value={stats.avgProtein.toFixed(1)} unit=\"g\" />\n                            <StatCard label=\"Avg. Daily Carbs\" value={stats.avgCarbs.toFixed(1)} unit=\"g\" />\n                            <StatCard label=\"Avg. Daily Fat\" value={stats.avgFat.toFixed(1)} unit=\"g\" />\n                        </div>\n\n                        <motion.div className=\"chart-container\" initial={{ scale: 0.98 }} animate={{ scale: 1 }}>\n                            <h4><FaFire /> Calorie Trend</h4>\n                            <CalorieTrendChart data={progressData} goal={user.nutritionGoals?.calorieGoal || 2200} />\n                        </motion.div>\n\n                        <motion.div className=\"chart-container\" initial={{ scale: 0.98 }} animate={{ scale: 1 }}>\n                            <h4>Macro Breakdown</h4>\n                            <MacroPieChart data={stats} />\n                        </motion.div>\n\n                        <motion.div className=\"chart-container full-width\" initial={{ scale: 0.98 }} animate={{ scale: 1 }}>\n                            <div className=\"consistency-header\">\n                                <h4>Logging Consistency</h4>\n                                <motion.button onClick={resetStreak} whileHover={{ scale: 1.05 }} className=\"reset-streak-btn\">Reset Streak</motion.button>\n                            </div>\n                            <MonarchsRoad\n                                data={progressData}\n                                user={user}\n                                goal={user.nutritionGoals?.calorieGoal || 2200}\n                            />\n                        </motion.div>\n                    </div>\n                )}\n                {!loading && (!progressData || progressData.length === 0) && <p className=\"no-data-msg\">No data to analyze. Start logging meals to see your progress!</p>}\n            </motion.section>\n        </motion.div>\n    );\n};\n\nexport default NutritionProgress;","// frontend/src/components/NutritionParticles.js\r\nimport React, { useCallback } from 'react';\r\nimport Particles from \"react-tsparticles\";\r\nimport { loadSlim } from \"tsparticles-slim\";\r\n\r\nconst NutritionParticles = () => {\r\n    const particlesInit = useCallback(async (engine) => {\r\n        await loadSlim(engine);\r\n    }, []);\r\n\r\n    const options = React.useMemo(() => ({\r\n        fullScreen: {\r\n            enable: true,\r\n            zIndex: 0\r\n        },\r\n        particles: {\r\n            number: {\r\n                value: 30, // Decreased density\r\n                density: { enable: true, value_area: 800 }\r\n            },\r\n            color: { value: \"#ffffff\" },\r\n            shape: {\r\n                type: \"image\",\r\n                image: [\r\n                    {\r\n                        src: \"/icons/nutrition/heartbeat.svg\",\r\n                        width: 100,\r\n                        height: 100\r\n                    },\r\n                    {\r\n                        src: \"/icons/nutrition/water-small.svg\",\r\n                        width: 100,\r\n                        height: 100\r\n                    },\r\n                    {\r\n                        src: \"/icons/nutrition/utensils.svg\",\r\n                        width: 100,\r\n                        height: 100\r\n                    }\r\n                ]\r\n            },\r\n            opacity: { value: 1, random: false },\r\n            size: { value: 14, random: true }, // Slightly smaller\r\n            links: {\r\n                enable: true,\r\n                distance: 100, // Matched Dashboard\r\n                color: \"#ffffff\", // Matched Dashboard\r\n                opacity: 0.6, // Matched Dashboard\r\n                width: 2, // Matched Dashboard\r\n            },\r\n            move: {\r\n                enable: true,\r\n                speed: 0.65, // Matched Dashboard\r\n                direction: \"none\",\r\n                out_mode: \"out\",\r\n            },\r\n        },\r\n        interactivity: {\r\n            events: {\r\n                onhover: {\r\n                    enable: true,\r\n                    mode: \"grab\", // Matched Dashboard\r\n                },\r\n            },\r\n            modes: {\r\n                grab: {\r\n                    distance: 200, // Matched Dashboard\r\n                    links: {\r\n                        opacity: 1,\r\n                        color: \"#14b8a6\" // Changed to Teal for Nutrition theme, but kept behavior\r\n                    }\r\n                },\r\n            },\r\n        },\r\n        detectRetina: true,\r\n    }), []);\r\n\r\n    return <Particles id=\"nutrition-particles\" init={particlesInit} options={options} />;\r\n};\r\n\r\nexport default NutritionParticles;\r\n","import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { FaChevronLeft, FaChevronRight, FaCalendarAlt } from 'react-icons/fa';\nimport { useNutrition } from '../../context/NutritionContext';\nimport NutritionSummary from '../../components/nutrition/NutritionSummary';\nimport NutritionLogger from '../../components/nutrition/NutritionLogger';\nimport NutritionHistory from '../../components/nutrition/NutritionHistory';\nimport HydrationTracker from '../../components/nutrition/HydrationTracker';\nimport NutritionProgress from '../../components/nutrition/NutritionProgress';\nimport BackButton from '../../components/common/BackButton';\nimport NutritionParticles from '../../components/NutritionParticles';\nimport './NutritionPage.css';\n\nconst NutritionPage = () => {\n    const [activeTab, setActiveTab] = useState('summary');\n    const [isInitialLoad, setIsInitialLoad] = useState(true);\n    const { selectedDate, setDate, getMealsForDate, getHydrationForDate } = useNutrition();\n\n    useEffect(() => {\n        const fetchData = async () => {\n            await Promise.all([\n                getMealsForDate(selectedDate),\n                getHydrationForDate(selectedDate)\n            ]);\n            setIsInitialLoad(false);\n        };\n        fetchData();\n    }, [selectedDate, getMealsForDate, getHydrationForDate]);\n\n    const handleDateChange = (daysToAdd) => {\n        const newDate = new Date(selectedDate);\n        newDate.setDate(newDate.getDate() + daysToAdd);\n        setDate(newDate);\n    };\n\n    const isToday = (date) => {\n        const today = new Date();\n        return date.toDateString() === today.toDateString();\n    };\n\n    const tabs = [\n        { id: 'summary', label: 'Summary' },\n        { id: 'logger', label: 'Log Meal' },\n        { id: 'history', label: 'History' },\n        { id: 'hydration', label: 'Hydration' },\n        { id: 'progress', label: 'Progress' }\n    ];\n\n    const renderTabContent = () => {\n        switch (activeTab) {\n            case 'summary':\n                return <NutritionSummary setActiveTab={setActiveTab} />;\n            case 'logger':\n                return <NutritionLogger selectedDate={selectedDate} />;\n            case 'history':\n                return <NutritionHistory selectedDate={selectedDate} handleDateChange={handleDateChange} isToday={isToday} />;\n            case 'hydration':\n                return <HydrationTracker />;\n            case 'progress':\n                return <NutritionProgress />;\n            default:\n                return <NutritionSummary setActiveTab={setActiveTab} />;\n        }\n    };\n\n    return (\n        <div className=\"nutrition-page system-ui relative\">\n            {activeTab === 'summary' && <NutritionParticles />}\n\n            {/* Loading overlay for cold start / initial fetch */}\n            <AnimatePresence>\n                {isInitialLoad && (\n                    <motion.div\n                        className=\"nutrition-loading-overlay\"\n                        initial={{ opacity: 1 }}\n                        exit={{ opacity: 0 }}\n                        transition={{ duration: 0.3 }}\n                    >\n                        <div className=\"loading-spinner\"></div>\n                        <p>Loading Nutrition Data...</p>\n                    </motion.div>\n                )}\n            </AnimatePresence>\n\n            <motion.header className=\"nutrition-top\" initial={{ opacity: 0, y: -8 }} animate={{ opacity: 1, y: 0 }}>\n                <div className=\"nutrition-header-left\">\n                    <div>\n                        <h2>Nutrition Center</h2>\n                        <p className=\"sub\">Track meals, hydration and goals</p>\n                    </div>\n                </div>\n                <div className=\"nutrition-header-right\">\n                    <div className=\"date-navigator-glass\">\n                        <motion.button\n                            whileHover={{ scale: 1.1, x: -2 }}\n                            whileTap={{ scale: 0.95 }}\n                            onClick={() => handleDateChange(-1)}\n                            className=\"nav-icon-btn\"\n                        >\n                            <FaChevronLeft />\n                        </motion.button>\n\n                        <div className=\"current-date-display\">\n                            <FaCalendarAlt className=\"calendar-icon\" />\n                            <h3>{new Date(selectedDate).toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' })}</h3>\n                        </div>\n\n                        <motion.button\n                            whileHover={{ scale: 1.1, x: 2 }}\n                            whileTap={{ scale: 0.95 }}\n                            onClick={() => handleDateChange(1)}\n                            className=\"nav-icon-btn\"\n                        >\n                            <FaChevronRight />\n                        </motion.button>\n                    </div>\n                    <BackButton />\n                </div>\n            </motion.header>\n\n            <nav className=\"nutrition-tabs\" aria-label=\"Nutrition tabs\">\n                {tabs.map(tab => (\n                    <motion.button\n                        key={tab.id}\n                        className={tab.id === activeTab ? 'active' : ''}\n                        onClick={() => setActiveTab(tab.id)}\n                        whileHover={{ scale: 1.02 }}\n                        whileTap={{ scale: 0.98 }}\n                    >\n                        {tab.label}\n                    </motion.button>\n                ))}\n            </nav>\n\n            <main className=\"tab-content\">\n                {renderTabContent()}\n            </main>\n        </div>\n    );\n};\n\nexport default NutritionPage;"],"names":["_ref","label","className","navigate","useNavigate","_jsxs","motion","button","concat","onClick","whileHover","x","whileTap","scale","children","_jsx","FaArrowLeft","RING_CONFIG","goal","color","getAngle","value","Math","min","DailyProgressRings","nutritionLogs","hydrationLogs","nutritionGoals","hydrationGoal","useNutrition","dailyTotals","useMemo","totals","calories","protein","fat","carbs","water","Array","isArray","forEach","log","items","item","Number","carbohydrates","reduce","total","amount","isOverLimit","calorieColor","calorieStatusClass","roundedCalories","round","calorieFontSize","numDigits","String","length","getDynamicFontSize","ResponsiveContainer","width","height","PieChart","Pie","data","dataKey","cx","cy","innerRadius","outerRadius","fill","startAngle","endAngle","isAnimationActive","stroke","cornerRadius","Cell","style","fontSize","setActiveTab","FaClipboardList","FaHistory","FaTint","FaChartPie","backgroundColor","ChartJS","register","RadialLinearScale","PointElement","LineElement","Filler","Tooltip","Legend","getFoodIcon","name","n","toLowerCase","includes","FaEgg","FaBreadSlice","FaLeaf","FaAppleAlt","FaHamburger","FaFish","FaPizzaSlice","FaCarrot","FaUtensils","getDotColor","selectedDate","addMeal","loading","getRecentItems","recipes","getRecipes","useContext","RecipeContext","calculateDailyXP","useLevelUp","token","AuthContext","setItems","useState","recentItems","setRecentItems","mealType","setMealType","customForm","setCustomForm","foodName","showCustomModal","setShowCustomModal","visibleRecentCount","setVisibleRecentCount","modalTab","setModalTab","historySearch","setHistorySearch","useEffect","isMounted","then","closeCustomModal","loggedTotals","acc","it","div","initial","opacity","animate","map","t","FaSearch","type","placeholder","readOnly","alert","slice","idx","newItem","tempId","Date","now","random","servingSize","servingUnit","icon","prev","handleAddRecent","FaPlus","_id","_Fragment","borderColor","handleRemoveItem","index","filter","_","i","FaTimes","openCustomModal","handleSubmit","year","getFullYear","month","getMonth","padStart","day","getDate","mealData","date","disabled","AnimatePresence","exit","y","transition","stiffness","damping","tab","onChange","e","_objectSpread","target","autoFocus","preventDefault","handleSelectHistoryItem","recipe","rCals","s","recipeItems","handleLoadRecipe","FaBookOpen","FaGem","FaWater","FaDotCircle","viewBox","r","strokeDasharray","strokeDashoffset","transform","meal","onClose","updateMeal","mealTitle","setMealTitle","mealName","_ref2","handleItemChange","event","updatedItems","onSubmit","htmlFor","id","required","handleAddItem","NutritionHistory","error","deleteMeal","editingMeal","setEditingMeal","addRecipe","goals","FaFire","toFixed","FaBullseye","delay","recipeName","prompt","handleSaveAsRecipe","title","FaSave","FaEdit","FaTrash","HiViewGrid","EditMealModal","HydrationTracker","addHydration","getHydrationForDate","deleteHydration","setHydrationGoal","customAmount","setCustomAmount","isAnimating","setIsAnimating","totalIntake","progressPercent","handleAddWater","numAmount","parseInt","setTimeout","handleSetGoal","newGoal","numGoal","PI","reverse","FaClock","createdAt","toLocaleTimeString","hour","minute","unit","CustomTooltip","active","payload","background","border","borderRadius","padding","marginBottom","fontWeight","LineChart","margin","top","right","left","bottom","CartesianGrid","vertical","XAxis","tickLine","axisLine","tick","minTickGap","YAxis","content","cursor","strokeWidth","iconType","wrapperStyle","paddingTop","ReferenceLine","Line","dot","activeDot","animationDuration","COLORS","chartData","avgProtein","avgCarbs","avgFat","paddingAngle","nameKey","entry","React","status","statusClass","user","pathData","period","streakStartDate","startDate","today","diffTime","abs","daysDiff","ceil","loggedDataMap","Map","road","setDate","dateString","toISOString","split","dayNumber","has","dayData","get","effectiveGoal","totalCalories","frequency","sin","push","roadWidth","stone","PathStone","GoalSetter","updateGoals","setNutritionGoals","setGoals","calorieGoal","proteinGoal","carbGoal","fatGoal","setStatus","isLoading","setIsLoading","form","async","result","success","boxShadow","span","NutritionProgress","_user$nutritionGoals","_user$nutritionGoals2","progressData","getProgressData","setPeriod","resetStreak","stats","avgCalories","totalProtein","totalCarbs","totalFat","count","section","FaChartLine","StatCard","CalorieTrendChart","MacroPieChart","MonarchsRoad","NutritionParticles","particlesInit","useCallback","loadSlim","engine","options","fullScreen","enable","zIndex","particles","number","density","value_area","shape","image","src","size","links","distance","move","speed","direction","out_mode","interactivity","events","onhover","mode","modes","grab","detectRetina","Particles","init","NutritionPage","activeTab","isInitialLoad","setIsInitialLoad","getMealsForDate","Promise","all","fetchData","handleDateChange","daysToAdd","newDate","isToday","toDateString","duration","header","FaChevronLeft","FaCalendarAlt","toLocaleDateString","weekday","FaChevronRight","BackButton","renderTabContent","NutritionSummary","NutritionLogger"],"sourceRoot":""}